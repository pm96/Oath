0ce3d32e5a4287176aa6ec9c154744b2
_getJestObj().mock("firebase/firestore", function () {
  return {
    addDoc: jest.fn(),
    getDocs: jest.fn(),
    query: jest.fn(),
    where: jest.fn(),
    orderBy: jest.fn(),
    limit: jest.fn(),
    onSnapshot: jest.fn(),
    serverTimestamp: jest.fn(function () {
      return {
        seconds: Date.now() / 1000
      };
    }),
    Timestamp: {
      fromDate: jest.fn(function (date) {
        return {
          toDate: function toDate() {
            return date;
          },
          seconds: date.getTime() / 1000,
          nanoseconds: 0
        };
      })
    }
  };
});
_getJestObj().mock("../services/firebase/collections", function () {
  return {
    getNudgesCollection: jest.fn(function () {
      return {
        path: "test-collection"
      };
    })
  };
});
_getJestObj().mock("../utils/errorHandling", function () {
  return {
    getUserFriendlyErrorMessage: jest.fn(function (error) {
      return error.message || "Unknown error";
    }),
    retryWithBackoff: jest.fn(function () {
      var _ref = (0, _asyncToGenerator2.default)(function* (fn) {
        return yield fn();
      });
      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }())
  };
});
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var fc = _interopRequireWildcard(require("fast-check"));
var _nudgeService = require("../services/firebase/nudgeService");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe("Nudge Service Property-Based Tests", function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe("Property 9: Nudge document creation completeness", function () {
    it("should create nudge documents with all required fields", (0, _asyncToGenerator2.default)(function* () {
      var mockAddDoc = require("firebase/firestore").addDoc;
      mockAddDoc.mockResolvedValue({
        id: "test-nudge-id"
      });
      var mockGetDocs = require("firebase/firestore").getDocs;
      mockGetDocs.mockResolvedValue({
        docs: []
      });
      yield fc.assert(fc.asyncProperty(fc.record({
        senderId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        senderName: fc.string({
          minLength: 1,
          maxLength: 100
        }),
        receiverId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalDescription: fc.string({
          minLength: 1,
          maxLength: 500
        })
      }), function () {
        var _ref3 = (0, _asyncToGenerator2.default)(function* (input) {
          fc.pre(input.senderId !== input.receiverId);
          yield (0, _nudgeService.sendNudge)(input);
          expect(mockAddDoc).toHaveBeenCalledWith(expect.anything(), expect.objectContaining({
            senderId: input.senderId,
            senderName: input.senderName,
            receiverId: input.receiverId,
            goalId: input.goalId,
            goalDescription: input.goalDescription,
            timestamp: expect.anything(),
            cooldownUntil: expect.anything(),
            createdAt: expect.anything()
          }));
          var callArgs = mockAddDoc.mock.calls[mockAddDoc.mock.calls.length - 1];
          var nudgeData = callArgs[1];
          expect(nudgeData).toHaveProperty("senderId");
          expect(nudgeData).toHaveProperty("senderName");
          expect(nudgeData).toHaveProperty("receiverId");
          expect(nudgeData).toHaveProperty("goalId");
          expect(nudgeData).toHaveProperty("goalDescription");
          expect(nudgeData).toHaveProperty("timestamp");
          expect(nudgeData).toHaveProperty("cooldownUntil");
          expect(nudgeData).toHaveProperty("createdAt");
          expect(nudgeData.senderId).toBe(input.senderId);
          expect(nudgeData.senderName).toBe(input.senderName);
          expect(nudgeData.receiverId).toBe(input.receiverId);
          expect(nudgeData.goalId).toBe(input.goalId);
          expect(nudgeData.goalDescription).toBe(input.goalDescription);
        });
        return function (_x2) {
          return _ref3.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
    it("should reject nudge creation with missing required fields", (0, _asyncToGenerator2.default)(function* () {
      yield fc.assert(fc.asyncProperty(fc.record({
        senderId: fc.option(fc.string(), {
          nil: ""
        }),
        senderName: fc.option(fc.string(), {
          nil: ""
        }),
        receiverId: fc.option(fc.string(), {
          nil: ""
        }),
        goalId: fc.option(fc.string(), {
          nil: ""
        }),
        goalDescription: fc.option(fc.string(), {
          nil: ""
        })
      }), function () {
        var _ref5 = (0, _asyncToGenerator2.default)(function* (input) {
          var hasAllFields = input.senderId && input.senderName && input.receiverId && input.goalId && input.goalDescription && input.senderId !== input.receiverId;
          fc.pre(!hasAllFields);
          yield expect((0, _nudgeService.sendNudge)(input)).rejects.toThrow();
        });
        return function (_x3) {
          return _ref5.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
    it("should prevent self-nudging", (0, _asyncToGenerator2.default)(function* () {
      yield fc.assert(fc.asyncProperty(fc.record({
        userId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        senderName: fc.string({
          minLength: 1,
          maxLength: 100
        }),
        goalId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalDescription: fc.string({
          minLength: 1,
          maxLength: 500
        })
      }), function () {
        var _ref8 = (0, _asyncToGenerator2.default)(function* (_ref7) {
          var userId = _ref7.userId,
            senderName = _ref7.senderName,
            goalId = _ref7.goalId,
            goalDescription = _ref7.goalDescription;
          var input = {
            senderId: userId,
            senderName: senderName,
            receiverId: userId,
            goalId: goalId,
            goalDescription: goalDescription
          };
          yield expect((0, _nudgeService.sendNudge)(input)).rejects.toThrow("Cannot nudge yourself");
        });
        return function (_x4) {
          return _ref8.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
  });
  describe("Property 12: Nudge cooldown enforcement", function () {
    it("should enforce 1-hour cooldown period", (0, _asyncToGenerator2.default)(function* () {
      var mockGetDocs = require("firebase/firestore").getDocs;
      yield fc.assert(fc.asyncProperty(fc.record({
        userId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        minutesAgo: fc.integer({
          min: 1,
          max: 59
        })
      }), function () {
        var _ref1 = (0, _asyncToGenerator2.default)(function* (_ref0) {
          var userId = _ref0.userId,
            goalId = _ref0.goalId,
            minutesAgo = _ref0.minutesAgo;
          var now = new Date();
          var nudgeTime = new Date(now.getTime() - minutesAgo * 60 * 1000);
          var cooldownEnd = new Date(nudgeTime.getTime() + 60 * 60 * 1000);
          mockGetDocs.mockResolvedValue({
            docs: [{
              data: function data() {
                return {
                  goalId: goalId,
                  cooldownUntil: {
                    toDate: function toDate() {
                      return cooldownEnd;
                    }
                  }
                };
              }
            }]
          });
          var cooldowns = yield (0, _nudgeService.getNudgeCooldowns)(userId);
          var canNudge = yield (0, _nudgeService.canSendNudge)(userId, goalId);
          var remainingMinutes = yield (0, _nudgeService.getRemainingCooldownMinutes)(userId, goalId);
          expect(cooldowns.has(goalId)).toBe(true);
          expect(canNudge).toBe(false);
          expect(remainingMinutes).toBeGreaterThan(0);
          expect(remainingMinutes).toBeLessThanOrEqual(60);
        });
        return function (_x5) {
          return _ref1.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
    it("should allow nudging after cooldown expires", (0, _asyncToGenerator2.default)(function* () {
      var mockGetDocs = require("firebase/firestore").getDocs;
      yield fc.assert(fc.asyncProperty(fc.record({
        userId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        hoursAgo: fc.integer({
          min: 2,
          max: 24
        })
      }), function () {
        var _ref12 = (0, _asyncToGenerator2.default)(function* (_ref11) {
          var userId = _ref11.userId,
            goalId = _ref11.goalId,
            hoursAgo = _ref11.hoursAgo;
          var now = new Date();
          var nudgeTime = new Date(now.getTime() - hoursAgo * 60 * 60 * 1000);
          var cooldownEnd = new Date(nudgeTime.getTime() + 60 * 60 * 1000);
          mockGetDocs.mockResolvedValue({
            docs: []
          });
          var cooldowns = yield (0, _nudgeService.getNudgeCooldowns)(userId);
          var canNudge = yield (0, _nudgeService.canSendNudge)(userId, goalId);
          var remainingMinutes = yield (0, _nudgeService.getRemainingCooldownMinutes)(userId, goalId);
          expect(cooldowns.has(goalId)).toBe(false);
          expect(canNudge).toBe(true);
          expect(remainingMinutes).toBe(0);
        });
        return function (_x6) {
          return _ref12.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
  });
  describe("Property 13: Rapid nudge prevention", function () {
    it("should prevent rapid nudging with appropriate error message", (0, _asyncToGenerator2.default)(function* () {
      var mockAddDoc = require("firebase/firestore").addDoc;
      var mockGetDocs = require("firebase/firestore").getDocs;
      yield fc.assert(fc.asyncProperty(fc.record({
        senderId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        senderName: fc.string({
          minLength: 1,
          maxLength: 100
        }),
        receiverId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalDescription: fc.string({
          minLength: 1,
          maxLength: 500
        }),
        minutesAgo: fc.integer({
          min: 1,
          max: 59
        })
      }), function () {
        var _ref14 = (0, _asyncToGenerator2.default)(function* (input) {
          fc.pre(input.senderId !== input.receiverId);
          var now = new Date();
          var nudgeTime = new Date(now.getTime() - input.minutesAgo * 60 * 1000);
          var cooldownEnd = new Date(nudgeTime.getTime() + 60 * 60 * 1000);
          mockGetDocs.mockResolvedValue({
            docs: [{
              data: function data() {
                return {
                  goalId: input.goalId,
                  cooldownUntil: {
                    toDate: function toDate() {
                      return cooldownEnd;
                    }
                  }
                };
              }
            }]
          });
          var nudgeInput = {
            senderId: input.senderId,
            senderName: input.senderName,
            receiverId: input.receiverId,
            goalId: input.goalId,
            goalDescription: input.goalDescription
          };
          yield expect((0, _nudgeService.sendNudge)(nudgeInput)).rejects.toThrow(/Already nudged - wait \d+m/);
          expect(mockAddDoc).not.toHaveBeenCalled();
        });
        return function (_x7) {
          return _ref14.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
    it("should show correct remaining time in error message", (0, _asyncToGenerator2.default)(function* () {
      var mockGetDocs = require("firebase/firestore").getDocs;
      yield fc.assert(fc.asyncProperty(fc.record({
        senderId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        senderName: fc.string({
          minLength: 1,
          maxLength: 100
        }),
        receiverId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalId: fc.string({
          minLength: 1,
          maxLength: 50
        }),
        goalDescription: fc.string({
          minLength: 1,
          maxLength: 500
        }),
        minutesRemaining: fc.integer({
          min: 1,
          max: 60
        })
      }), function () {
        var _ref16 = (0, _asyncToGenerator2.default)(function* (input) {
          fc.pre(input.senderId !== input.receiverId);
          var now = new Date();
          var cooldownEnd = new Date(now.getTime() + input.minutesRemaining * 60 * 1000);
          mockGetDocs.mockResolvedValue({
            docs: [{
              data: function data() {
                return {
                  goalId: input.goalId,
                  cooldownUntil: {
                    toDate: function toDate() {
                      return cooldownEnd;
                    }
                  }
                };
              }
            }]
          });
          var nudgeInput = {
            senderId: input.senderId,
            senderName: input.senderName,
            receiverId: input.receiverId,
            goalId: input.goalId,
            goalDescription: input.goalDescription
          };
          try {
            yield (0, _nudgeService.sendNudge)(nudgeInput);
            fail("Expected error to be thrown");
          } catch (error) {
            expect(error.message).toMatch(/Already nudged - wait \d+m/);
            var match = error.message.match(/wait (\d+)m/);
            if (match) {
              var errorMinutes = parseInt(match[1]);
              expect(Math.abs(errorMinutes - input.minutesRemaining)).toBeLessThanOrEqual(1);
            }
          }
        });
        return function (_x8) {
          return _ref16.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJhZGREb2MiLCJqZXN0IiwiZm4iLCJnZXREb2NzIiwicXVlcnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJsaW1pdCIsIm9uU25hcHNob3QiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJzZWNvbmRzIiwiRGF0ZSIsIm5vdyIsIlRpbWVzdGFtcCIsImZyb21EYXRlIiwiZGF0ZSIsInRvRGF0ZSIsImdldFRpbWUiLCJuYW5vc2Vjb25kcyIsImdldE51ZGdlc0NvbGxlY3Rpb24iLCJwYXRoIiwiZ2V0VXNlckZyaWVuZGx5RXJyb3JNZXNzYWdlIiwiZXJyb3IiLCJtZXNzYWdlIiwicmV0cnlXaXRoQmFja29mZiIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwiX3giLCJhcHBseSIsImFyZ3VtZW50cyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJmYyIsIl9udWRnZVNlcnZpY2UiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIm1vY2tBZGREb2MiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImlkIiwibW9ja0dldERvY3MiLCJkb2NzIiwiYXNzZXJ0IiwiYXN5bmNQcm9wZXJ0eSIsInJlY29yZCIsInNlbmRlcklkIiwic3RyaW5nIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwic2VuZGVyTmFtZSIsInJlY2VpdmVySWQiLCJnb2FsSWQiLCJnb2FsRGVzY3JpcHRpb24iLCJfcmVmMyIsImlucHV0IiwicHJlIiwic2VuZE51ZGdlIiwiZXhwZWN0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJhbnl0aGluZyIsIm9iamVjdENvbnRhaW5pbmciLCJ0aW1lc3RhbXAiLCJjb29sZG93blVudGlsIiwiY3JlYXRlZEF0IiwiY2FsbEFyZ3MiLCJjYWxscyIsImxlbmd0aCIsIm51ZGdlRGF0YSIsInRvSGF2ZVByb3BlcnR5IiwidG9CZSIsIl94MiIsIm51bVJ1bnMiLCJvcHRpb24iLCJuaWwiLCJfcmVmNSIsImhhc0FsbEZpZWxkcyIsInJlamVjdHMiLCJ0b1Rocm93IiwiX3gzIiwidXNlcklkIiwiX3JlZjgiLCJfcmVmNyIsIl94NCIsIm1pbnV0ZXNBZ28iLCJpbnRlZ2VyIiwibWluIiwibWF4IiwiX3JlZjEiLCJfcmVmMCIsIm51ZGdlVGltZSIsImNvb2xkb3duRW5kIiwiZGF0YSIsImNvb2xkb3ducyIsImdldE51ZGdlQ29vbGRvd25zIiwiY2FuTnVkZ2UiLCJjYW5TZW5kTnVkZ2UiLCJyZW1haW5pbmdNaW51dGVzIiwiZ2V0UmVtYWluaW5nQ29vbGRvd25NaW51dGVzIiwiaGFzIiwidG9CZUdyZWF0ZXJUaGFuIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsIl94NSIsImhvdXJzQWdvIiwiX3JlZjEyIiwiX3JlZjExIiwiX3g2IiwiX3JlZjE0IiwibnVkZ2VJbnB1dCIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJfeDciLCJtaW51dGVzUmVtYWluaW5nIiwiX3JlZjE2IiwiZmFpbCIsInRvTWF0Y2giLCJtYXRjaCIsImVycm9yTWludXRlcyIsInBhcnNlSW50IiwiTWF0aCIsImFicyIsIl94OCJdLCJzb3VyY2VzIjpbIm51ZGdlU2VydmljZS5wcm9wZXJ0eS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJvcGVydHktQmFzZWQgVGVzdHMgZm9yIE51ZGdlIFNlcnZpY2VcbiAqIEZlYXR1cmU6IHNvY2lhbC1udWRnaW5nLWZlZWRcbiAqL1xuXG5pbXBvcnQgKiBhcyBmYyBmcm9tIFwiZmFzdC1jaGVja1wiO1xuaW1wb3J0IHtcbiAgICBjYW5TZW5kTnVkZ2UsXG4gICAgZ2V0TnVkZ2VDb29sZG93bnMsXG4gICAgZ2V0UmVtYWluaW5nQ29vbGRvd25NaW51dGVzLFxuICAgIHNlbmROdWRnZSxcbiAgICBTZW5kTnVkZ2VJbnB1dCxcbn0gZnJvbSBcIi4uL3NlcnZpY2VzL2ZpcmViYXNlL251ZGdlU2VydmljZVwiO1xuXG4vLyBNb2NrIEZpcmViYXNlIGZ1bmN0aW9ucyBmb3IgdGVzdGluZ1xuamVzdC5tb2NrKFwiZmlyZWJhc2UvZmlyZXN0b3JlXCIsICgpID0+ICh7XG4gICAgYWRkRG9jOiBqZXN0LmZuKCksXG4gICAgZ2V0RG9jczogamVzdC5mbigpLFxuICAgIHF1ZXJ5OiBqZXN0LmZuKCksXG4gICAgd2hlcmU6IGplc3QuZm4oKSxcbiAgICBvcmRlckJ5OiBqZXN0LmZuKCksXG4gICAgbGltaXQ6IGplc3QuZm4oKSxcbiAgICBvblNuYXBzaG90OiBqZXN0LmZuKCksXG4gICAgc2VydmVyVGltZXN0YW1wOiBqZXN0LmZuKCgpID0+ICh7IHNlY29uZHM6IERhdGUubm93KCkgLyAxMDAwIH0pKSxcbiAgICBUaW1lc3RhbXA6IHtcbiAgICAgICAgZnJvbURhdGU6IGplc3QuZm4oKGRhdGU6IERhdGUpID0+ICh7XG4gICAgICAgICAgICB0b0RhdGU6ICgpID0+IGRhdGUsXG4gICAgICAgICAgICBzZWNvbmRzOiBkYXRlLmdldFRpbWUoKSAvIDEwMDAsXG4gICAgICAgICAgICBuYW5vc2Vjb25kczogMCxcbiAgICAgICAgfSkpLFxuICAgIH0sXG59KSk7XG5cbmplc3QubW9jayhcIi4uL3NlcnZpY2VzL2ZpcmViYXNlL2NvbGxlY3Rpb25zXCIsICgpID0+ICh7XG4gICAgZ2V0TnVkZ2VzQ29sbGVjdGlvbjogamVzdC5mbigoKSA9PiAoeyBwYXRoOiBcInRlc3QtY29sbGVjdGlvblwiIH0pKSxcbn0pKTtcblxuamVzdC5tb2NrKFwiQC91dGlscy9lcnJvckhhbmRsaW5nXCIsICgpID0+ICh7XG4gICAgZ2V0VXNlckZyaWVuZGx5RXJyb3JNZXNzYWdlOiBqZXN0LmZuKFxuICAgICAgICAoZXJyb3I6IGFueSkgPT4gZXJyb3IubWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3JcIixcbiAgICApLFxuICAgIHJldHJ5V2l0aEJhY2tvZmY6IGplc3QuZm4oYXN5bmMgKGZuOiAoKSA9PiBQcm9taXNlPGFueT4pID0+IGF3YWl0IGZuKCkpLFxufSkpO1xuXG5kZXNjcmliZShcIk51ZGdlIFNlcnZpY2UgUHJvcGVydHktQmFzZWQgVGVzdHNcIiwgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqICoqRmVhdHVyZTogc29jaWFsLW51ZGdpbmctZmVlZCwgUHJvcGVydHkgOTogTnVkZ2UgZG9jdW1lbnQgY3JlYXRpb24gY29tcGxldGVuZXNzKipcbiAgICAgKiAqKlZhbGlkYXRlczogUmVxdWlyZW1lbnRzIDMuMywgOC4xKipcbiAgICAgKi9cbiAgICBkZXNjcmliZShcIlByb3BlcnR5IDk6IE51ZGdlIGRvY3VtZW50IGNyZWF0aW9uIGNvbXBsZXRlbmVzc1wiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBudWRnZSBkb2N1bWVudHMgd2l0aCBhbGwgcmVxdWlyZWQgZmllbGRzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tBZGREb2MgPSByZXF1aXJlKFwiZmlyZWJhc2UvZmlyZXN0b3JlXCIpLmFkZERvYyBhcyBqZXN0Lk1vY2s7XG4gICAgICAgICAgICBtb2NrQWRkRG9jLm1vY2tSZXNvbHZlZFZhbHVlKHsgaWQ6IFwidGVzdC1udWRnZS1pZFwiIH0pO1xuXG4gICAgICAgICAgICAvLyBNb2NrIGVtcHR5IGNvb2xkb3ducyAobm8gZXhpc3RpbmcgbnVkZ2VzKVxuICAgICAgICAgICAgY29uc3QgbW9ja0dldERvY3MgPSByZXF1aXJlKFwiZmlyZWJhc2UvZmlyZXN0b3JlXCIpLmdldERvY3MgYXMgamVzdC5Nb2NrO1xuICAgICAgICAgICAgbW9ja0dldERvY3MubW9ja1Jlc29sdmVkVmFsdWUoeyBkb2NzOiBbXSB9KTtcblxuICAgICAgICAgICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgIGZjLnJlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDEwMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ29hbERlc2NyaXB0aW9uOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAwIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKGlucHV0OiBTZW5kTnVkZ2VJbnB1dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHNlbmRlciBhbmQgcmVjZWl2ZXIgYXJlIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgZmMucHJlKGlucHV0LnNlbmRlcklkICE9PSBpbnB1dC5yZWNlaXZlcklkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZE51ZGdlKGlucHV0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IGFkZERvYyB3YXMgY2FsbGVkIHdpdGggY29ycmVjdCBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChtb2NrQWRkRG9jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QuYW55dGhpbmcoKSwgLy8gY29sbGVjdGlvbiByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcklkOiBpbnB1dC5zZW5kZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogaW5wdXQuc2VuZGVyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJJZDogaW5wdXQucmVjZWl2ZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbElkOiBpbnB1dC5nb2FsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxEZXNjcmlwdGlvbjogaW5wdXQuZ29hbERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGV4cGVjdC5hbnl0aGluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29sZG93blVudGlsOiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBleHBlY3QuYW55dGhpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBhbGwgcmVxdWlyZWQgZmllbGRzIGFyZSBwcmVzZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsQXJncyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0FkZERvYy5tb2NrLmNhbGxzW21vY2tBZGREb2MubW9jay5jYWxscy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51ZGdlRGF0YSA9IGNhbGxBcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobnVkZ2VEYXRhKS50b0hhdmVQcm9wZXJ0eShcInNlbmRlcklkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG51ZGdlRGF0YSkudG9IYXZlUHJvcGVydHkoXCJzZW5kZXJOYW1lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG51ZGdlRGF0YSkudG9IYXZlUHJvcGVydHkoXCJyZWNlaXZlcklkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG51ZGdlRGF0YSkudG9IYXZlUHJvcGVydHkoXCJnb2FsSWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobnVkZ2VEYXRhKS50b0hhdmVQcm9wZXJ0eShcImdvYWxEZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChudWRnZURhdGEpLnRvSGF2ZVByb3BlcnR5KFwidGltZXN0YW1wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG51ZGdlRGF0YSkudG9IYXZlUHJvcGVydHkoXCJjb29sZG93blVudGlsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG51ZGdlRGF0YSkudG9IYXZlUHJvcGVydHkoXCJjcmVhdGVkQXRcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBmaWVsZCB2YWx1ZXMgbWF0Y2ggaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChudWRnZURhdGEuc2VuZGVySWQpLnRvQmUoaW5wdXQuc2VuZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG51ZGdlRGF0YS5zZW5kZXJOYW1lKS50b0JlKGlucHV0LnNlbmRlck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG51ZGdlRGF0YS5yZWNlaXZlcklkKS50b0JlKGlucHV0LnJlY2VpdmVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG51ZGdlRGF0YS5nb2FsSWQpLnRvQmUoaW5wdXQuZ29hbElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChudWRnZURhdGEuZ29hbERlc2NyaXB0aW9uKS50b0JlKGlucHV0LmdvYWxEZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7IG51bVJ1bnM6IDIwIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCByZWplY3QgbnVkZ2UgY3JlYXRpb24gd2l0aCBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICAgICAgICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgZmMucmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcklkOiBmYy5vcHRpb24oZmMuc3RyaW5nKCksIHsgbmlsOiBcIlwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogZmMub3B0aW9uKGZjLnN0cmluZygpLCB7IG5pbDogXCJcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IGZjLm9wdGlvbihmYy5zdHJpbmcoKSwgeyBuaWw6IFwiXCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IGZjLm9wdGlvbihmYy5zdHJpbmcoKSwgeyBuaWw6IFwiXCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBnb2FsRGVzY3JpcHRpb246IGZjLm9wdGlvbihmYy5zdHJpbmcoKSwgeyBuaWw6IFwiXCIgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAoaW5wdXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB0ZXN0IGNhc2VzIHdoZXJlIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBmaWVsZCBpcyBtaXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNBbGxGaWVsZHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnNlbmRlcklkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuc2VuZGVyTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnJlY2VpdmVySWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5nb2FsSWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5nb2FsRGVzY3JpcHRpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZW5kZXJJZCAhPT0gaW5wdXQucmVjZWl2ZXJJZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZmMucHJlKCFoYXNBbGxGaWVsZHMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBleHBlY3Qoc2VuZE51ZGdlKGlucHV0KSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7IG51bVJ1bnM6IDIwIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBwcmV2ZW50IHNlbGYtbnVkZ2luZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICAgICAgICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgZmMucmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDEwMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ29hbERlc2NyaXB0aW9uOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAwIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKHsgdXNlcklkLCBzZW5kZXJOYW1lLCBnb2FsSWQsIGdvYWxEZXNjcmlwdGlvbiB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dDogU2VuZE51ZGdlSW5wdXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVySWQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IHVzZXJJZCwgLy8gU2FtZSBhcyBzZW5kZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhwZWN0KHNlbmROdWRnZShpbnB1dCkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBudWRnZSB5b3Vyc2VsZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHsgbnVtUnVuczogMjAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogKipGZWF0dXJlOiBzb2NpYWwtbnVkZ2luZy1mZWVkLCBQcm9wZXJ0eSAxMjogTnVkZ2UgY29vbGRvd24gZW5mb3JjZW1lbnQqKlxuICAgICAqICoqVmFsaWRhdGVzOiBSZXF1aXJlbWVudHMgNC4xLCA0LjIqKlxuICAgICAqL1xuICAgIGRlc2NyaWJlKFwiUHJvcGVydHkgMTI6IE51ZGdlIGNvb2xkb3duIGVuZm9yY2VtZW50XCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgZW5mb3JjZSAxLWhvdXIgY29vbGRvd24gcGVyaW9kXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tHZXREb2NzID0gcmVxdWlyZShcImZpcmViYXNlL2ZpcmVzdG9yZVwiKS5nZXREb2NzIGFzIGplc3QuTW9jaztcblxuICAgICAgICAgICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgIGZjLnJlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlc0FnbzogZmMuaW50ZWdlcih7IG1pbjogMSwgbWF4OiA1OSB9KSwgLy8gV2l0aGluIDEgaG91clxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKHsgdXNlcklkLCBnb2FsSWQsIG1pbnV0ZXNBZ28gfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51ZGdlVGltZSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgLSBtaW51dGVzQWdvICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb2xkb3duRW5kID0gbmV3IERhdGUobnVkZ2VUaW1lLmdldFRpbWUoKSArIDYwICogNjAgKiAxMDAwKTsgLy8gMSBob3VyIGxhdGVyXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vY2sgZXhpc3RpbmcgbnVkZ2Ugd2l0aGluIGNvb2xkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2NrR2V0RG9jcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29sZG93blVudGlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvRGF0ZTogKCkgPT4gY29vbGRvd25FbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29vbGRvd25zID0gYXdhaXQgZ2V0TnVkZ2VDb29sZG93bnModXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbk51ZGdlID0gYXdhaXQgY2FuU2VuZE51ZGdlKHVzZXJJZCwgZ29hbElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ01pbnV0ZXMgPSBhd2FpdCBnZXRSZW1haW5pbmdDb29sZG93bk1pbnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3VsZCBoYXZlIGNvb2xkb3duIGZvciB0aGlzIGdvYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChjb29sZG93bnMuaGFzKGdvYWxJZCkpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QoY2FuTnVkZ2UpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlbWFpbmluZ01pbnV0ZXMpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZW1haW5pbmdNaW51dGVzKS50b0JlTGVzc1RoYW5PckVxdWFsKDYwKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHsgbnVtUnVuczogMjAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGFsbG93IG51ZGdpbmcgYWZ0ZXIgY29vbGRvd24gZXhwaXJlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2NrR2V0RG9jcyA9IHJlcXVpcmUoXCJmaXJlYmFzZS9maXJlc3RvcmVcIikuZ2V0RG9jcyBhcyBqZXN0Lk1vY2s7XG5cbiAgICAgICAgICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgICAgICAgICAgICBmYy5hc3luY1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICBmYy5yZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzQWdvOiBmYy5pbnRlZ2VyKHsgbWluOiAyLCBtYXg6IDI0IH0pLCAvLyBNb3JlIHRoYW4gMSBob3VyIGFnb1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKHsgdXNlcklkLCBnb2FsSWQsIGhvdXJzQWdvIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudWRnZVRpbWUgPSBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cuZ2V0VGltZSgpIC0gaG91cnNBZ28gKiA2MCAqIDYwICogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29sZG93bkVuZCA9IG5ldyBEYXRlKG51ZGdlVGltZS5nZXRUaW1lKCkgKyA2MCAqIDYwICogMTAwMCk7IC8vIDEgaG91ciBsYXRlciAoZXhwaXJlZClcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW9jayBleHBpcmVkIGNvb2xkb3duIChzaG91bGQgbm90IGJlIHJldHVybmVkIGJ5IHF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0dldERvY3MubW9ja1Jlc29sdmVkVmFsdWUoeyBkb2NzOiBbXSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29vbGRvd25zID0gYXdhaXQgZ2V0TnVkZ2VDb29sZG93bnModXNlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbk51ZGdlID0gYXdhaXQgY2FuU2VuZE51ZGdlKHVzZXJJZCwgZ29hbElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ01pbnV0ZXMgPSBhd2FpdCBnZXRSZW1haW5pbmdDb29sZG93bk1pbnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3VsZCBub3QgaGF2ZSBhY3RpdmUgY29vbGRvd24gZm9yIHRoaXMgZ29hbFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGNvb2xkb3ducy5oYXMoZ29hbElkKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QoY2FuTnVkZ2UpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVtYWluaW5nTWludXRlcykudG9CZSgwKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHsgbnVtUnVuczogMjAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogKipGZWF0dXJlOiBzb2NpYWwtbnVkZ2luZy1mZWVkLCBQcm9wZXJ0eSAxMzogUmFwaWQgbnVkZ2UgcHJldmVudGlvbioqXG4gICAgICogKipWYWxpZGF0ZXM6IFJlcXVpcmVtZW50cyA0LjMqKlxuICAgICAqL1xuICAgIGRlc2NyaWJlKFwiUHJvcGVydHkgMTM6IFJhcGlkIG51ZGdlIHByZXZlbnRpb25cIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBwcmV2ZW50IHJhcGlkIG51ZGdpbmcgd2l0aCBhcHByb3ByaWF0ZSBlcnJvciBtZXNzYWdlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tBZGREb2MgPSByZXF1aXJlKFwiZmlyZWJhc2UvZmlyZXN0b3JlXCIpLmFkZERvYyBhcyBqZXN0Lk1vY2s7XG4gICAgICAgICAgICBjb25zdCBtb2NrR2V0RG9jcyA9IHJlcXVpcmUoXCJmaXJlYmFzZS9maXJlc3RvcmVcIikuZ2V0RG9jcyBhcyBqZXN0Lk1vY2s7XG5cbiAgICAgICAgICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgICAgICAgICAgICBmYy5hc3luY1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICBmYy5yZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVySWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlck5hbWU6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiAxMDAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlcklkOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxEZXNjcmlwdGlvbjogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZXNBZ286IGZjLmludGVnZXIoeyBtaW46IDEsIG1heDogNTkgfSksIC8vIFdpdGhpbiBjb29sZG93blxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMgKGlucHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgc2VuZGVyIGFuZCByZWNlaXZlciBhcmUgZGlmZmVyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5wcmUoaW5wdXQuc2VuZGVySWQgIT09IGlucHV0LnJlY2VpdmVySWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVkZ2VUaW1lID0gbmV3IERhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93LmdldFRpbWUoKSAtIGlucHV0Lm1pbnV0ZXNBZ28gKiA2MCAqIDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29vbGRvd25FbmQgPSBuZXcgRGF0ZShudWRnZVRpbWUuZ2V0VGltZSgpICsgNjAgKiA2MCAqIDEwMDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb2NrIGV4aXN0aW5nIG51ZGdlIHdpdGhpbiBjb29sZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0dldERvY3MubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3M6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IGlucHV0LmdvYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29sZG93blVudGlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvRGF0ZTogKCkgPT4gY29vbGRvd25FbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVkZ2VJbnB1dDogU2VuZE51ZGdlSW5wdXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVySWQ6IGlucHV0LnNlbmRlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlck5hbWU6IGlucHV0LnNlbmRlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJJZDogaW5wdXQucmVjZWl2ZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IGlucHV0LmdvYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsRGVzY3JpcHRpb246IGlucHV0LmdvYWxEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4cGVjdChzZW5kTnVkZ2UobnVkZ2VJbnB1dCkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvQWxyZWFkeSBudWRnZWQgLSB3YWl0IFxcZCttLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBhZGREb2Mgd2FzIG5vdCBjYWxsZWQgZHVlIHRvIGNvb2xkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobW9ja0FkZERvYykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHsgbnVtUnVuczogMjAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHNob3cgY29ycmVjdCByZW1haW5pbmcgdGltZSBpbiBlcnJvciBtZXNzYWdlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tHZXREb2NzID0gcmVxdWlyZShcImZpcmViYXNlL2ZpcmVzdG9yZVwiKS5nZXREb2NzIGFzIGplc3QuTW9jaztcblxuICAgICAgICAgICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgIGZjLnJlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDEwMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ29hbERlc2NyaXB0aW9uOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlc1JlbWFpbmluZzogZmMuaW50ZWdlcih7IG1pbjogMSwgbWF4OiA2MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jIChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHNlbmRlciBhbmQgcmVjZWl2ZXIgYXJlIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgZmMucHJlKGlucHV0LnNlbmRlcklkICE9PSBpbnB1dC5yZWNlaXZlcklkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb2xkb3duRW5kID0gbmV3IERhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93LmdldFRpbWUoKSArIGlucHV0Lm1pbnV0ZXNSZW1haW5pbmcgKiA2MCAqIDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb2NrIGV4aXN0aW5nIG51ZGdlIHdpdGggc3BlY2lmaWMgcmVtYWluaW5nIHRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vY2tHZXREb2NzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbElkOiBpbnB1dC5nb2FsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vbGRvd25VbnRpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0RhdGU6ICgpID0+IGNvb2xkb3duRW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51ZGdlSW5wdXQ6IFNlbmROdWRnZUlucHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcklkOiBpbnB1dC5zZW5kZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJOYW1lOiBpbnB1dC5zZW5kZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IGlucHV0LnJlY2VpdmVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbElkOiBpbnB1dC5nb2FsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbERlc2NyaXB0aW9uOiBpbnB1dC5nb2FsRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmROdWRnZShudWRnZUlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsKFwiRXhwZWN0ZWQgZXJyb3IgdG8gYmUgdGhyb3duXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50b01hdGNoKC9BbHJlYWR5IG51ZGdlZCAtIHdhaXQgXFxkK20vKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIG51bWJlciBmcm9tIHRoZSBlcnJvciBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBlcnJvci5tZXNzYWdlLm1hdGNoKC93YWl0IChcXGQrKW0vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNaW51dGVzID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaG91bGQgYmUgY2xvc2UgdG8gdGhlIGV4cGVjdGVkIHJlbWFpbmluZyB0aW1lICh3aXRoaW4gMSBtaW51dGUgZHVlIHRvIHRpbWluZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZXJyb3JNaW51dGVzIC0gaW5wdXQubWludXRlc1JlbWFpbmluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7IG51bVJ1bnM6IDIwIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFlQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7RUFBQSxPQUFPO0lBQ25DQyxNQUFNLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDakJDLE9BQU8sRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQkUsS0FBSyxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2hCRyxLQUFLLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDaEJJLE9BQU8sRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUMs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