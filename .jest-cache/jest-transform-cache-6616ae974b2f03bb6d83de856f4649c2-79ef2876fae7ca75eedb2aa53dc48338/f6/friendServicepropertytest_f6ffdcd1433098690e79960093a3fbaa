42894cf09fad1af08194a52b82e78379
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var fc = _interopRequireWildcard(require("fast-check"));
function filterSearchResults(query, currentUserId, allUsers) {
  if (!query || query.trim().length === 0) {
    return [];
  }
  var normalizedQuery = query.trim().toLowerCase();
  return allUsers.filter(function (user) {
    if (user.userId === currentUserId) {
      return false;
    }
    var matchesEmail = user.email.toLowerCase().includes(normalizedQuery);
    var matchesName = user.displayName.toLowerCase().includes(normalizedQuery);
    return matchesEmail || matchesName;
  }).map(function (user) {
    return {
      userId: user.userId,
      displayName: user.displayName,
      email: user.email,
      relationshipStatus: "none",
      shameScore: user.shameScore
    };
  });
}
var userIdArb = fc.oneof(fc.constant("user-1"), fc.constant("user-2"), fc.constant("user-3"), fc.constant("user-4"), fc.constant("user-5"));
var emailArb = fc.oneof(fc.constant("john@example.com"), fc.constant("jane@test.com"), fc.constant("bob@demo.org"), fc.constant("alice@sample.net"));
var nameArb = fc.oneof(fc.constant("John Doe"), fc.constant("Jane Smith"), fc.constant("Bob Johnson"), fc.constant("Alice Brown"));
var queryArb = fc.oneof(fc.constant("john"), fc.constant("jane"), fc.constant("test"), fc.constant("example"));
var testUserArb = fc.record({
  userId: userIdArb,
  email: emailArb,
  displayName: nameArb,
  shameScore: fc.integer({
    min: 0,
    max: 10
  })
});
describe("Friend Service Property-Based Tests", function () {
  describe("Property 1: Search results match query", function () {
    it("should return only users matching the query and exclude the current user", function () {
      fc.assert(fc.property(queryArb, userIdArb, fc.array(testUserArb, {
        minLength: 0,
        maxLength: 5
      }), function (query, currentUserId, allUsers) {
        var results = filterSearchResults(query, currentUserId, allUsers);
        var normalizedQuery = query.trim().toLowerCase();
        for (var result of results) {
          var matchesEmail = result.email.toLowerCase().includes(normalizedQuery);
          var matchesName = result.displayName.toLowerCase().includes(normalizedQuery);
          expect(matchesEmail || matchesName).toBe(true);
        }
        var currentUserInResults = results.some(function (r) {
          return r.userId === currentUserId;
        });
        expect(currentUserInResults).toBe(false);
      }), {
        numRuns: 25
      });
    });
    it("should return empty array for empty query", function () {
      fc.assert(fc.property(userIdArb, fc.array(testUserArb, {
        minLength: 0,
        maxLength: 5
      }), function (currentUserId, allUsers) {
        var results = filterSearchResults("", currentUserId, allUsers);
        expect(results).toEqual([]);
      }), {
        numRuns: 25
      });
    });
    it("should perform case-insensitive matching", function () {
      fc.assert(fc.property(queryArb, userIdArb, fc.array(testUserArb, {
        minLength: 0,
        maxLength: 5
      }), function (query, currentUserId, allUsers) {
        var lowerResults = filterSearchResults(query.toLowerCase(), currentUserId, allUsers);
        var upperResults = filterSearchResults(query.toUpperCase(), currentUserId, allUsers);
        var lowerIds = new Set(lowerResults.map(function (r) {
          return r.userId;
        }));
        var upperIds = new Set(upperResults.map(function (r) {
          return r.userId;
        }));
        expect(lowerIds).toEqual(upperIds);
      }), {
        numRuns: 25
      });
    });
  });
  describe("Property 2: Search result display completeness", function () {
    it("should include both displayName and email in all search results", function () {
      fc.assert(fc.property(queryArb, userIdArb, fc.array(testUserArb, {
        minLength: 1,
        maxLength: 5
      }), function (query, currentUserId, allUsers) {
        var results = filterSearchResults(query, currentUserId, allUsers);
        for (var result of results) {
          expect(result.displayName).toBeDefined();
          expect(typeof result.displayName).toBe("string");
          expect(result.displayName.length).toBeGreaterThan(0);
          expect(result.email).toBeDefined();
          expect(typeof result.email).toBe("string");
          expect(result.email.length).toBeGreaterThan(0);
        }
      }), {
        numRuns: 25
      });
    });
  });
  describe("Property 3: Search result relationship status accuracy", function () {
    function determineRelationshipStatus(currentUserId, targetUserId, currentUserFriends, pendingRequests) {
      if (currentUserFriends.includes(targetUserId)) {
        return "friend";
      }
      var sentRequest = pendingRequests.find(function (req) {
        return req.senderId === currentUserId && req.receiverId === targetUserId && req.status === "pending";
      });
      if (sentRequest) {
        return "pending_sent";
      }
      var receivedRequest = pendingRequests.find(function (req) {
        return req.senderId === targetUserId && req.receiverId === currentUserId && req.status === "pending";
      });
      if (receivedRequest) {
        return "pending_received";
      }
      return "none";
    }
    it("should return 'friend' status when user is in friends array", function () {
      fc.assert(fc.property(userIdArb, userIdArb, fc.array(userIdArb, {
        maxLength: 3
      }), function (currentUserId, targetUserId, otherFriends) {
        fc.pre(currentUserId !== targetUserId);
        var friends = [].concat((0, _toConsumableArray2.default)(otherFriends), [targetUserId]);
        var status = determineRelationshipStatus(currentUserId, targetUserId, friends, []);
        expect(status).toBe("friend");
      }), {
        numRuns: 25
      });
    });
    it("should return 'none' when there is no relationship", function () {
      fc.assert(fc.property(userIdArb, userIdArb, fc.array(userIdArb, {
        maxLength: 3
      }), function (currentUserId, targetUserId, friends) {
        fc.pre(currentUserId !== targetUserId);
        fc.pre(!friends.includes(targetUserId));
        var status = determineRelationshipStatus(currentUserId, targetUserId, friends, []);
        expect(status).toBe("none");
      }), {
        numRuns: 25
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmYyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsImZpbHRlclNlYXJjaFJlc3VsdHMiLCJxdWVyeSIsImN1cnJlbnRVc2VySWQiLCJhbGxVc2VycyIsInRyaW0iLCJsZW5ndGgiLCJub3JtYWxpemVkUXVlcnkiLCJ0b0xvd2VyQ2FzZSIsImZpbHRlciIsInVzZXIiLCJ1c2VySWQiLCJtYXRjaGVzRW1haWwiLCJlbWFpbCIsImluY2x1ZGVzIiwibWF0Y2hlc05hbWUiLCJkaXNwbGF5TmFtZSIsIm1hcCIsInJlbGF0aW9uc2hpcFN0YXR1cyIsInNoYW1lU2NvcmUiLCJ1c2VySWRBcmIiLCJvbmVvZiIsImNvbnN0YW50IiwiZW1haWxBcmIiLCJuYW1lQXJiIiwicXVlcnlBcmIiLCJ0ZXN0VXNlckFyYiIsInJlY29yZCIsImludGVnZXIiLCJtaW4iLCJtYXgiLCJkZXNjcmliZSIsIml0IiwiYXNzZXJ0IiwicHJvcGVydHkiLCJhcnJheSIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsInJlc3VsdHMiLCJyZXN1bHQiLCJleHBlY3QiLCJ0b0JlIiwiY3VycmVudFVzZXJJblJlc3VsdHMiLCJzb21lIiwiciIsIm51bVJ1bnMiLCJ0b0VxdWFsIiwibG93ZXJSZXN1bHRzIiwidXBwZXJSZXN1bHRzIiwidG9VcHBlckNhc2UiLCJsb3dlcklkcyIsIlNldCIsInVwcGVySWRzIiwidG9CZURlZmluZWQiLCJ0b0JlR3JlYXRlclRoYW4iLCJkZXRlcm1pbmVSZWxhdGlvbnNoaXBTdGF0dXMiLCJ0YXJnZXRVc2VySWQiLCJjdXJyZW50VXNlckZyaWVuZHMiLCJwZW5kaW5nUmVxdWVzdHMiLCJzZW50UmVxdWVzdCIsImZpbmQiLCJyZXEiLCJzZW5kZXJJZCIsInJlY2VpdmVySWQiLCJzdGF0dXMiLCJyZWNlaXZlZFJlcXVlc3QiLCJvdGhlckZyaWVuZHMiLCJwcmUiLCJmcmllbmRzIiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsImRlZmF1bHQiXSwic291cmNlcyI6WyJmcmllbmRTZXJ2aWNlLnByb3BlcnR5LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQcm9wZXJ0eS1CYXNlZCBUZXN0cyBmb3IgRnJpZW5kIFNlcnZpY2VcbiAqIEZlYXR1cmU6IGZyaWVuZC1tYW5hZ2VtZW50LXVpXG4gKi9cblxuaW1wb3J0ICogYXMgZmMgZnJvbSBcImZhc3QtY2hlY2tcIjtcblxuLyoqXG4gKiAqKkZlYXR1cmU6IGZyaWVuZC1tYW5hZ2VtZW50LXVpLCBQcm9wZXJ0eSAxOiBTZWFyY2ggcmVzdWx0cyBtYXRjaCBxdWVyeSoqXG4gKiAqKlZhbGlkYXRlczogUmVxdWlyZW1lbnRzIDEuMSoqXG4gKi9cblxuaW50ZXJmYWNlIFRlc3RVc2VyIHtcbiAgICB1c2VySWQ6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gICAgc2hhbWVTY29yZTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgVXNlclNlYXJjaFJlc3VsdCB7XG4gICAgdXNlcklkOiBzdHJpbmc7XG4gICAgZGlzcGxheU5hbWU6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHJlbGF0aW9uc2hpcFN0YXR1czogXCJub25lXCIgfCBcImZyaWVuZFwiIHwgXCJwZW5kaW5nX3NlbnRcIiB8IFwicGVuZGluZ19yZWNlaXZlZFwiO1xuICAgIHNoYW1lU2NvcmU/OiBudW1iZXI7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0aGF0IHNpbXVsYXRlcyB0aGUgc2VhcmNoIGZpbHRlcmluZyBsb2dpY1xuZnVuY3Rpb24gZmlsdGVyU2VhcmNoUmVzdWx0cyhcbiAgICBxdWVyeTogc3RyaW5nLFxuICAgIGN1cnJlbnRVc2VySWQ6IHN0cmluZyxcbiAgICBhbGxVc2VyczogVGVzdFVzZXJbXSxcbik6IFVzZXJTZWFyY2hSZXN1bHRbXSB7XG4gICAgaWYgKCFxdWVyeSB8fCBxdWVyeS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBub3JtYWxpemVkUXVlcnkgPSBxdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTtcblxuICAgIHJldHVybiBhbGxVc2Vyc1xuICAgICAgICAuZmlsdGVyKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICBpZiAodXNlci51c2VySWQgPT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzRW1haWwgPSB1c2VyLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobm9ybWFsaXplZFF1ZXJ5KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXNOYW1lID0gdXNlci5kaXNwbGF5TmFtZVxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgLmluY2x1ZGVzKG5vcm1hbGl6ZWRRdWVyeSk7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlc0VtYWlsIHx8IG1hdGNoZXNOYW1lO1xuICAgICAgICB9KVxuICAgICAgICAubWFwKCh1c2VyKSA9PiAoe1xuICAgICAgICAgICAgdXNlcklkOiB1c2VyLnVzZXJJZCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICByZWxhdGlvbnNoaXBTdGF0dXM6IFwibm9uZVwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgc2hhbWVTY29yZTogdXNlci5zaGFtZVNjb3JlLFxuICAgICAgICB9KSk7XG59XG5cbi8vIE9wdGltaXplZCBnZW5lcmF0b3JzIC0gbXVjaCBmYXN0ZXIgdGhhbiBjb21wbGV4IHN0cmluZy91dWlkIGdlbmVyYXRvcnNcbmNvbnN0IHVzZXJJZEFyYiA9IGZjLm9uZW9mKFxuICAgIGZjLmNvbnN0YW50KFwidXNlci0xXCIpLFxuICAgIGZjLmNvbnN0YW50KFwidXNlci0yXCIpLFxuICAgIGZjLmNvbnN0YW50KFwidXNlci0zXCIpLFxuICAgIGZjLmNvbnN0YW50KFwidXNlci00XCIpLFxuICAgIGZjLmNvbnN0YW50KFwidXNlci01XCIpLFxuKTtcblxuY29uc3QgZW1haWxBcmIgPSBmYy5vbmVvZihcbiAgICBmYy5jb25zdGFudChcImpvaG5AZXhhbXBsZS5jb21cIiksXG4gICAgZmMuY29uc3RhbnQoXCJqYW5lQHRlc3QuY29tXCIpLFxuICAgIGZjLmNvbnN0YW50KFwiYm9iQGRlbW8ub3JnXCIpLFxuICAgIGZjLmNvbnN0YW50KFwiYWxpY2VAc2FtcGxlLm5ldFwiKSxcbik7XG5cbmNvbnN0IG5hbWVBcmIgPSBmYy5vbmVvZihcbiAgICBmYy5jb25zdGFudChcIkpvaG4gRG9lXCIpLFxuICAgIGZjLmNvbnN0YW50KFwiSmFuZSBTbWl0aFwiKSxcbiAgICBmYy5jb25zdGFudChcIkJvYiBKb2huc29uXCIpLFxuICAgIGZjLmNvbnN0YW50KFwiQWxpY2UgQnJvd25cIiksXG4pO1xuXG5jb25zdCBxdWVyeUFyYiA9IGZjLm9uZW9mKFxuICAgIGZjLmNvbnN0YW50KFwiam9oblwiKSxcbiAgICBmYy5jb25zdGFudChcImphbmVcIiksXG4gICAgZmMuY29uc3RhbnQoXCJ0ZXN0XCIpLFxuICAgIGZjLmNvbnN0YW50KFwiZXhhbXBsZVwiKSxcbik7XG5cbmNvbnN0IHRlc3RVc2VyQXJiID0gZmMucmVjb3JkKHtcbiAgICB1c2VySWQ6IHVzZXJJZEFyYixcbiAgICBlbWFpbDogZW1haWxBcmIsXG4gICAgZGlzcGxheU5hbWU6IG5hbWVBcmIsXG4gICAgc2hhbWVTY29yZTogZmMuaW50ZWdlcih7IG1pbjogMCwgbWF4OiAxMCB9KSxcbn0pO1xuXG5kZXNjcmliZShcIkZyaWVuZCBTZXJ2aWNlIFByb3BlcnR5LUJhc2VkIFRlc3RzXCIsICgpID0+IHtcbiAgICBkZXNjcmliZShcIlByb3BlcnR5IDE6IFNlYXJjaCByZXN1bHRzIG1hdGNoIHF1ZXJ5XCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgcmV0dXJuIG9ubHkgdXNlcnMgbWF0Y2hpbmcgdGhlIHF1ZXJ5IGFuZCBleGNsdWRlIHRoZSBjdXJyZW50IHVzZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgZmMuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIGZjLnByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUFyYixcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkQXJiLFxuICAgICAgICAgICAgICAgICAgICBmYy5hcnJheSh0ZXN0VXNlckFyYiwgeyBtaW5MZW5ndGg6IDAsIG1heExlbmd0aDogNSB9KSxcbiAgICAgICAgICAgICAgICAgICAgKHF1ZXJ5LCBjdXJyZW50VXNlcklkLCBhbGxVc2VycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGZpbHRlclNlYXJjaFJlc3VsdHMocXVlcnksIGN1cnJlbnRVc2VySWQsIGFsbFVzZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRRdWVyeSA9IHF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlc0VtYWlsID0gcmVzdWx0LmVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhub3JtYWxpemVkUXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXNOYW1lID0gcmVzdWx0LmRpc3BsYXlOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhub3JtYWxpemVkUXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChtYXRjaGVzRW1haWwgfHwgbWF0Y2hlc05hbWUpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVc2VySW5SZXN1bHRzID0gcmVzdWx0cy5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyKSA9PiByLnVzZXJJZCA9PT0gY3VycmVudFVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QoY3VycmVudFVzZXJJblJlc3VsdHMpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgeyBudW1SdW5zOiAyNSB9LCAvLyBSZWR1Y2VkIGZyb20gMTAwIHRvIDI1XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCByZXR1cm4gZW1wdHkgYXJyYXkgZm9yIGVtcHR5IHF1ZXJ5XCIsICgpID0+IHtcbiAgICAgICAgICAgIGZjLmFzc2VydChcbiAgICAgICAgICAgICAgICBmYy5wcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkQXJiLFxuICAgICAgICAgICAgICAgICAgICBmYy5hcnJheSh0ZXN0VXNlckFyYiwgeyBtaW5MZW5ndGg6IDAsIG1heExlbmd0aDogNSB9KSxcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRVc2VySWQsIGFsbFVzZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gZmlsdGVyU2VhcmNoUmVzdWx0cyhcIlwiLCBjdXJyZW50VXNlcklkLCBhbGxVc2Vycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzdWx0cykudG9FcXVhbChbXSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7IG51bVJ1bnM6IDI1IH0sIC8vIFJlZHVjZWQgZnJvbSAxMDAgdG8gMjVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHBlcmZvcm0gY2FzZS1pbnNlbnNpdGl2ZSBtYXRjaGluZ1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBmYy5hc3NlcnQoXG4gICAgICAgICAgICAgICAgZmMucHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5QXJiLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWRBcmIsXG4gICAgICAgICAgICAgICAgICAgIGZjLmFycmF5KHRlc3RVc2VyQXJiLCB7IG1pbkxlbmd0aDogMCwgbWF4TGVuZ3RoOiA1IH0pLFxuICAgICAgICAgICAgICAgICAgICAocXVlcnksIGN1cnJlbnRVc2VySWQsIGFsbFVzZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dlclJlc3VsdHMgPSBmaWx0ZXJTZWFyY2hSZXN1bHRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5LnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxVc2VycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cHBlclJlc3VsdHMgPSBmaWx0ZXJTZWFyY2hSZXN1bHRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5LnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxVc2VycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VySWRzID0gbmV3IFNldChsb3dlclJlc3VsdHMubWFwKChyKSA9PiByLnVzZXJJZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBwZXJJZHMgPSBuZXcgU2V0KHVwcGVyUmVzdWx0cy5tYXAoKHIpID0+IHIudXNlcklkKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChsb3dlcklkcykudG9FcXVhbCh1cHBlcklkcyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7IG51bVJ1bnM6IDI1IH0sIC8vIFJlZHVjZWQgZnJvbSAxMDAgdG8gMjVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJQcm9wZXJ0eSAyOiBTZWFyY2ggcmVzdWx0IGRpc3BsYXkgY29tcGxldGVuZXNzXCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgaW5jbHVkZSBib3RoIGRpc3BsYXlOYW1lIGFuZCBlbWFpbCBpbiBhbGwgc2VhcmNoIHJlc3VsdHNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgZmMuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIGZjLnByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUFyYixcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkQXJiLFxuICAgICAgICAgICAgICAgICAgICBmYy5hcnJheSh0ZXN0VXNlckFyYiwgeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNSB9KSxcbiAgICAgICAgICAgICAgICAgICAgKHF1ZXJ5LCBjdXJyZW50VXNlcklkLCBhbGxVc2VycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGZpbHRlclNlYXJjaFJlc3VsdHMocXVlcnksIGN1cnJlbnRVc2VySWQsIGFsbFVzZXJzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuZGlzcGxheU5hbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuZGlzcGxheU5hbWUpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5kaXNwbGF5TmFtZS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuZW1haWwpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuZW1haWwpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5lbWFpbC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHsgbnVtUnVuczogMjUgfSwgLy8gUmVkdWNlZCBmcm9tIDEwMCB0byAyNVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIlByb3BlcnR5IDM6IFNlYXJjaCByZXN1bHQgcmVsYXRpb25zaGlwIHN0YXR1cyBhY2N1cmFjeVwiLCAoKSA9PiB7XG4gICAgICAgIGludGVyZmFjZSBGcmllbmRSZXF1ZXN0RGF0YSB7XG4gICAgICAgICAgICByZXF1ZXN0SWQ6IHN0cmluZztcbiAgICAgICAgICAgIHNlbmRlcklkOiBzdHJpbmc7XG4gICAgICAgICAgICByZWNlaXZlcklkOiBzdHJpbmc7XG4gICAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiIHwgXCJhY2NlcHRlZFwiIHwgXCJyZWplY3RlZFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGV0ZXJtaW5lUmVsYXRpb25zaGlwU3RhdHVzKFxuICAgICAgICAgICAgY3VycmVudFVzZXJJZDogc3RyaW5nLFxuICAgICAgICAgICAgdGFyZ2V0VXNlcklkOiBzdHJpbmcsXG4gICAgICAgICAgICBjdXJyZW50VXNlckZyaWVuZHM6IHN0cmluZ1tdLFxuICAgICAgICAgICAgcGVuZGluZ1JlcXVlc3RzOiBGcmllbmRSZXF1ZXN0RGF0YVtdLFxuICAgICAgICApOiBcIm5vbmVcIiB8IFwiZnJpZW5kXCIgfCBcInBlbmRpbmdfc2VudFwiIHwgXCJwZW5kaW5nX3JlY2VpdmVkXCIge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyRnJpZW5kcy5pbmNsdWRlcyh0YXJnZXRVc2VySWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZnJpZW5kXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbnRSZXF1ZXN0ID0gcGVuZGluZ1JlcXVlc3RzLmZpbmQoXG4gICAgICAgICAgICAgICAgKHJlcSkgPT5cbiAgICAgICAgICAgICAgICAgICAgcmVxLnNlbmRlcklkID09PSBjdXJyZW50VXNlcklkICYmXG4gICAgICAgICAgICAgICAgICAgIHJlcS5yZWNlaXZlcklkID09PSB0YXJnZXRVc2VySWQgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVxLnN0YXR1cyA9PT0gXCJwZW5kaW5nXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHNlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwicGVuZGluZ19zZW50XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVkUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0cy5maW5kKFxuICAgICAgICAgICAgICAgIChyZXEpID0+XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZW5kZXJJZCA9PT0gdGFyZ2V0VXNlcklkICYmXG4gICAgICAgICAgICAgICAgICAgIHJlcS5yZWNlaXZlcklkID09PSBjdXJyZW50VXNlcklkICYmXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zdGF0dXMgPT09IFwicGVuZGluZ1wiLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyZWNlaXZlZFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJwZW5kaW5nX3JlY2VpdmVkXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBcIm5vbmVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiAnZnJpZW5kJyBzdGF0dXMgd2hlbiB1c2VyIGlzIGluIGZyaWVuZHMgYXJyYXlcIiwgKCkgPT4ge1xuICAgICAgICAgICAgZmMuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIGZjLnByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICB1c2VySWRBcmIsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZEFyYixcbiAgICAgICAgICAgICAgICAgICAgZmMuYXJyYXkodXNlcklkQXJiLCB7IG1heExlbmd0aDogMyB9KSxcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRVc2VySWQsIHRhcmdldFVzZXJJZCwgb3RoZXJGcmllbmRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5wcmUoY3VycmVudFVzZXJJZCAhPT0gdGFyZ2V0VXNlcklkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJpZW5kcyA9IFsuLi5vdGhlckZyaWVuZHMsIHRhcmdldFVzZXJJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBkZXRlcm1pbmVSZWxhdGlvbnNoaXBTdGF0dXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRVc2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJpZW5kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoXCJmcmllbmRcIik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7IG51bVJ1bnM6IDI1IH0sIC8vIFJlZHVjZWQgZnJvbSAxMDAgdG8gMjVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiAnbm9uZScgd2hlbiB0aGVyZSBpcyBubyByZWxhdGlvbnNoaXBcIiwgKCkgPT4ge1xuICAgICAgICAgICAgZmMuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIGZjLnByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICB1c2VySWRBcmIsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZEFyYixcbiAgICAgICAgICAgICAgICAgICAgZmMuYXJyYXkodXNlcklkQXJiLCB7IG1heExlbmd0aDogMyB9KSxcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRVc2VySWQsIHRhcmdldFVzZXJJZCwgZnJpZW5kcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmMucHJlKGN1cnJlbnRVc2VySWQgIT09IHRhcmdldFVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5wcmUoIWZyaWVuZHMuaW5jbHVkZXModGFyZ2V0VXNlcklkKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGRldGVybWluZVJlbGF0aW9uc2hpcFN0YXR1cyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmllbmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHN0YXR1cykudG9CZShcIm5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7IG51bVJ1bnM6IDI1IH0sIC8vIFJlZHVjZWQgZnJvbSAxMDAgdG8gMjVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7OztBQUtBLElBQUFBLEVBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQXVCQSxTQUFTQyxtQkFBbUJBLENBQ3hCQyxLQUFhLEVBQ2JDLGFBQXFCLEVBQ3JCQyxRQUFvQixFQUNGO0VBQ2xCLElBQUksQ0FBQ0YsS0FBSyxJQUFJQSxLQUFLLENBQUNHLElBQUksQ0FBQyxDQUFDLENBQUNDLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFDckMsT0FBTyxFQUFFO0VBQ2I7RUFFQSxJQUFNQyxlQUFlLEdBQUdMLEtBQUssQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQ0csV0FBVyxDQUFDLENBQUM7RUFFbEQsT0FBT0osUUFBUSxDQUNWSyxNQUFNLENBQUMsVUFBQ0MsSUFBSSxFQUFLO0lBQ2QsSUFBSUEsSUFBSSxDQUFDQyxNQUFNLEtBQUtSLGFBQWEsRUFBRTtNQUMvQixPQUFPLEtBQUs7SUFDaEI7SUFDQSxJQUFNUyxZQUFZLEdBQUdGLElBQUksQ0FBQ0csS0FBSyxDQUFDTCxXQUFXLENBQUMsQ0FBQyxDQUFDTSxRQUFRLENBQUNQLGVBQWUsQ0FBQztJQUN2RSxJQUFN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