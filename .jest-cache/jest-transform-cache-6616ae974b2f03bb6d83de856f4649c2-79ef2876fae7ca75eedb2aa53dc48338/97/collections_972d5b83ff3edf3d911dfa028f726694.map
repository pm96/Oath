{"version":3,"names":["_firestore","require","_firebaseConfig","getUsersCollection","collection","db","APP_ID","getUserDoc","userId","doc","getGoalsCollection","getGoalDoc","goalId","getFriendRequestsCollection","getFriendRequestDoc","requestId","getNudgesCollection","getNudgeDoc","nudgeId","getHabitCompletionsCollection","getHabitCompletionDoc","completionId","getHabitStreaksCollection","getHabitStreakDoc","streakId","getHabitAnalyticsCollection","getHabitAnalyticsDoc","analyticsId","getSocialPostsCollection","getSocialPostDoc","postId","getSharedStreaksCollection","getSharedStreakDoc","getStreakNotificationsCollection","getStreakNotificationDoc","notificationId"],"sources":["collections.ts"],"sourcesContent":["import {\n    collection,\n    CollectionReference,\n    doc,\n    DocumentReference,\n} from \"firebase/firestore\";\nimport { APP_ID, db } from \"../../firebaseConfig\";\n\n/**\n * Firestore Collections Structure Helper\n *\n * This module provides typed references to Firestore collections\n * following the structure: /artifacts/{appId}/...\n */\n\n// Type definitions for our data models\nexport interface User {\n    displayName: string;\n    email: string;\n    shameScore: number;\n    friends: string[];\n    fcmToken: string | null;\n    createdAt: Date;\n    searchableEmail: string; // Lowercase email for case-insensitive search\n    searchableName: string; // Lowercase displayName for case-insensitive search\n}\n\nexport interface FriendRequest {\n    id: string;\n    senderId: string;\n    senderName: string;\n    senderEmail: string;\n    receiverId: string;\n    status: \"pending\" | \"accepted\" | \"rejected\";\n    createdAt: Date;\n    updatedAt: Date;\n}\n\nexport interface UserSearchResult {\n    userId: string;\n    displayName: string;\n    email: string;\n    relationshipStatus: \"none\" | \"friend\" | \"pending_sent\" | \"pending_received\";\n    shameScore?: number;\n}\n\nexport interface Goal {\n    id: string;\n    ownerId: string;\n    description: string;\n    frequency: \"daily\" | \"weekly\" | \"3x_a_week\";\n    targetDays: string[];\n    latestCompletionDate: Date | null;\n    currentStatus: \"Green\" | \"Yellow\" | \"Red\";\n    nextDeadline: Date;\n    isShared: boolean;\n    createdAt: Date;\n    redSince: Date | null;\n    difficulty: \"easy\" | \"medium\" | \"hard\";\n}\n\n/**\n * Interface combining goal data with owner information\n * Used for displaying friends' goals with owner details\n */\nexport interface GoalWithOwner extends Goal {\n    ownerName: string;\n    ownerShameScore: number;\n}\n\nexport interface Nudge {\n    id: string;\n    senderId: string;\n    senderName: string;\n    receiverId: string;\n    goalId: string;\n    goalDescription: string;\n    timestamp: Date;\n    cooldownUntil: Date;\n    createdAt: Date;\n}\n\nexport interface GoalStatus {\n    color: \"green\" | \"yellow\" | \"red\";\n    priority: number; // For sorting (1=highest, 3=lowest)\n    text: string; // \"Safe\", \"Due in 2h\", \"Overdue by 1d\"\n    showNudge: boolean;\n}\n\n/**\n * Get reference to users collection\n */\nexport function getUsersCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"users\");\n}\n\n/**\n * Get reference to a specific user document\n */\nexport function getUserDoc(userId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"users\", userId);\n}\n\n/**\n * Get reference to goals collection\n */\nexport function getGoalsCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"public\", \"data\", \"goals\");\n}\n\n/**\n * Get reference to a specific goal document\n */\nexport function getGoalDoc(goalId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"public\", \"data\", \"goals\", goalId);\n}\n\n/**\n * Get reference to friendRequests collection\n */\nexport function getFriendRequestsCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"friendRequests\");\n}\n\n/**\n * Get reference to a specific friend request document\n */\nexport function getFriendRequestDoc(requestId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"friendRequests\", requestId);\n}\n\n/**\n * Get reference to nudges collection\n */\nexport function getNudgesCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"nudges\");\n}\n\n/**\n * Get reference to a specific nudge document\n */\nexport function getNudgeDoc(nudgeId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"nudges\", nudgeId);\n}\n\n/**\n * Get reference to habit completions collection\n */\nexport function getHabitCompletionsCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"completions\");\n}\n\n/**\n * Get reference to a specific habit completion document\n */\nexport function getHabitCompletionDoc(completionId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"completions\", completionId);\n}\n\n/**\n * Get reference to habit streaks collection\n */\nexport function getHabitStreaksCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"streaks\");\n}\n\n/**\n * Get reference to a specific habit streak document\n */\nexport function getHabitStreakDoc(streakId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"streaks\", streakId);\n}\n\n/**\n * Get reference to habit analytics collection\n */\nexport function getHabitAnalyticsCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"analytics\");\n}\n\n/**\n * Get reference to a specific habit analytics document\n */\nexport function getHabitAnalyticsDoc(analyticsId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"analytics\", analyticsId);\n}\n\n/**\n * Get reference to social posts collection\n */\nexport function getSocialPostsCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"socialPosts\");\n}\n\n/**\n * Get reference to a specific social post document\n */\nexport function getSocialPostDoc(postId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"socialPosts\", postId);\n}\n\n/**\n * Get reference to shared streaks collection\n */\nexport function getSharedStreaksCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"sharedStreaks\");\n}\n\n/**\n * Get reference to a specific shared streak document\n */\nexport function getSharedStreakDoc(streakId: string): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"sharedStreaks\", streakId);\n}\n\n/**\n * Get reference to streak notifications collection\n */\nexport function getStreakNotificationsCollection(): CollectionReference {\n    return collection(db, \"artifacts\", APP_ID, \"streakNotifications\");\n}\n\n/**\n * Get reference to a specific streak notification document\n */\nexport function getStreakNotificationDoc(\n    notificationId: string,\n): DocumentReference {\n    return doc(db, \"artifacts\", APP_ID, \"streakNotifications\", notificationId);\n}\n"],"mappings":"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","ignoreList":[]}