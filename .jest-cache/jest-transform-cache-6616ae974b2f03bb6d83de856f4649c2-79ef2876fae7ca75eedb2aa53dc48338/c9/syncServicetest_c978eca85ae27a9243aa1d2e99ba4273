059fc85dc73857dbc50cddc315ad40e8
_getJestObj().mock("@react-native-async-storage/async-storage", function () {
  return {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    multiRemove: jest.fn(),
    getAllKeys: jest.fn()
  };
});
_getJestObj().mock("../firebaseConfig", function () {
  return {
    db: {}
  };
});
_getJestObj().mock("../utils/errorHandling", function () {
  return {
    isOnline: jest.fn().mockResolvedValue(true),
    retryWithBackoff: jest.fn().mockImplementation(function (fn) {
      return fn();
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _firestore = require("firebase/firestore");
var _syncService = require("../services/firebase/syncService");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe("SyncService", function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _asyncStorage.default.getItem.mockResolvedValue(null);
    _asyncStorage.default.setItem.mockResolvedValue(undefined);
    _asyncStorage.default.removeItem.mockResolvedValue(undefined);
    _asyncStorage.default.multiRemove.mockResolvedValue(undefined);
    _asyncStorage.default.getAllKeys.mockResolvedValue([]);
  });
  describe("Cache Management", function () {
    it("should cache data with integrity verification", (0, _asyncToGenerator2.default)(function* () {
      var testData = {
        test: "data",
        value: 123
      };
      yield _syncService.syncService.cacheData("test_key", testData);
      expect(_asyncStorage.default.setItem).toHaveBeenCalledWith("test_key", expect.stringContaining('"data":{"test":"data","value":123}'));
    }));
    it("should retrieve cached data and verify integrity", (0, _asyncToGenerator2.default)(function* () {
      var testData = {
        test: "data",
        value: 123
      };
      var cachedData = {
        data: testData,
        timestamp: _firestore.Timestamp.now().toMillis(),
        version: 1,
        checksum: "123456789"
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(cachedData));
      var result = yield _syncService.syncService.getCachedData("test_key");
      expect(result).toBeNull();
      expect(_asyncStorage.default.removeItem).toHaveBeenCalledWith("test_key");
    }));
    it("should return null for non-existent cache", (0, _asyncToGenerator2.default)(function* () {
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var result = yield _syncService.syncService.getCachedData("non_existent_key");
      expect(result).toBeNull();
    }));
  });
  describe("Operation Queuing", function () {
    it("should queue operations for offline sync", (0, _asyncToGenerator2.default)(function* () {
      var operation = {
        type: "completion",
        action: "create",
        data: {
          habitId: "habit1",
          userId: "user1"
        },
        userId: "user1",
        habitId: "habit1"
      };
      yield _syncService.syncService.queueOperation(operation);
      expect(_asyncStorage.default.setItem).toHaveBeenCalledWith("@pending_sync_operations", expect.stringContaining('"type":"completion"'));
    }));
    it("should load pending operations from storage", (0, _asyncToGenerator2.default)(function* () {
      var operations = [{
        id: "op1",
        type: "completion",
        action: "create",
        data: {},
        userId: "user1",
        habitId: "habit1",
        retryCount: 0,
        timestamp: Date.now()
      }];
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(operations));
      _asyncStorage.default.getItem.mockClear();
      yield _syncService.syncService.loadPendingOperations();
      expect(_asyncStorage.default.getItem).toHaveBeenCalledWith("@pending_sync_operations");
    }));
  });
  describe("Sync Status", function () {
    it("should provide current sync status", function () {
      var status = _syncService.syncService.getSyncStatus();
      expect(status).toHaveProperty("isOnline");
      expect(status).toHaveProperty("lastSync");
      expect(status).toHaveProperty("pendingOperations");
      expect(status).toHaveProperty("syncInProgress");
    });
    it("should allow subscribing to status changes", function () {
      var callback = jest.fn();
      var unsubscribe = _syncService.syncService.onSyncStatusChange(callback);
      expect(callback).toHaveBeenCalledWith(expect.objectContaining({
        isOnline: expect.any(Boolean),
        pendingOperations: expect.any(Number)
      }));
      unsubscribe();
    });
  });
  describe("Cache Cleanup", function () {
    it("should clear all cached data", (0, _asyncToGenerator2.default)(function* () {
      yield _syncService.syncService.clearCache();
      expect(_asyncStorage.default.multiRemove).toHaveBeenCalledWith(["@habit_streaks_cache", "@habit_completions_cache", "@pending_sync_operations", "@last_sync_timestamp"]);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJtdWx0aVJlbW92ZSIsImdldEFsbEtleXMiLCJkYiIsImlzT25saW5lIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJyZXRyeVdpdGhCYWNrb2ZmIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJkZWZhdWx0IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX2FzeW5jU3RvcmFnZSIsIl9maXJlc3RvcmUiLCJfc3luY1NlcnZpY2UiLCJfcmVxdWlyZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJBc3luY1N0b3JhZ2UiLCJ1bmRlZmluZWQiLCJpdCIsInRlc3REYXRhIiwidGVzdCIsInZhbHVlIiwic3luY1NlcnZpY2UiLCJjYWNoZURhdGEiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInN0cmluZ0NvbnRhaW5pbmciLCJjYWNoZWREYXRhIiwiZGF0YSIsInRpbWVzdGFtcCIsIlRpbWVzdGFtcCIsIm5vdyIsInRvTWlsbGlzIiwidmVyc2lvbiIsImNoZWNrc3VtIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImdldENhY2hlZERhdGEiLCJ0b0JlTnVsbCIsIm9wZXJhdGlvbiIsInR5cGUiLCJhY3Rpb24iLCJoYWJpdElkIiwidXNlcklkIiwicXVldWVPcGVyYXRpb24iLCJvcGVyYXRpb25zIiwiaWQiLCJyZXRyeUNvdW50IiwiRGF0ZSIsIm1vY2tDbGVhciIsImxvYWRQZW5kaW5nT3BlcmF0aW9ucyIsInN0YXR1cyIsImdldFN5bmNTdGF0dXMiLCJ0b0hhdmVQcm9wZXJ0eSIsImNhbGxiYWNrIiwidW5zdWJzY3JpYmUiLCJvblN5bmNTdGF0dXNDaGFuZ2UiLCJvYmplY3RDb250YWluaW5nIiwiYW55IiwiQm9vbGVhbiIsInBlbmRpbmdPcGVyYXRpb25zIiwiTnVtYmVyIiwiY2xlYXJDYWNoZSJdLCJzb3VyY2VzIjpbInN5bmNTZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTeW5jIFNlcnZpY2UgVGVzdHNcbiAqXG4gKiBUZXN0cyBmb3IgZGF0YSBzeW5jaHJvbml6YXRpb24gYW5kIG9mZmxpbmUgc3VwcG9ydCBmdW5jdGlvbmFsaXR5XG4gKiBSZXF1aXJlbWVudHM6IDEwLjEsIDEwLjIsIDEwLjMsIDEwLjQsIDEwLjVcbiAqL1xuXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gXCJAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZVwiO1xuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgc3luY1NlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvZmlyZWJhc2Uvc3luY1NlcnZpY2VcIjtcblxuLy8gTW9jayBBc3luY1N0b3JhZ2Vcbmplc3QubW9jayhcIkByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlXCIsICgpID0+ICh7XG4gICAgZ2V0SXRlbTogamVzdC5mbigpLFxuICAgIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gICAgbXVsdGlSZW1vdmU6IGplc3QuZm4oKSxcbiAgICBnZXRBbGxLZXlzOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgRmlyZWJhc2Vcbmplc3QubW9jayhcIi4uL2ZpcmViYXNlQ29uZmlnXCIsICgpID0+ICh7XG4gICAgZGI6IHt9LFxufSkpO1xuXG4vLyBNb2NrIGVycm9yIGhhbmRsaW5nIHV0aWxpdGllc1xuamVzdC5tb2NrKFwiLi4vdXRpbHMvZXJyb3JIYW5kbGluZ1wiLCAoKSA9PiAoe1xuICAgIGlzT25saW5lOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgcmV0cnlXaXRoQmFja29mZjogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoZm4pID0+IGZuKCkpLFxufSkpO1xuXG5kZXNjcmliZShcIlN5bmNTZXJ2aWNlXCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgICAgIChBc3luY1N0b3JhZ2UuZ2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuICAgICAgICAoQXN5bmNTdG9yYWdlLnNldEl0ZW0gYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgICAoQXN5bmNTdG9yYWdlLnJlbW92ZUl0ZW0gYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgICAoQXN5bmNTdG9yYWdlLm11bHRpUmVtb3ZlIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgICAgKEFzeW5jU3RvcmFnZS5nZXRBbGxLZXlzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJDYWNoZSBNYW5hZ2VtZW50XCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgY2FjaGUgZGF0YSB3aXRoIGludGVncml0eSB2ZXJpZmljYXRpb25cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVzdERhdGEgPSB7IHRlc3Q6IFwiZGF0YVwiLCB2YWx1ZTogMTIzIH07XG5cbiAgICAgICAgICAgIGF3YWl0IHN5bmNTZXJ2aWNlLmNhY2hlRGF0YShcInRlc3Rfa2V5XCIsIHRlc3REYXRhKTtcblxuICAgICAgICAgICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAgICAgICBcInRlc3Rfa2V5XCIsXG4gICAgICAgICAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZGF0YVwiOntcInRlc3RcIjpcImRhdGFcIixcInZhbHVlXCI6MTIzfScpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgcmV0cmlldmUgY2FjaGVkIGRhdGEgYW5kIHZlcmlmeSBpbnRlZ3JpdHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVzdERhdGEgPSB7IHRlc3Q6IFwiZGF0YVwiLCB2YWx1ZTogMTIzIH07XG4gICAgICAgICAgICBjb25zdCBjYWNoZWREYXRhID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IHRlc3REYXRhLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpLnRvTWlsbGlzKCksXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgICAgICAgICBjaGVja3N1bTogXCIxMjM0NTY3ODlcIiwgLy8gTW9jayBjaGVja3N1bVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgKEFzeW5jU3RvcmFnZS5nZXRJdGVtIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2FjaGVkRGF0YSksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzeW5jU2VydmljZS5nZXRDYWNoZWREYXRhKFwidGVzdF9rZXlcIik7XG5cbiAgICAgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCBkdWUgdG8gY2hlY2tzdW0gbWlzbWF0Y2ggKGludGVncml0eSBjaGVjaylcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgICAgICAgICBleHBlY3QoQXN5bmNTdG9yYWdlLnJlbW92ZUl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFwidGVzdF9rZXlcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiBudWxsIGZvciBub24tZXhpc3RlbnQgY2FjaGVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgKEFzeW5jU3RvcmFnZS5nZXRJdGVtIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN5bmNTZXJ2aWNlLmdldENhY2hlZERhdGEoXCJub25fZXhpc3RlbnRfa2V5XCIpO1xuXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiT3BlcmF0aW9uIFF1ZXVpbmdcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBxdWV1ZSBvcGVyYXRpb25zIGZvciBvZmZsaW5lIHN5bmNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiY29tcGxldGlvblwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJjcmVhdGVcIiBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGhhYml0SWQ6IFwiaGFiaXQxXCIsIHVzZXJJZDogXCJ1c2VyMVwiIH0sXG4gICAgICAgICAgICAgICAgdXNlcklkOiBcInVzZXIxXCIsXG4gICAgICAgICAgICAgICAgaGFiaXRJZDogXCJoYWJpdDFcIixcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGF3YWl0IHN5bmNTZXJ2aWNlLnF1ZXVlT3BlcmF0aW9uKG9wZXJhdGlvbik7XG5cbiAgICAgICAgICAgIGV4cGVjdChBc3luY1N0b3JhZ2Uuc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgICAgICAgXCJAcGVuZGluZ19zeW5jX29wZXJhdGlvbnNcIixcbiAgICAgICAgICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJ0eXBlXCI6XCJjb21wbGV0aW9uXCInKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGxvYWQgcGVuZGluZyBvcGVyYXRpb25zIGZyb20gc3RvcmFnZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcGVyYXRpb25zID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwib3AxXCIsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY29tcGxldGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiY3JlYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IFwidXNlcjFcIixcbiAgICAgICAgICAgICAgICAgICAgaGFiaXRJZDogXCJoYWJpdDFcIixcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAoQXN5bmNTdG9yYWdlLmdldEl0ZW0gYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShvcGVyYXRpb25zKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBtb2NrIHRvIGNsZWFyIHByZXZpb3VzIGNhbGxzXG4gICAgICAgICAgICAoQXN5bmNTdG9yYWdlLmdldEl0ZW0gYXMgamVzdC5Nb2NrKS5tb2NrQ2xlYXIoKTtcblxuICAgICAgICAgICAgLy8gQWNjZXNzIHRoZSBwcml2YXRlIGxvYWRQZW5kaW5nT3BlcmF0aW9ucyBtZXRob2QgZGlyZWN0bHlcbiAgICAgICAgICAgIGF3YWl0IChzeW5jU2VydmljZSBhcyBhbnkpLmxvYWRQZW5kaW5nT3BlcmF0aW9ucygpO1xuXG4gICAgICAgICAgICBleHBlY3QoQXN5bmNTdG9yYWdlLmdldEl0ZW0pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICAgICAgIFwiQHBlbmRpbmdfc3luY19vcGVyYXRpb25zXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiU3luYyBTdGF0dXNcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBwcm92aWRlIGN1cnJlbnQgc3luYyBzdGF0dXNcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gc3luY1NlcnZpY2UuZ2V0U3luY1N0YXR1cygpO1xuXG4gICAgICAgICAgICBleHBlY3Qoc3RhdHVzKS50b0hhdmVQcm9wZXJ0eShcImlzT25saW5lXCIpO1xuICAgICAgICAgICAgZXhwZWN0KHN0YXR1cykudG9IYXZlUHJvcGVydHkoXCJsYXN0U3luY1wiKTtcbiAgICAgICAgICAgIGV4cGVjdChzdGF0dXMpLnRvSGF2ZVByb3BlcnR5KFwicGVuZGluZ09wZXJhdGlvbnNcIik7XG4gICAgICAgICAgICBleHBlY3Qoc3RhdHVzKS50b0hhdmVQcm9wZXJ0eShcInN5bmNJblByb2dyZXNzXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBhbGxvdyBzdWJzY3JpYmluZyB0byBzdGF0dXMgY2hhbmdlc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGplc3QuZm4oKTtcblxuICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBzeW5jU2VydmljZS5vblN5bmNTdGF0dXNDaGFuZ2UoY2FsbGJhY2spO1xuXG4gICAgICAgICAgICBleHBlY3QoY2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgaXNPbmxpbmU6IGV4cGVjdC5hbnkoQm9vbGVhbiksXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdPcGVyYXRpb25zOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiQ2FjaGUgQ2xlYW51cFwiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGNsZWFyIGFsbCBjYWNoZWQgZGF0YVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBzeW5jU2VydmljZS5jbGVhckNhY2hlKCk7XG5cbiAgICAgICAgICAgIGV4cGVjdChBc3luY1N0b3JhZ2UubXVsdGlSZW1vdmUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtcbiAgICAgICAgICAgICAgICBcIkBoYWJpdF9zdHJlYWtzX2NhY2hlXCIsXG4gICAgICAgICAgICAgICAgXCJAaGFiaXRfY29tcGxldGlvbnNfY2FjaGVcIixcbiAgICAgICAgICAgICAgICBcIkBwZW5kaW5nX3N5bmNfb3BlcmF0aW9uc1wiLFxuICAgICAgICAgICAgICAgIFwiQGxhc3Rfc3luY190aW1lc3RhbXBcIixcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFZQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMkNBQTJDLEVBQUU7RUFBQSxPQUFPO0lBQzFEQyxPQUFPLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDbEJDLE9BQU8sRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQkUsVUFBVSxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JCRyxXQUFXLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDdEJJLFVBQVUsRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDeEIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdISixXQUFBLEdBQUtDLElBQUksc0JBQXNCO0VBQUEsT0FBTztJQUNsQ1EsRUFBRSxFQUFFLENBQUM7RUFDVCxDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hULFdBQUEsR0FBS0MsSUFBSSwyQkFBMkI7RUFBQSxPQUFPO0lBQ3ZDUyxRQUFRLEVBQUVQLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ08saUJBQWlCLENBQUMsSUFBSSxDQUFDO0lBQzNDQyxnQkFBZ0IsRUFBRVQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDUyxrQkFBa0IsQ0FBQyxVQUFDVCxFQUFFO01BQUEsT0FBS0EsRUFBRSxDQUFDLENBQUM7SUFBQTtFQUMvRCxDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQVUsc0JBQUEsR0FBQUMsT0FBQSxpREFBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUF0QkosSUFBQUcsYUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssWUFBQSxHQUFBTCxPQUFBO0FBQStELFNBQUFmLFlBQUE7RUFBQSxJQUFBcUIsUUFBQSxHQUFBTixPQUFBO0lBQUFaLElBQUEsR0FBQWtCLFFBQUEsQ0FBQWxCLElBQUE7RUFBQUgsV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQUcsSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBc0IvRG1CLFFBQVEsQ0FBQyxhQUFhLEVBQUUsWUFBTTtFQUMxQkMsVUFBVSxDQUFDLFlBQU07SUFDYnBCLElBQUksQ0FBQ3FCLGFBQWEsQ0FBQyxDQUFDO0lBQ25CQyxxQkFBWSxDQUFDdkIsT0FBTyxDQUFlUyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7SUFDMURjLHFCQUFZLENBQUNwQixPQUFPLENBQWVNLGlCQUFpQixDQUFDZSxTQUFTLENBQUM7SUFDL0RELHFCQUFZLENBQUNuQixVQUFVLENBQWVLLGlCQUFpQixDQUFDZSxTQUFTLENBQUM7SUFDbEVELHFCQUFZLENBQUNsQixXQUFXLENBQWVJLGlCQUFpQixDQUFDZSxTQUFTLENBQUM7SUFDbkVELHFCQUFZLENBQUNqQixVQUFVLENBQWVHLGlCQUFpQixDQUFDLEVBQUUsQ0FBQztFQUNoRSxDQUFDLENBQUM7RUFFRlcsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFlBQU07SUFDL0JLLEVBQUUsQ0FBQywrQ0FBK0MsTUFBQVYsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDNUQsSUFBTVksUUFBUSxHQUFHO1FBQUVDLElBQUksRUFBRSxNQUFNO1FBQUVDLEtBQUssRUFBRTtNQUFJLENBQUM7TUFFN0MsTUFBTUMsd0JBQVcsQ0FBQ0MsU0FBUyxDQUFDLFVBQVUsRUFBRUosUUFBUSxDQUFDO01BRWpESyxNQUFNLENBQUNSLHFCQUFZLENBQUNwQixPQUFPLENBQUMsQ0FBQzZCLG9CQUFvQixDQUM3QyxVQUFVLEVBQ1ZELE1BQU0sQ0FBQ0UsZ0JBQWdCLENBQUMsb0NBQW9DLENBQ2hFLENBQUM7SUFDTCxDQUFDLEVBQUM7SUFFRlIsRUFBRSxDQUFDLGtEQUFrRCxNQUFBVixrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUMvRCxJQUFNWSxRQUFRLEdBQUc7UUFBRUMsSUFBSSxFQUFFLE1BQU07UUFBRUMsS0FBSyxFQUFFO01BQUksQ0FBQztNQUM3QyxJQUFNTSxVQUFVLEdBQUc7UUFDZkMsSUFBSSxFQUFFVCxRQUFRO1FBQ2RVLFNBQVMsRUFBRUMsb0JBQVMsQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7UUFDckNDLE9BQU8sRUFBRSxDQUFDO1FBQ1ZDLFFBQVEsRUFBRTtNQUNkLENBQUM7TUFFQWxCLHFCQUFZLENBQUN2QixPQUFPLENBQWVTLGlCQUFpQixDQUNqRGlDLElBQUksQ0FBQ0MsU0FBUyxDQUFDVCxVQUFVLENBQzdCLENBQUM7TUFFRCxJQUFNVSxNQUFNLFNBQVNmLHdCQUFXLENBQUNnQixhQUFhLENBQUMsVUFBVSxDQUFDO01BRzFEZCxNQUFNLENBQUNhLE1BQU0sQ0FBQyxDQUFDRSxRQUFRLENBQUMsQ0FBQztNQUN6QmYsTUFBTSxDQUFDUixxQkFBWSxDQUFDbkIsVUFBVSxDQUFDLENBQUM0QixvQkFBb0IsQ0FBQyxVQUFVLENBQUM7SUFDcEUsQ0FBQyxFQUFDO0lBRUZQLEVBQUUsQ0FBQywyQ0FBMkMsTUFBQVYsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDdkRTLHFCQUFZLENBQUN2QixPQUFPLENBQWVTLGlCQUFpQixDQUFDLElBQUksQ0FBQztNQUUzRCxJQUFNbUMsTUFBTSxTQUFTZix3QkFBVyxDQUFDZ0IsYUFBYSxDQUFDLGtCQUFrQixDQUFDO01BRWxFZCxNQUFNLENBQUNhLE1BQU0sQ0FBQyxDQUFDRSxRQUFRLENBQUMsQ0FBQztJQUM3QixDQUFDLEVBQUM7RUFDTixDQUFDLENBQUM7RUFFRjFCLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxZQUFNO0lBQ2hDSyxFQUFFLENBQUMsMENBQTBDLE1BQUFWLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQ3ZELElBQU1pQyxTQUFTLEdBQUc7UUFDZEMsSUFBSSxFQUFFLFlBQXFCO1FBQzNCQyxNQUFNLEVBQUUsUUFBaUI7UUFDekJkLElBQUksRUFBRTtVQUFFZSxPQUFPLEVBQUUsUUFBUTtVQUFFQyxNQUFNLEVBQUU7UUFBUSxDQUFDO1FBQzVDQSxNQUFNLEVBQUUsT0FBTztRQUNmRCxPQUFPLEVBQUU7TUFDYixDQUFDO01BRUQsTUFBTXJCLHdCQUFXLENBQUN1QixjQUFjLENBQUNMLFNBQVMsQ0FBQztNQUUzQ2hCLE1BQU0sQ0FBQ1IscUJBQVksQ0FBQ3BCLE9BQU8sQ0FBQyxDQUFDNkIsb0JBQW9CLENBQzdDLDBCQUEwQixFQUMxQkQsTUFBTSxDQUFDRSxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FDakQsQ0FBQztJQUNMLENBQUMsRUFBQztJQUVGUixFQUFFLENBQUMsNkNBQTZDLE1BQUFWLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQzFELElBQU11QyxVQUFVLEdBQUcsQ0FDZjtRQUNJQyxFQUFFLEVBQUUsS0FBSztRQUNUTixJQUFJLEVBQUUsWUFBWTtRQUNsQkMsTUFBTSxFQUFFLFFBQVE7UUFDaEJkLElBQUksRUFBRSxDQUFDLENBQUM7UUFDUmdCLE1BQU0sRUFBRSxPQUFPO1FBQ2ZELE9BQU8sRUFBRSxRQUFRO1FBQ2pCSyxVQUFVLEVBQUUsQ0FBQztRQUNibkIsU0FBUyxFQUFFb0IsSUFBSSxDQUFDbEIsR0FBRyxDQUFDO01BQ3hCLENBQUMsQ0FDSjtNQUVBZixxQkFBWSxDQUFDdkIsT0FBTyxDQUFlUyxpQkFBaUIsQ0FDakRpQyxJQUFJLENBQUNDLFNBQVMsQ0FBQ1UsVUFBVSxDQUM3QixDQUFDO01BR0E5QixxQkFBWSxDQUFDdkIsT0FBTyxDQUFleUQsU0FBUyxDQUFDLENBQUM7TUFHL0MsTUFBTzVCLHdCQUFXLENBQVM2QixxQkFBcUIsQ0FBQyxDQUFDO01BRWxEM0IsTUFBTSxDQUFDUixxQkFBWSxDQUFDdkIsT0FBTyxDQUFDLENBQUNnQyxvQkFBb0IsQ0FDN0MsMEJBQ0osQ0FBQztJQUNMLENBQUMsRUFBQztFQUNOLENBQUMsQ0FBQztFQUVGWixRQUFRLENBQUMsYUFBYSxFQUFFLFlBQU07SUFDMUJLLEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxZQUFNO01BQzNDLElBQU1rQyxNQUFNLEdBQUc5Qix3QkFBVyxDQUFDK0IsYUFBYSxDQUFDLENBQUM7TUFFMUM3QixNQUFNLENBQUM0QixNQUFNLENBQUMsQ0FBQ0UsY0FBYyxDQUFDLFVBQVUsQ0FBQztNQUN6QzlCLE1BQU0sQ0FBQzRCLE1BQU0sQ0FBQyxDQUFDRSxjQUFjLENBQUMsVUFBVSxDQUFDO01BQ3pDOUIsTUFBTSxDQUFDNEIsTUFBTSxDQUFDLENBQUNFLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQztNQUNsRDlCLE1BQU0sQ0FBQzRCLE1BQU0sQ0FBQyxDQUFDRSxjQUFjLENBQUMsZ0JBQWdCLENBQUM7SUFDbkQsQ0FBQyxDQUFDO0lBRUZwQyxFQUFFLENBQUMsNENBQTRDLEVBQUUsWUFBTTtNQUNuRCxJQUFNcUMsUUFBUSxHQUFHN0QsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUUxQixJQUFNNkQsV0FBVyxHQUFHbEMsd0JBQVcsQ0FBQ21DLGtCQUFrQixDQUFDRixRQUFRLENBQUM7TUFFNUQvQixNQUFNLENBQUMrQixRQUFRLENBQUMsQ0FBQzlCLG9CQUFvQixDQUNqQ0QsTUFBTSxDQUFDa0MsZ0JBQWdCLENBQUM7UUFDcEJ6RCxRQUFRLEVBQUV1QixNQUFNLENBQUNtQyxHQUFHLENBQUNDLE9BQU8sQ0FBQztRQUM3QkMsaUJBQWlCLEVBQUVyQyxNQUFNLENBQUNtQyxHQUFHLENBQUNHLE1BQU07TUFDeEMsQ0FBQyxDQUNMLENBQUM7TUFFRE4sV0FBVyxDQUFDLENBQUM7SUFDakIsQ0FBQyxDQUFDO0VBQ04sQ0FBQyxDQUFDO0VBRUYzQyxRQUFRLENBQUMsZUFBZSxFQUFFLFlBQU07SUFDNUJLLEVBQUUsQ0FBQyw4QkFBOEIsTUFBQVYsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDM0MsTUFBTWUsd0JBQVcsQ0FBQ3lDLFVBQVUsQ0FBQyxDQUFDO01BRTlCdkMsTUFBTSxDQUFDUixxQkFBWSxDQUFDbEIsV0FBVyxDQUFDLENBQUMyQixvQkFBb0IsQ0FBQyxDQUNsRCxzQkFBc0IsRUFDdEIsMEJBQTBCLEVBQzFCLDBCQUEwQixFQUMxQixzQkFBc0IsQ0FDekIsQ0FBQztJQUNOLENBQUMsRUFBQztFQUNOLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==