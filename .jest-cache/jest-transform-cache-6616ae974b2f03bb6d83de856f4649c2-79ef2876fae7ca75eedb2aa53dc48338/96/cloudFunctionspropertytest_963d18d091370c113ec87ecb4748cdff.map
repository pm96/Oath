{"version":3,"names":["fc","_interopRequireWildcard","require","describe","it","_asyncToGenerator2","default","assert","asyncProperty","record","senderId","string","minLength","maxLength","senderName","receiverId","goalId","goalDescription","fcmToken","nudgeId","_ref2","nudgeData","pre","createNudgeNotificationMessage","data","token","notification","title","body","type","android","priority","apns","payload","aps","badge","sound","message","expect","toBe","_x","apply","arguments","numRuns","_ref5","_ref4","toContain","indexOf","length","toBeGreaterThan","_x2","_ref7","toHaveProperty","_x3","nudges","array","id","createdAt","date","min","Date","max","_ref0","_ref9","validNudges","filter","nudge","isNaN","getTime","now","sevenDaysAgo","shouldCleanup","nudgesToCleanup","nudgesToKeep","forEach","toBeLessThan","toBeGreaterThanOrEqual","_x4","totalNudges","integer","batchLimit","constant","_ref11","_ref10","processBatch","total","limit","batchSize","Math","hasMore","processed","remaining","result","toBeLessThanOrEqual","_x5","currentDate","_ref14","_ref13","calculateCutoffDate","cutoff","setDate","getDate","cutoffDate","daysDifference","round","_x6"],"sources":["cloudFunctions.property.test.ts"],"sourcesContent":["/**\n * Property-Based Tests for Nudge Notification Logic\n * Feature: social-nudging-feed\n */\n\nimport * as fc from \"fast-check\";\n\ndescribe(\"Nudge Notification Property-Based Tests\", () => {\n    /**\n     * **Feature: social-nudging-feed, Property 10: Nudge notification delivery**\n     * **Validates: Requirements 3.4, 5.1, 5.2**\n     */\n    describe(\"Property 10: Nudge notification delivery\", () => {\n        it(\"should create FCM notification message with correct format\", async () => {\n            await fc.assert(\n                fc.asyncProperty(\n                    fc.record({\n                        senderId: fc.string({ minLength: 1, maxLength: 50 }),\n                        senderName: fc.string({ minLength: 1, maxLength: 100 }),\n                        receiverId: fc.string({ minLength: 1, maxLength: 50 }),\n                        goalId: fc.string({ minLength: 1, maxLength: 50 }),\n                        goalDescription: fc.string({ minLength: 1, maxLength: 500 }),\n                        fcmToken: fc.string({ minLength: 10, maxLength: 200 }),\n                        nudgeId: fc.string({ minLength: 1, maxLength: 50 }),\n                    }),\n                    async (nudgeData) => {\n                        // Ensure sender and receiver are different\n                        fc.pre(nudgeData.senderId !== nudgeData.receiverId);\n\n                        // Simulate the notification message creation logic from Cloud Function\n                        const createNudgeNotificationMessage = (data: typeof nudgeData) => {\n                            return {\n                                token: data.fcmToken,\n                                notification: {\n                                    title: `ðŸ‘Š ${data.senderName} nudged you!`,\n                                    body: `Don't forget: ${data.goalDescription}`,\n                                },\n                                data: {\n                                    type: \"nudge\",\n                                    goalId: data.goalId,\n                                    senderId: data.senderId,\n                                    senderName: data.senderName,\n                                    nudgeId: data.nudgeId,\n                                },\n                                android: {\n                                    priority: \"high\" as const,\n                                },\n                                apns: {\n                                    payload: {\n                                        aps: {\n                                            badge: 1,\n                                            sound: \"default\",\n                                        },\n                                    },\n                                },\n                            };\n                        };\n\n                        const message = createNudgeNotificationMessage(nudgeData);\n\n                        // Verify notification format matches requirements\n                        expect(message.token).toBe(nudgeData.fcmToken);\n                        expect(message.notification.title).toBe(\n                            `ðŸ‘Š ${nudgeData.senderName} nudged you!`,\n                        );\n                        expect(message.notification.body).toBe(\n                            `Don't forget: ${nudgeData.goalDescription}`,\n                        );\n\n                        // Verify data payload contains all required fields\n                        expect(message.data.type).toBe(\"nudge\");\n                        expect(message.data.goalId).toBe(nudgeData.goalId);\n                        expect(message.data.senderId).toBe(nudgeData.senderId);\n                        expect(message.data.senderName).toBe(nudgeData.senderName);\n                        expect(message.data.nudgeId).toBe(nudgeData.nudgeId);\n\n                        // Verify platform-specific settings\n                        expect(message.android.priority).toBe(\"high\");\n                        expect(message.apns.payload.aps.badge).toBe(1);\n                        expect(message.apns.payload.aps.sound).toBe(\"default\");\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n\n        it(\"should handle special characters in notification content\", async () => {\n            await fc.assert(\n                fc.asyncProperty(\n                    fc.record({\n                        senderName: fc.string({ minLength: 1, maxLength: 100 }),\n                        goalDescription: fc.string({ minLength: 1, maxLength: 500 }),\n                        fcmToken: fc.string({ minLength: 10, maxLength: 200 }),\n                    }),\n                    async ({ senderName, goalDescription, fcmToken }) => {\n                        // Create notification message\n                        const message = {\n                            token: fcmToken,\n                            notification: {\n                                title: `ðŸ‘Š ${senderName} nudged you!`,\n                                body: `Don't forget: ${goalDescription}`,\n                            },\n                        };\n\n                        // Verify the message structure is valid regardless of special characters\n                        expect(message.notification.title).toContain(senderName);\n                        expect(message.notification.title).toContain(\"ðŸ‘Š\");\n                        expect(message.notification.title).toContain(\"nudged you!\");\n                        expect(message.notification.body).toContain(goalDescription);\n                        expect(message.notification.body.indexOf(\"Don't forget: \")).toBe(0);\n\n                        // Verify the message is properly formatted as a string\n                        expect(typeof message.notification.title).toBe(\"string\");\n                        expect(typeof message.notification.body).toBe(\"string\");\n                        expect(message.notification.title.length).toBeGreaterThan(0);\n                        expect(message.notification.body.length).toBeGreaterThan(0);\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n\n        it(\"should validate notification message structure completeness\", async () => {\n            await fc.assert(\n                fc.asyncProperty(\n                    fc.record({\n                        senderId: fc.string({ minLength: 1, maxLength: 50 }),\n                        senderName: fc.string({ minLength: 1, maxLength: 100 }),\n                        receiverId: fc.string({ minLength: 1, maxLength: 50 }),\n                        goalId: fc.string({ minLength: 1, maxLength: 50 }),\n                        goalDescription: fc.string({ minLength: 1, maxLength: 500 }),\n                        fcmToken: fc.string({ minLength: 10, maxLength: 200 }),\n                        nudgeId: fc.string({ minLength: 1, maxLength: 50 }),\n                    }),\n                    async (nudgeData) => {\n                        // Ensure sender and receiver are different\n                        fc.pre(nudgeData.senderId !== nudgeData.receiverId);\n\n                        // Create complete notification message\n                        const message = {\n                            token: nudgeData.fcmToken,\n                            notification: {\n                                title: `ðŸ‘Š ${nudgeData.senderName} nudged you!`,\n                                body: `Don't forget: ${nudgeData.goalDescription}`,\n                            },\n                            data: {\n                                type: \"nudge\",\n                                goalId: nudgeData.goalId,\n                                senderId: nudgeData.senderId,\n                                senderName: nudgeData.senderName,\n                                nudgeId: nudgeData.nudgeId,\n                            },\n                            android: {\n                                priority: \"high\" as const,\n                            },\n                            apns: {\n                                payload: {\n                                    aps: {\n                                        badge: 1,\n                                        sound: \"default\",\n                                    },\n                                },\n                            },\n                        };\n\n                        // Verify all required top-level properties exist\n                        expect(message).toHaveProperty(\"token\");\n                        expect(message).toHaveProperty(\"notification\");\n                        expect(message).toHaveProperty(\"data\");\n                        expect(message).toHaveProperty(\"android\");\n                        expect(message).toHaveProperty(\"apns\");\n\n                        // Verify notification structure\n                        expect(message.notification).toHaveProperty(\"title\");\n                        expect(message.notification).toHaveProperty(\"body\");\n\n                        // Verify data payload structure\n                        expect(message.data).toHaveProperty(\"type\");\n                        expect(message.data).toHaveProperty(\"goalId\");\n                        expect(message.data).toHaveProperty(\"senderId\");\n                        expect(message.data).toHaveProperty(\"senderName\");\n                        expect(message.data).toHaveProperty(\"nudgeId\");\n\n                        // Verify platform-specific structures\n                        expect(message.android).toHaveProperty(\"priority\");\n                        expect(message.apns).toHaveProperty(\"payload\");\n                        expect(message.apns.payload).toHaveProperty(\"aps\");\n                        expect(message.apns.payload.aps).toHaveProperty(\"badge\");\n                        expect(message.apns.payload.aps).toHaveProperty(\"sound\");\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n    });\n\n    /**\n     * **Feature: social-nudging-feed, Property 24: Automatic nudge cleanup**\n     * **Validates: Requirements 8.5**\n     */\n    describe(\"Property 24: Automatic nudge cleanup\", () => {\n        it(\"should identify nudges older than 7 days for cleanup\", async () => {\n            await fc.assert(\n                fc.asyncProperty(\n                    fc.record({\n                        nudges: fc.array(\n                            fc.record({\n                                id: fc.string({ minLength: 1, maxLength: 50 }),\n                                createdAt: fc.date({\n                                    min: new Date(\"2020-01-01\"),\n                                    max: new Date(\"2024-12-31\"),\n                                }),\n                                goalId: fc.string({ minLength: 1, maxLength: 50 }),\n                            }),\n                            { minLength: 1, maxLength: 50 },\n                        ),\n                    }),\n                    async ({ nudges }) => {\n                        // Filter out any invalid dates\n                        const validNudges = nudges.filter(\n                            (nudge) => !isNaN(nudge.createdAt.getTime()),\n                        );\n\n                        // Skip test if no valid nudges\n                        fc.pre(validNudges.length > 0);\n\n                        const now = new Date();\n                        const sevenDaysAgo = new Date(\n                            now.getTime() - 7 * 24 * 60 * 60 * 1000,\n                        );\n\n                        // Simulate cleanup logic\n                        const shouldCleanup = (nudge: { createdAt: Date }) => {\n                            return nudge.createdAt < sevenDaysAgo;\n                        };\n\n                        const nudgesToCleanup = validNudges.filter(shouldCleanup);\n                        const nudgesToKeep = validNudges.filter(\n                            (nudge) => !shouldCleanup(nudge),\n                        );\n\n                        // Verify cleanup logic\n                        nudgesToCleanup.forEach((nudge) => {\n                            expect(nudge.createdAt.getTime()).toBeLessThan(\n                                sevenDaysAgo.getTime(),\n                            );\n                        });\n\n                        nudgesToKeep.forEach((nudge) => {\n                            expect(nudge.createdAt.getTime()).toBeGreaterThanOrEqual(\n                                sevenDaysAgo.getTime(),\n                            );\n                        });\n\n                        // Verify all nudges are accounted for\n                        expect(nudgesToCleanup.length + nudgesToKeep.length).toBe(\n                            validNudges.length,\n                        );\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n\n        it(\"should handle batch processing limits correctly\", async () => {\n            await fc.assert(\n                fc.asyncProperty(\n                    fc.record({\n                        totalNudges: fc.integer({ min: 1, max: 1000 }),\n                        batchLimit: fc.constant(500), // Fixed batch limit as in implementation\n                    }),\n                    async ({ totalNudges, batchLimit }) => {\n                        // Simulate batch processing logic\n                        const processBatch = (total: number, limit: number) => {\n                            const batchSize = Math.min(total, limit);\n                            const hasMore = total > limit;\n\n                            return {\n                                processed: batchSize,\n                                hasMore,\n                                remaining: Math.max(0, total - limit),\n                            };\n                        };\n\n                        const result = processBatch(totalNudges, batchLimit);\n\n                        // Verify batch processing logic\n                        expect(result.processed).toBeLessThanOrEqual(batchLimit);\n                        expect(result.processed).toBeLessThanOrEqual(totalNudges);\n                        expect(result.processed).toBeGreaterThan(0);\n\n                        if (totalNudges <= batchLimit) {\n                            expect(result.processed).toBe(totalNudges);\n                            expect(result.hasMore).toBe(false);\n                            expect(result.remaining).toBe(0);\n                        } else {\n                            expect(result.processed).toBe(batchLimit);\n                            expect(result.hasMore).toBe(true);\n                            expect(result.remaining).toBe(totalNudges - batchLimit);\n                        }\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n\n        it(\"should calculate correct cutoff date for 7-day cleanup\", async () => {\n            await fc.assert(\n                fc.asyncProperty(\n                    fc.record({\n                        currentDate: fc.date({\n                            min: new Date(\"2024-01-08\"),\n                            max: new Date(\"2025-12-31\"),\n                        }),\n                    }),\n                    async ({ currentDate }) => {\n                        // Skip test if invalid date\n                        fc.pre(!isNaN(currentDate.getTime()));\n\n                        // Simulate cutoff date calculation\n                        const calculateCutoffDate = (now: Date) => {\n                            const cutoff = new Date(now);\n                            cutoff.setDate(cutoff.getDate() - 7);\n                            return cutoff;\n                        };\n\n                        const cutoffDate = calculateCutoffDate(currentDate);\n\n                        // Skip test if cutoff date is invalid\n                        fc.pre(!isNaN(cutoffDate.getTime()));\n\n                        // Verify cutoff date is exactly 7 days before current date\n                        // Use UTC to avoid DST issues\n                        const daysDifference = Math.round(\n                            (currentDate.getTime() - cutoffDate.getTime()) /\n                            (1000 * 60 * 60 * 24),\n                        );\n\n                        // Should be 7 days (allowing for small rounding differences due to DST)\n                        expect(daysDifference).toBeGreaterThanOrEqual(6);\n                        expect(daysDifference).toBeLessThanOrEqual(8);\n                        expect(cutoffDate.getTime()).toBeLessThan(currentDate.getTime());\n\n                        // Verify the cutoff date is in the past relative to current date\n                        expect(cutoffDate.getTime()).toBeLessThan(currentDate.getTime());\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}