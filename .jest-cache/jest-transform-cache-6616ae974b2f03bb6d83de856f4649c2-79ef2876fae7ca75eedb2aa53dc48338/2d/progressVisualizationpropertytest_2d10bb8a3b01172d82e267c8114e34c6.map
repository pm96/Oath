{"version":3,"names":["_getJestObj","mock","View","Text","useThemeStyles","mockTheme","_interopRequireWildcard","require","default","fc","_require","jest","colors","primary","muted","calculateProgressPercentage","value","max","Math","min","describe","it","assert","property","integer","percentage","expect","toBeGreaterThanOrEqual","toBeLessThanOrEqual","expected","toBeCloseTo","numRuns","toMatch","toBe","boolean","isCompleted","progress","array","minLength","maxLength","habitCompletions","completedCount","filter","Boolean","length","totalCount","aggregateProgress","constantFrom","size","validSizes","toContain"],"sources":["progressVisualization.property.test.ts"],"sourcesContent":["/**\n * Property-based tests for progress visualization\n * Feature: modern-ui-redesign, Property 11: Progress Visualization Accuracy\n * Validates: Requirements 7.1, 7.3\n */\n\nimport * as fc from \"fast-check\";\n\n// Mock React Native\njest.mock(\"react-native\", () => ({\n    View: \"View\",\n    Text: \"Text\",\n}));\n\n// Mock theme hook\nconst mockTheme = {\n    colors: {\n        primary: \"#22c55e\",\n        muted: \"#f1f5f9\",\n    },\n};\n\njest.mock(\"@/hooks/useTheme\", () => ({\n    useThemeStyles: () => mockTheme,\n}));\n\n// Progress visualization functions\nfunction calculateProgressPercentage(value: number, max: number): number {\n    if (max <= 0) return 0;\n    return Math.min(Math.max((value / max) * 100, 0), 100);\n}\n\ndescribe(\"Progress Visualization Property Tests\", () => {\n    describe(\"Property 11: Progress Visualization Accuracy\", () => {\n        it(\"should ensure progress percentages are calculated correctly\", () => {\n            fc.assert(\n                fc.property(\n                    fc.integer({ min: 0, max: 1000 }),\n                    fc.integer({ min: 1, max: 1000 }),\n                    (value, max) => {\n                        const percentage = calculateProgressPercentage(value, max);\n\n                        // Percentage should be within valid range\n                        expect(percentage).toBeGreaterThanOrEqual(0);\n                        expect(percentage).toBeLessThanOrEqual(100);\n\n                        // Should match expected calculation\n                        const expected = Math.min(Math.max((value / max) * 100, 0), 100);\n                        expect(percentage).toBeCloseTo(expected, 1);\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n\n        it(\"should ensure progress colors are valid\", () => {\n            fc.assert(\n                fc.property(fc.integer({ min: 0, max: 100 }), (percentage) => {\n                    const { colors } = mockTheme;\n\n                    // Primary color should be valid hex color\n                    expect(colors.primary).toMatch(/^#[0-9A-Fa-f]{6}$/);\n                    expect(colors.primary).toBe(\"#22c55e\");\n\n                    // Percentage should be valid\n                    expect(percentage).toBeGreaterThanOrEqual(0);\n                    expect(percentage).toBeLessThanOrEqual(100);\n                }),\n                { numRuns: 50 },\n            );\n        });\n\n        it(\"should handle edge cases correctly\", () => {\n            // Test zero progress\n            expect(calculateProgressPercentage(0, 100)).toBe(0);\n\n            // Test full progress\n            expect(calculateProgressPercentage(100, 100)).toBe(100);\n\n            // Test over-progress (should cap at 100%)\n            expect(calculateProgressPercentage(150, 100)).toBe(100);\n\n            // Test zero max (should return 0%)\n            expect(calculateProgressPercentage(50, 0)).toBe(0);\n        });\n\n        it(\"should ensure habit completion states are visually distinct\", () => {\n            fc.assert(\n                fc.property(\n                    fc.boolean(),\n                    fc.integer({ min: 0, max: 100 }),\n                    (isCompleted, progress) => {\n                        if (isCompleted) {\n                            // Completed habits should show 100% or have distinct visual state\n                            expect(progress === 100 || isCompleted).toBe(true);\n                        } else {\n                            // Incomplete habits should show actual progress\n                            expect(progress).toBeGreaterThanOrEqual(0);\n                            expect(progress).toBeLessThanOrEqual(100);\n                        }\n                    },\n                ),\n                { numRuns: 50 },\n            );\n        });\n\n        it(\"should ensure daily progress aggregation is accurate\", () => {\n            fc.assert(\n                fc.property(\n                    fc.array(fc.boolean(), { minLength: 1, maxLength: 10 }),\n                    (habitCompletions) => {\n                        const completedCount = habitCompletions.filter(Boolean).length;\n                        const totalCount = habitCompletions.length;\n                        const aggregateProgress = (completedCount / totalCount) * 100;\n\n                        // Aggregate progress should be accurate\n                        expect(aggregateProgress).toBeGreaterThanOrEqual(0);\n                        expect(aggregateProgress).toBeLessThanOrEqual(100);\n\n                        // Edge cases\n                        if (completedCount === 0) {\n                            expect(aggregateProgress).toBe(0);\n                        }\n                        if (completedCount === totalCount) {\n                            expect(aggregateProgress).toBe(100);\n                        }\n                    },\n                ),\n                { numRuns: 50 },\n            );\n        });\n\n        it(\"should ensure progress indicators are consistent across different sizes\", () => {\n            fc.assert(\n                fc.property(\n                    fc.integer({ min: 0, max: 100 }),\n                    fc.constantFrom(\"sm\", \"md\", \"lg\"),\n                    (percentage, size) => {\n                        // Progress percentage should be the same regardless of size\n                        expect(percentage).toBeGreaterThanOrEqual(0);\n                        expect(percentage).toBeLessThanOrEqual(100);\n\n                        // Size should be valid\n                        const validSizes = [\"sm\", \"md\", \"lg\"];\n                        expect(validSizes).toContain(size);\n                    },\n                ),\n                { numRuns: 40 },\n            );\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}