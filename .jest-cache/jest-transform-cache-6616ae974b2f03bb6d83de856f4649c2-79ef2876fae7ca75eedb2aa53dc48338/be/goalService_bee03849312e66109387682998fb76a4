9000e9c4beb6e6ebf22c954b0113b62b
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calculateNextDeadline = calculateNextDeadline;
exports.completeGoal = completeGoal;
exports.createGoal = createGoal;
exports.getGoalCalendar = getGoalCalendar;
exports.getGoalStreak = getGoalStreak;
exports.getUserGoals = getUserGoals;
exports.updateGoal = updateGoal;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _errorHandling = require("../../utils/errorHandling");
var _firestore = require("firebase/firestore");
var _collections = require("./collections");
function calculateNextDeadline(frequency, targetDays, lastCompletion) {
  var now = lastCompletion || new Date();
  var currentDay = now.getDay();
  var dayMap = {
    Sunday: 0,
    Monday: 1,
    Tuesday: 2,
    Wednesday: 3,
    Thursday: 4,
    Friday: 5,
    Saturday: 6
  };
  var targetDayNumbers = targetDays.map(function (day) {
    return dayMap[day];
  }).sort(function (a, b) {
    return a - b;
  });
  if (frequency === "daily") {
    var deadline = new Date(now);
    deadline.setHours(23, 59, 59, 999);
    if (lastCompletion) {
      deadline.setDate(deadline.getDate() + 1);
    }
    return deadline;
  }
  if (frequency === "weekly" || frequency === "3x_a_week") {
    var daysToAdd = 0;
    var found = false;
    for (var i = 1; i <= 7; i++) {
      var checkDay = (currentDay + i) % 7;
      if (targetDayNumbers.includes(checkDay)) {
        daysToAdd = i;
        found = true;
        break;
      }
    }
    if (!found) {
      var firstTargetDay = targetDayNumbers[0];
      daysToAdd = (firstTargetDay - currentDay + 7) % 7;
      if (daysToAdd === 0) daysToAdd = 7;
    }
    var _deadline = new Date(now);
    _deadline.setDate(_deadline.getDate() + daysToAdd);
    _deadline.setHours(23, 59, 59, 999);
    return _deadline;
  }
  var fallback = new Date(now);
  fallback.setHours(fallback.getHours() + 24);
  return fallback;
}
function createGoal(_x, _x2) {
  return _createGoal.apply(this, arguments);
}
function _createGoal() {
  _createGoal = (0, _asyncToGenerator2.default)(function* (userId, goalInput) {
    var validationError = (0, _errorHandling.validateGoalInput)(goalInput);
    if (validationError) {
      throw new Error(validationError);
    }
    try {
      return yield (0, _errorHandling.retryWithBackoff)((0, _asyncToGenerator2.default)(function* () {
        var goalsCollection = (0, _collections.getGoalsCollection)();
        var nextDeadline = calculateNextDeadline(goalInput.frequency, goalInput.targetDays);
        var goalData = {
          ownerId: userId,
          description: goalInput.description.trim(),
          frequency: goalInput.frequency,
          targetDays: goalInput.targetDays,
          latestCompletionDate: null,
          currentStatus: "Green",
          nextDeadline: _firestore.Timestamp.fromDate(nextDeadline),
          isShared: true,
          createdAt: (0, _firestore.serverTimestamp)(),
          redSince: null,
          difficulty: goalInput.difficulty
        };
        var docRef = yield (0, _firestore.addDoc)(goalsCollection, goalData);
        try {
          yield streakService.initializeHabitStreak(docRef.id, userId);
        } catch (streakError) {
          console.warn("Failed to initialize streak tracking:", streakError);
        }
        return docRef.id;
      }));
    } catch (error) {
      var message = (0, _errorHandling.getUserFriendlyErrorMessage)(error);
      throw new Error(message);
    }
  });
  return _createGoal.apply(this, arguments);
}
function updateGoal(_x3, _x4) {
  return _updateGoal.apply(this, arguments);
}
function _updateGoal() {
  _updateGoal = (0, _asyncToGenerator2.default)(function* (goalId, updates) {
    if (!goalId) {
      throw new Error("Goal ID is required");
    }
    try {
      yield (0, _errorHandling.retryWithBackoff)((0, _asyncToGenerator2.default)(function* () {
        var goalDoc = (0, _collections.getGoalDoc)(goalId);
        var firestoreUpdates = Object.assign({}, updates);
        if (updates.latestCompletionDate) {
          firestoreUpdates.latestCompletionDate = _firestore.Timestamp.fromDate(updates.latestCompletionDate);
        }
        if (updates.nextDeadline) {
          firestoreUpdates.nextDeadline = _firestore.Timestamp.fromDate(updates.nextDeadline);
        }
        if (updates.createdAt) {
          firestoreUpdates.createdAt = _firestore.Timestamp.fromDate(updates.createdAt);
        }
        if (updates.redSince) {
          firestoreUpdates.redSince = _firestore.Timestamp.fromDate(updates.redSince);
        }
        yield (0, _firestore.updateDoc)(goalDoc, firestoreUpdates);
      }));
    } catch (error) {
      var message = (0, _errorHandling.getUserFriendlyErrorMessage)(error);
      throw new Error(message);
    }
  });
  return _updateGoal.apply(this, arguments);
}
function completeGoal(_x5, _x6) {
  return _completeGoal.apply(this, arguments);
}
function _completeGoal() {
  _completeGoal = (0, _asyncToGenerator2.default)(function* (goalId, goal) {
    if (!goalId) {
      throw new Error("Goal ID is required");
    }
    if (!goal) {
      throw new Error("Goal data is required");
    }
    try {
      var now = new Date();
      var nextDeadline = calculateNextDeadline(goal.frequency, goal.targetDays, now);
      yield updateGoal(goalId, {
        latestCompletionDate: now,
        nextDeadline: nextDeadline,
        currentStatus: "Green",
        redSince: null
      });
      var completion = {
        habitId: goalId,
        userId: goal.ownerId,
        completedAt: _firestore.Timestamp.fromDate(now),
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
        notes: "",
        difficulty: goal.difficulty
      };
      var result = yield streakService.recordCompletionWithMilestoneCheck(completion);
      if (result.newMilestones.length > 0) {
        console.log(`New milestones achieved for goal ${goalId}:`, result.newMilestones);
      }
    } catch (error) {
      var message = (0, _errorHandling.getUserFriendlyErrorMessage)(error);
      throw new Error(message);
    }
  });
  return _completeGoal.apply(this, arguments);
}
function getUserGoals(userId, callback, onError) {
  if (!userId) {
    var error = new Error("User ID is required");
    if (onError) onError(error);
    return function () {};
  }
  var goalsCollection = (0, _collections.getGoalsCollection)();
  var q = (0, _firestore.query)(goalsCollection, (0, _firestore.where)("ownerId", "==", userId));
  var unsubscribe = (0, _firestore.onSnapshot)(q, function (snapshot) {
    try {
      var goals = snapshot.docs.map(function (doc) {
        var _data$latestCompletio, _data$createdAt, _data$redSince;
        var data = doc.data();
        return {
          id: doc.id,
          ownerId: data.ownerId,
          description: data.description,
          frequency: data.frequency,
          targetDays: data.targetDays,
          latestCompletionDate: ((_data$latestCompletio = data.latestCompletionDate) == null ? void 0 : _data$latestCompletio.toDate()) || null,
          currentStatus: data.currentStatus,
          nextDeadline: data.nextDeadline.toDate(),
          isShared: data.isShared,
          createdAt: ((_data$createdAt = data.createdAt) == null ? void 0 : _data$createdAt.toDate()) || new Date(),
          redSince: ((_data$redSince = data.redSince) == null ? void 0 : _data$redSince.toDate()) || null,
          difficulty: data.difficulty || "medium"
        };
      });
      callback(goals);
    } catch (error) {
      console.error("Error processing goals snapshot:", error);
      if (onError) {
        onError(error instanceof Error ? error : new Error("Failed to process goals data"));
      }
    }
  }, function (error) {
    console.error("Error in goals snapshot listener:", error);
    if (onError) {
      var message = (0, _errorHandling.getUserFriendlyErrorMessage)(error);
      onError(new Error(message));
    }
  });
  return unsubscribe;
}
function getGoalStreak(_x7, _x8) {
  return _getGoalStreak.apply(this, arguments);
}
function _getGoalStreak() {
  _getGoalStreak = (0, _asyncToGenerator2.default)(function* (goalId, userId) {
    try {
      return yield streakService.getHabitStreak(goalId, userId);
    } catch (error) {
      console.warn("Failed to get streak for goal:", error);
      return null;
    }
  });
  return _getGoalStreak.apply(this, arguments);
}
function getGoalCalendar(_x9, _x0) {
  return _getGoalCalendar.apply(this, arguments);
}
function _getGoalCalendar() {
  _getGoalCalendar = (0, _asyncToGenerator2.default)(function* (goalId, userId) {
    var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 90;
    var timezone = arguments.length > 3 ? arguments[3] : undefined;
    try {
      var userTimezone = timezone || Intl.DateTimeFormat().resolvedOptions().timeZone;
      return yield streakService.getHabitCalendar(goalId, userId, days, userTimezone);
    } catch (error) {
      console.warn("Failed to get calendar for goal:", error);
      return [];
    }
  });
  return _getGoalCalendar.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXJyb3JIYW5kbGluZyIsInJlcXVpcmUiLCJfZmlyZXN0b3JlIiwiX2NvbGxlY3Rpb25zIiwiY2FsY3VsYXRlTmV4dERlYWRsaW5lIiwiZnJlcXVlbmN5IiwidGFyZ2V0RGF5cyIsImxhc3RDb21wbGV0aW9uIiwibm93IiwiRGF0ZSIsImN1cnJlbnREYXkiLCJnZXREYXkiLCJkYXlNYXAiLCJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSIsInRhcmdldERheU51bWJlcnMiLCJtYXAiLCJkYXkiLCJzb3J0IiwiYSIsImIiLCJkZWFkbGluZSIsInNldEhvdXJzIiwic2V0RGF0ZSIsImdldERhdGUiLCJkYXlzVG9BZGQiLCJmb3VuZCIsImkiLCJjaGVja0RheSIsImluY2x1ZGVzIiwiZmlyc3RUYXJnZXREYXkiLCJmYWxsYmFjayIsImdldEhvdXJzIiwiY3JlYXRlR29hbCIsIl94IiwiX3gyIiwiX2NyZWF0ZUdvYWwiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJ1c2VySWQiLCJnb2FsSW5wdXQiLCJ2YWxpZGF0aW9uRXJyb3IiLCJ2YWxpZGF0ZUdvYWxJbnB1dCIsIkVycm9yIiwicmV0cnlXaXRoQmFja29mZiIsImdvYWxzQ29sbGVjdGlvbiIsImdldEdvYWxzQ29sbGVjdGlvbiIsIm5leHREZWFkbGluZSIsImdvYWxEYXRhIiwib3duZXJJZCIsImRlc2NyaXB0aW9uIiwidHJpbSIsImxhdGVzdENvbXBsZXRpb25EYXRlIiwiY3VycmVudFN0YXR1cyIsIlRpbWVzdGFtcCIsImZyb21EYXRlIiwiaXNTaGFyZWQiLCJjcmVhdGVkQXQiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJyZWRTaW5jZSIsImRpZmZpY3VsdHkiLCJkb2NSZWYiLCJhZGREb2MiLCJzdHJlYWtTZXJ2aWNlIiwiaW5pdGlhbGl6ZUhhYml0U3RyZWFrIiwiaWQiLCJzdHJlYWtFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyb3IiLCJtZXNzYWdlIiwiZ2V0VXNlckZyaWVuZGx5RXJyb3JNZXNzYWdlIiwidXBkYXRlR29hbCIsIl94MyIsIl94NCIsIl91cGRhdGVHb2FsIiwiZ29hbElkIiwidXBkYXRlcyIsImdvYWxEb2MiLCJnZXRHb2FsRG9jIiwiZmlyZXN0b3JlVXBkYXRlcyIsIk9iamVjdCIsImFzc2lnbiIsInVwZGF0ZURvYyIsImNvbXBsZXRlR29hbCIsIl94NSIsIl94NiIsIl9jb21wbGV0ZUdvYWwiLCJnb2FsIiwiY29tcGxldGlvbiIsImhhYml0SWQiLCJjb21wbGV0ZWRBdCIsInRpbWV6b25lIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwicmVzb2x2ZWRPcHRpb25zIiwidGltZVpvbmUiLCJub3RlcyIsInJlc3VsdCIsInJlY29yZENvbXBsZXRpb25XaXRoTWlsZXN0b25lQ2hlY2siLCJuZXdNaWxlc3RvbmVzIiwibGVuZ3RoIiwibG9nIiwiZ2V0VXNlckdvYWxzIiwiY2FsbGJhY2siLCJvbkVycm9yIiwicSIsInF1ZXJ5Iiwid2hlcmUiLCJ1bnN1YnNjcmliZSIsIm9uU25hcHNob3QiLCJzbmFwc2hvdCIsImdvYWxzIiwiZG9jcyIsImRvYyIsIl9kYXRhJGxhdGVzdENvbXBsZXRpbyIsIl9kYXRhJGNyZWF0ZWRBdCIsIl9kYXRhJHJlZFNpbmNlIiwiZGF0YSIsInRvRGF0ZSIsImdldEdvYWxTdHJlYWsiLCJfeDciLCJfeDgiLCJfZ2V0R29hbFN0cmVhayIsImdldEhhYml0U3RyZWFrIiwiZ2V0R29hbENhbGVuZGFyIiwiX3g5IiwiX3gwIiwiX2dldEdvYWxDYWxlbmRhciIsImRheXMiLCJ1bmRlZmluZWQiLCJ1c2VyVGltZXpvbmUiLCJnZXRIYWJpdENhbGVuZGFyIl0sInNvdXJjZXMiOlsiZ29hbFNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBnZXRVc2VyRnJpZW5kbHlFcnJvck1lc3NhZ2UsXG4gICAgcmV0cnlXaXRoQmFja29mZixcbiAgICB2YWxpZGF0ZUdvYWxJbnB1dCxcbn0gZnJvbSBcIkAvdXRpbHMvZXJyb3JIYW5kbGluZ1wiO1xuaW1wb3J0IHtcbiAgICBhZGREb2MsXG4gICAgb25TbmFwc2hvdCxcbiAgICBxdWVyeSxcbiAgICBzZXJ2ZXJUaW1lc3RhbXAsXG4gICAgVGltZXN0YW1wLFxuICAgIHVwZGF0ZURvYyxcbiAgICB3aGVyZSxcbn0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgZ2V0R29hbERvYywgZ2V0R29hbHNDb2xsZWN0aW9uLCBHb2FsIH0gZnJvbSBcIi4vY29sbGVjdGlvbnNcIjtcblxuLyoqXG4gKiBJbnB1dCB0eXBlIGZvciBjcmVhdGluZyBhIG5ldyBnb2FsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR29hbElucHV0IHtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGZyZXF1ZW5jeTogXCJkYWlseVwiIHwgXCJ3ZWVrbHlcIiB8IFwiM3hfYV93ZWVrXCI7XG4gICAgdGFyZ2V0RGF5czogc3RyaW5nW107IC8vIGUuZy4sIFsnTW9uZGF5JywgJ1dlZG5lc2RheScsICdGcmlkYXknXVxuICAgIGRpZmZpY3VsdHk6IFwiZWFzeVwiIHwgXCJtZWRpdW1cIiB8IFwiaGFyZFwiO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbmV4dCBkZWFkbGluZSBiYXNlZCBvbiBmcmVxdWVuY3kgYW5kIHRhcmdldCBkYXlzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVOZXh0RGVhZGxpbmUoXG4gICAgZnJlcXVlbmN5OiBcImRhaWx5XCIgfCBcIndlZWtseVwiIHwgXCIzeF9hX3dlZWtcIixcbiAgICB0YXJnZXREYXlzOiBzdHJpbmdbXSxcbiAgICBsYXN0Q29tcGxldGlvbj86IERhdGUsXG4pOiBEYXRlIHtcbiAgICBjb25zdCBub3cgPSBsYXN0Q29tcGxldGlvbiB8fCBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnREYXkgPSBub3cuZ2V0RGF5KCk7IC8vIDAgPSBTdW5kYXksIDEgPSBNb25kYXksIGV0Yy5cblxuICAgIC8vIE1hcCBkYXkgbmFtZXMgdG8gbnVtYmVyc1xuICAgIGNvbnN0IGRheU1hcDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHtcbiAgICAgICAgU3VuZGF5OiAwLFxuICAgICAgICBNb25kYXk6IDEsXG4gICAgICAgIFR1ZXNkYXk6IDIsXG4gICAgICAgIFdlZG5lc2RheTogMyxcbiAgICAgICAgVGh1cnNkYXk6IDQsXG4gICAgICAgIEZyaWRheTogNSxcbiAgICAgICAgU2F0dXJkYXk6IDYsXG4gICAgfTtcblxuICAgIC8vIENvbnZlcnQgdGFyZ2V0IGRheXMgdG8gbnVtYmVyc1xuICAgIGNvbnN0IHRhcmdldERheU51bWJlcnMgPSB0YXJnZXREYXlzXG4gICAgICAgIC5tYXAoKGRheSkgPT4gZGF5TWFwW2RheV0pXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG5cbiAgICBpZiAoZnJlcXVlbmN5ID09PSBcImRhaWx5XCIpIHtcbiAgICAgICAgLy8gTmV4dCBkZWFkbGluZSBpcyBlbmQgb2YgdG9kYXkgKDIzOjU5OjU5KSBvciB0b21vcnJvdyBpZiBhbHJlYWR5IGNvbXBsZXRlZCB0b2RheVxuICAgICAgICBjb25zdCBkZWFkbGluZSA9IG5ldyBEYXRlKG5vdyk7XG4gICAgICAgIGRlYWRsaW5lLnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7XG5cbiAgICAgICAgLy8gSWYgd2UganVzdCBjb21wbGV0ZWQgaXQsIHNldCBkZWFkbGluZSB0byB0b21vcnJvd1xuICAgICAgICBpZiAobGFzdENvbXBsZXRpb24pIHtcbiAgICAgICAgICAgIGRlYWRsaW5lLnNldERhdGUoZGVhZGxpbmUuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVhZGxpbmU7XG4gICAgfVxuXG4gICAgaWYgKGZyZXF1ZW5jeSA9PT0gXCJ3ZWVrbHlcIiB8fCBmcmVxdWVuY3kgPT09IFwiM3hfYV93ZWVrXCIpIHtcbiAgICAgICAgLy8gRmluZCB0aGUgbmV4dCBvY2N1cnJlbmNlIG9mIGFueSB0YXJnZXQgZGF5XG4gICAgICAgIGxldCBkYXlzVG9BZGQgPSAwO1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICAvLyBMb29rIGZvciB0aGUgbmV4dCB0YXJnZXQgZGF5IGluIHRoZSBuZXh0IDcgZGF5c1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA3OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrRGF5ID0gKGN1cnJlbnREYXkgKyBpKSAlIDc7XG4gICAgICAgICAgICBpZiAodGFyZ2V0RGF5TnVtYmVycy5pbmNsdWRlcyhjaGVja0RheSkpIHtcbiAgICAgICAgICAgICAgICBkYXlzVG9BZGQgPSBpO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIG5vIHRhcmdldCBkYXkgZm91bmQgaW4gbmV4dCA3IGRheXMsIHVzZSB0aGUgZmlyc3QgdGFyZ2V0IGRheSBuZXh0IHdlZWtcbiAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RUYXJnZXREYXkgPSB0YXJnZXREYXlOdW1iZXJzWzBdO1xuICAgICAgICAgICAgZGF5c1RvQWRkID0gKGZpcnN0VGFyZ2V0RGF5IC0gY3VycmVudERheSArIDcpICUgNztcbiAgICAgICAgICAgIGlmIChkYXlzVG9BZGQgPT09IDApIGRheXNUb0FkZCA9IDc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWFkbGluZSA9IG5ldyBEYXRlKG5vdyk7XG4gICAgICAgIGRlYWRsaW5lLnNldERhdGUoZGVhZGxpbmUuZ2V0RGF0ZSgpICsgZGF5c1RvQWRkKTtcbiAgICAgICAgZGVhZGxpbmUuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcblxuICAgICAgICByZXR1cm4gZGVhZGxpbmU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2s6IDI0IGhvdXJzIGZyb20gbm93XG4gICAgY29uc3QgZmFsbGJhY2sgPSBuZXcgRGF0ZShub3cpO1xuICAgIGZhbGxiYWNrLnNldEhvdXJzKGZhbGxiYWNrLmdldEhvdXJzKCkgKyAyNCk7XG4gICAgcmV0dXJuIGZhbGxiYWNrO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBnb2FsXG4gKiBSZXF1aXJlbWVudCAyLjE6IFZhbGlkYXRlIGdvYWwgaW5wdXRzIGFuZCBoYW5kbGUgZXJyb3JzXG4gKiBOb3cgaW5pdGlhbGl6ZXMgc3RyZWFrIHRyYWNraW5nIGZvciB0aGUgbmV3IGhhYml0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVHb2FsKFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIGdvYWxJbnB1dDogR29hbElucHV0LFxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRlR29hbElucHV0KGdvYWxJbnB1dCk7XG4gICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodmFsaWRhdGlvbkVycm9yKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgcmV0cnlXaXRoQmFja29mZihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnb2Fsc0NvbGxlY3Rpb24gPSBnZXRHb2Fsc0NvbGxlY3Rpb24oKTtcblxuICAgICAgICAgICAgY29uc3QgbmV4dERlYWRsaW5lID0gY2FsY3VsYXRlTmV4dERlYWRsaW5lKFxuICAgICAgICAgICAgICAgIGdvYWxJbnB1dC5mcmVxdWVuY3ksXG4gICAgICAgICAgICAgICAgZ29hbElucHV0LnRhcmdldERheXMsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBnb2FsRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBvd25lcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGdvYWxJbnB1dC5kZXNjcmlwdGlvbi50cmltKCksXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiBnb2FsSW5wdXQuZnJlcXVlbmN5LFxuICAgICAgICAgICAgICAgIHRhcmdldERheXM6IGdvYWxJbnB1dC50YXJnZXREYXlzLFxuICAgICAgICAgICAgICAgIGxhdGVzdENvbXBsZXRpb25EYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0dXM6IFwiR3JlZW5cIiBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICBuZXh0RGVhZGxpbmU6IFRpbWVzdGFtcC5mcm9tRGF0ZShuZXh0RGVhZGxpbmUpLFxuICAgICAgICAgICAgICAgIGlzU2hhcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgICAgICAgICAgcmVkU2luY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogZ29hbElucHV0LmRpZmZpY3VsdHksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoZ29hbHNDb2xsZWN0aW9uLCBnb2FsRGF0YSk7XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgc3RyZWFrIHRyYWNraW5nIGZvciB0aGUgbmV3IGhhYml0XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVha1NlcnZpY2UuaW5pdGlhbGl6ZUhhYml0U3RyZWFrKGRvY1JlZi5pZCwgdXNlcklkKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHN0cmVha0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgc3RyZWFrIHRyYWNraW5nOlwiLCBzdHJlYWtFcnJvcik7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZmFpbCBnb2FsIGNyZWF0aW9uIGlmIHN0cmVhayBpbml0aWFsaXphdGlvbiBmYWlsc1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZG9jUmVmLmlkO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2V0VXNlckZyaWVuZGx5RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgYSBnb2FsXG4gKiBJbmNsdWRlcyByZXRyeSBsb2dpYyBmb3IgbmV0d29yayBlcnJvcnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUdvYWwoXG4gICAgZ29hbElkOiBzdHJpbmcsXG4gICAgdXBkYXRlczogUGFydGlhbDxPbWl0PEdvYWwsIFwiaWRcIj4+LFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFnb2FsSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR29hbCBJRCBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBhd2FpdCByZXRyeVdpdGhCYWNrb2ZmKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdvYWxEb2MgPSBnZXRHb2FsRG9jKGdvYWxJZCk7XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgRGF0ZSBvYmplY3RzIHRvIFRpbWVzdGFtcHNcbiAgICAgICAgICAgIGNvbnN0IGZpcmVzdG9yZVVwZGF0ZXM6IGFueSA9IHsgLi4udXBkYXRlcyB9O1xuICAgICAgICAgICAgaWYgKHVwZGF0ZXMubGF0ZXN0Q29tcGxldGlvbkRhdGUpIHtcbiAgICAgICAgICAgICAgICBmaXJlc3RvcmVVcGRhdGVzLmxhdGVzdENvbXBsZXRpb25EYXRlID0gVGltZXN0YW1wLmZyb21EYXRlKFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVzLmxhdGVzdENvbXBsZXRpb25EYXRlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXBkYXRlcy5uZXh0RGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICBmaXJlc3RvcmVVcGRhdGVzLm5leHREZWFkbGluZSA9IFRpbWVzdGFtcC5mcm9tRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlcy5uZXh0RGVhZGxpbmUsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cGRhdGVzLmNyZWF0ZWRBdCkge1xuICAgICAgICAgICAgICAgIGZpcmVzdG9yZVVwZGF0ZXMuY3JlYXRlZEF0ID0gVGltZXN0YW1wLmZyb21EYXRlKHVwZGF0ZXMuY3JlYXRlZEF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cGRhdGVzLnJlZFNpbmNlKSB7XG4gICAgICAgICAgICAgICAgZmlyZXN0b3JlVXBkYXRlcy5yZWRTaW5jZSA9IFRpbWVzdGFtcC5mcm9tRGF0ZSh1cGRhdGVzLnJlZFNpbmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGdvYWxEb2MsIGZpcmVzdG9yZVVwZGF0ZXMpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2V0VXNlckZyaWVuZGx5RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb21wbGV0ZSBhIGdvYWwgLSB1cGRhdGVzIGNvbXBsZXRpb24gZGF0ZSwgcmVjYWxjdWxhdGVzIGRlYWRsaW5lLCBzZXRzIHN0YXR1cyB0byBHcmVlblxuICogSW5jbHVkZXMgdmFsaWRhdGlvbiBhbmQgZXJyb3IgaGFuZGxpbmdcbiAqIE5vdyBpbnRlZ3JhdGVzIHdpdGggc3RyZWFrIHN5c3RlbSBmb3IgaGFiaXQgdHJhY2tpbmdcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXBsZXRlR29hbChnb2FsSWQ6IHN0cmluZywgZ29hbDogR29hbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghZ29hbElkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdvYWwgSUQgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuXG4gICAgaWYgKCFnb2FsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdvYWwgZGF0YSBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBuZXh0RGVhZGxpbmUgPSBjYWxjdWxhdGVOZXh0RGVhZGxpbmUoXG4gICAgICAgICAgICBnb2FsLmZyZXF1ZW5jeSxcbiAgICAgICAgICAgIGdvYWwudGFyZ2V0RGF5cyxcbiAgICAgICAgICAgIG5vdyxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBVcGRhdGUgZ29hbCBzdGF0dXNcbiAgICAgICAgYXdhaXQgdXBkYXRlR29hbChnb2FsSWQsIHtcbiAgICAgICAgICAgIGxhdGVzdENvbXBsZXRpb25EYXRlOiBub3csXG4gICAgICAgICAgICBuZXh0RGVhZGxpbmU6IG5leHREZWFkbGluZSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0dXM6IFwiR3JlZW5cIixcbiAgICAgICAgICAgIHJlZFNpbmNlOiBudWxsLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZWNvcmQgY29tcGxldGlvbiBpbiBzdHJlYWsgc3lzdGVtXG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb246IE9taXQ8SGFiaXRDb21wbGV0aW9uLCBcImlkXCI+ID0ge1xuICAgICAgICAgICAgaGFiaXRJZDogZ29hbElkLCAvLyBVc2UgZ29hbCBJRCBhcyBoYWJpdCBJRCBmb3IgaW50ZWdyYXRpb25cbiAgICAgICAgICAgIHVzZXJJZDogZ29hbC5vd25lcklkLFxuICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5mcm9tRGF0ZShub3cpLFxuICAgICAgICAgICAgdGltZXpvbmU6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSxcbiAgICAgICAgICAgIG5vdGVzOiBcIlwiLFxuICAgICAgICAgICAgZGlmZmljdWx0eTogZ29hbC5kaWZmaWN1bHR5LFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFJlY29yZCBjb21wbGV0aW9uIGFuZCBjaGVjayBmb3IgbWlsZXN0b25lc1xuICAgICAgICBjb25zdCByZXN1bHQgPVxuICAgICAgICAgICAgYXdhaXQgc3RyZWFrU2VydmljZS5yZWNvcmRDb21wbGV0aW9uV2l0aE1pbGVzdG9uZUNoZWNrKGNvbXBsZXRpb24pO1xuXG4gICAgICAgIC8vIExvZyBtaWxlc3RvbmUgYWNoaWV2ZW1lbnRzIGZvciBwb3RlbnRpYWwgY2VsZWJyYXRpb25cbiAgICAgICAgaWYgKHJlc3VsdC5uZXdNaWxlc3RvbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIGBOZXcgbWlsZXN0b25lcyBhY2hpZXZlZCBmb3IgZ29hbCAke2dvYWxJZH06YCxcbiAgICAgICAgICAgICAgICByZXN1bHQubmV3TWlsZXN0b25lcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2V0VXNlckZyaWVuZGx5RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBTdWJzY3JpYmUgdG8gdXNlcidzIGdvYWxzIHdpdGggcmVhbC10aW1lIHVwZGF0ZXNcbiAqIEluY2x1ZGVzIGVycm9yIGhhbmRsaW5nIGZvciBzbmFwc2hvdCBsaXN0ZW5lclxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlckdvYWxzKFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIGNhbGxiYWNrOiAoZ29hbHM6IEdvYWxbXSkgPT4gdm9pZCxcbiAgICBvbkVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZCxcbik6ICgpID0+IHZvaWQge1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiVXNlciBJRCBpcyByZXF1aXJlZFwiKTtcbiAgICAgICAgaWYgKG9uRXJyb3IpIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cblxuICAgIGNvbnN0IGdvYWxzQ29sbGVjdGlvbiA9IGdldEdvYWxzQ29sbGVjdGlvbigpO1xuICAgIGNvbnN0IHEgPSBxdWVyeShnb2Fsc0NvbGxlY3Rpb24sIHdoZXJlKFwib3duZXJJZFwiLCBcIj09XCIsIHVzZXJJZCkpO1xuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvblNuYXBzaG90KFxuICAgICAgICBxLFxuICAgICAgICAoc25hcHNob3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ29hbHM6IEdvYWxbXSA9IHNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJJZDogZGF0YS5vd25lcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IGRhdGEuZnJlcXVlbmN5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF5czogZGF0YS50YXJnZXREYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0Q29tcGxldGlvbkRhdGU6IGRhdGEubGF0ZXN0Q29tcGxldGlvbkRhdGU/LnRvRGF0ZSgpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdHVzOiBkYXRhLmN1cnJlbnRTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RGVhZGxpbmU6IGRhdGEubmV4dERlYWRsaW5lLnRvRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTaGFyZWQ6IGRhdGEuaXNTaGFyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGEuY3JlYXRlZEF0Py50b0RhdGUoKSB8fCBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkU2luY2U6IGRhdGEucmVkU2luY2U/LnRvRGF0ZSgpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBkYXRhLmRpZmZpY3VsdHkgfHwgXCJtZWRpdW1cIiwgLy8gRGVmYXVsdCB0byBtZWRpdW0gZm9yIGV4aXN0aW5nIGdvYWxzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZ29hbHMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBnb2FscyBzbmFwc2hvdDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEVycm9yKFwiRmFpbGVkIHRvIHByb2Nlc3MgZ29hbHMgZGF0YVwiKSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGdvYWxzIHNuYXBzaG90IGxpc3RlbmVyOlwiLCBlcnJvcik7XG4gICAgICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRVc2VyRnJpZW5kbHlFcnJvck1lc3NhZ2UoZXJyb3IpO1xuICAgICAgICAgICAgICAgIG9uRXJyb3IobmV3IEVycm9yKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xufVxuXG4vKipcbiAqIEdldCBzdHJlYWsgaW5mb3JtYXRpb24gZm9yIGEgZ29hbC9oYWJpdFxuICogSW50ZWdyYXRlcyB3aXRoIHRoZSBzdHJlYWsgc3lzdGVtIHRvIHByb3ZpZGUgc3RyZWFrIGRhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdvYWxTdHJlYWsoZ29hbElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHN0cmVha1NlcnZpY2UuZ2V0SGFiaXRTdHJlYWsoZ29hbElkLCB1c2VySWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBnZXQgc3RyZWFrIGZvciBnb2FsOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHZXQgY2FsZW5kYXIgZGF0YSBmb3IgYSBnb2FsL2hhYml0XG4gKiBJbnRlZ3JhdGVzIHdpdGggdGhlIHN0cmVhayBzeXN0ZW0gdG8gcHJvdmlkZSBjYWxlbmRhciB2aXN1YWxpemF0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHb2FsQ2FsZW5kYXIoXG4gICAgZ29hbElkOiBzdHJpbmcsXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgZGF5czogbnVtYmVyID0gOTAsXG4gICAgdGltZXpvbmU/OiBzdHJpbmcsXG4pIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyVGltZXpvbmUgPVxuICAgICAgICAgICAgdGltZXpvbmUgfHwgSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lO1xuICAgICAgICByZXR1cm4gYXdhaXQgc3RyZWFrU2VydmljZS5nZXRIYWJpdENhbGVuZGFyKFxuICAgICAgICAgICAgZ29hbElkLFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgZGF5cyxcbiAgICAgICAgICAgIHVzZXJUaW1lem9uZSxcbiAgICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZ2V0IGNhbGVuZGFyIGZvciBnb2FsOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLElBQUFBLGNBQUEsR0FBQUMsT0FBQTtBQUtBLElBQUFDLFVBQUEsR0FBQUQsT0FBQTtBQVNBLElBQUFFLFlBQUEsR0FBQUYsT0FBQTtBQWVPLFNBQVNHLHFCQUFxQkEsQ0FDakNDLFNBQTJDLEVBQzNDQyxVQUFvQixFQUNwQkMsY0FBcUIsRUFDakI7RUFDSixJQUFNQyxHQUFHLEdBQUdELGNBQWMsSUFBSSxJQUFJRSxJQUFJLENBQUMsQ0FBQztFQUN4QyxJQUFNQyxVQUFVLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTSxDQUFDLENBQUM7RUFHL0IsSUFBTUMsTUFBaUMsR0FBRztJQUN0Q0MsTUFBTSxFQUFFLENBQUM7SUFDVEMsTUFBTSxFQUFFLENBQUM7SUFDVEMsT0FBTyxFQUFFLENBQUM7SUFDVkMsU0FBUyxF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