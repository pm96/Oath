{"version":3,"names":["_getJestObj","mock","streakNotificationService","mockNotificationService","useAuth","user","mockUser","getUserFriendlyErrorMessage","error","message","_interopRequireDefault","require","default","_asyncToGenerator2","_useStreakNotifications","_reactNative","_require","jest","getUserNotificationPreferences","fn","updateNotificationPreferences","sendMilestoneNotification","sendStreakRiskReminder","sendRecoveryNotification","sendWeeklyProgressNotification","uid","describe","beforeEach","clearAllMocks","it","mockPreferences","streakReminders","milestoneNotifications","recoveryNotifications","weeklyProgress","reminderTime","mockResolvedValue","_renderHook","renderHook","useStreakNotifications","result","act","Promise","resolve","setTimeout","expect","toHaveBeenCalledWith","current","preferences","toEqual","loading","toBe","mockRejectedValue","Error","_renderHook2","initialPreferences","undefined","_renderHook3","updateResult","updatePreferences","Object","assign","_renderHook4","_renderHook5","milestone","days","achievedAt","Date","celebrated","sendResult","_renderHook6","_renderHook7","_renderHook8","_renderHook9","toggleResult","toggleNotificationType","_renderHook0","updateReminderTime","_renderHook1","rejects","toThrow","doMock","_renderHook10"],"sources":["useStreakNotifications.test.ts"],"sourcesContent":["import { useStreakNotifications } from \"@/hooks/useStreakNotifications\";\nimport { act, renderHook } from \"@testing-library/react-native\";\n\n/**\n * Unit Tests for useStreakNotifications Hook\n *\n * Tests the React hook for managing streak notifications\n * Requirements: 11.1, 11.2, 11.3, 11.4, 11.5\n */\n\n// Mock the notification service\nconst mockNotificationService = {\n    getUserNotificationPreferences: jest.fn(),\n    updateNotificationPreferences: jest.fn(),\n    sendMilestoneNotification: jest.fn(),\n    sendStreakRiskReminder: jest.fn(),\n    sendRecoveryNotification: jest.fn(),\n    sendWeeklyProgressNotification: jest.fn(),\n};\n\njest.mock(\"@/services/firebase/streakNotificationService\", () => ({\n    streakNotificationService: mockNotificationService,\n}));\n\n// Mock useAuth hook\nconst mockUser = { uid: \"test-user-123\" };\njest.mock(\"@/hooks/useAuth\", () => ({\n    useAuth: () => ({ user: mockUser }),\n}));\n\n// Mock error handling\njest.mock(\"@/utils/errorHandling\", () => ({\n    getUserFriendlyErrorMessage: (error: any) => error.message || \"Unknown error\",\n}));\n\ndescribe(\"useStreakNotifications\", () => {\n    beforeEach(() => {\n        jest.clearAllMocks();\n    });\n\n    describe(\"Loading Preferences\", () => {\n        it(\"should load user preferences on mount\", async () => {\n            const mockPreferences = {\n                streakReminders: true,\n                milestoneNotifications: true,\n                recoveryNotifications: false,\n                weeklyProgress: true,\n                reminderTime: 3,\n            };\n\n            mockNotificationService.getUserNotificationPreferences.mockResolvedValue(\n                mockPreferences,\n            );\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for the effect to complete\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            expect(\n                mockNotificationService.getUserNotificationPreferences,\n            ).toHaveBeenCalledWith(\"test-user-123\");\n            expect(result.current.preferences).toEqual(mockPreferences);\n            expect(result.current.loading).toBe(false);\n            expect(result.current.error).toBe(null);\n        });\n\n        it(\"should handle errors when loading preferences\", async () => {\n            mockNotificationService.getUserNotificationPreferences.mockRejectedValue(\n                new Error(\"Failed to load preferences\"),\n            );\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for the effect to complete\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            expect(result.current.preferences).toBe(null);\n            expect(result.current.loading).toBe(false);\n            expect(result.current.error).toBe(\"Failed to load preferences\");\n        });\n    });\n\n    describe(\"Updating Preferences\", () => {\n        it(\"should update notification preferences successfully\", async () => {\n            const initialPreferences = {\n                streakReminders: true,\n                milestoneNotifications: true,\n                recoveryNotifications: true,\n                weeklyProgress: true,\n                reminderTime: 2,\n            };\n\n            mockNotificationService.getUserNotificationPreferences.mockResolvedValue(\n                initialPreferences,\n            );\n            mockNotificationService.updateNotificationPreferences.mockResolvedValue(\n                undefined,\n            );\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            // Update preferences\n            let updateResult: boolean | undefined;\n            await act(async () => {\n                updateResult = await result.current.updatePreferences({\n                    streakReminders: false,\n                    reminderTime: 4,\n                });\n            });\n\n            expect(\n                mockNotificationService.updateNotificationPreferences,\n            ).toHaveBeenCalledWith(\"test-user-123\", {\n                streakReminders: false,\n                reminderTime: 4,\n            });\n            expect(updateResult).toBe(true);\n            expect(result.current.preferences).toEqual({\n                ...initialPreferences,\n                streakReminders: false,\n                reminderTime: 4,\n            });\n        });\n\n        it(\"should handle errors when updating preferences\", async () => {\n            mockNotificationService.getUserNotificationPreferences.mockResolvedValue({\n                streakReminders: true,\n                milestoneNotifications: true,\n                recoveryNotifications: true,\n                weeklyProgress: true,\n                reminderTime: 2,\n            });\n            mockNotificationService.updateNotificationPreferences.mockRejectedValue(\n                new Error(\"Update failed\"),\n            );\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            // Try to update preferences\n            let updateResult: boolean | undefined;\n            await act(async () => {\n                updateResult = await result.current.updatePreferences({\n                    streakReminders: false,\n                });\n            });\n\n            expect(updateResult).toBe(false);\n            expect(result.current.error).toBe(\"Update failed\");\n        });\n    });\n\n    describe(\"Sending Notifications\", () => {\n        beforeEach(async () => {\n            mockNotificationService.getUserNotificationPreferences.mockResolvedValue({\n                streakReminders: true,\n                milestoneNotifications: true,\n                recoveryNotifications: true,\n                weeklyProgress: true,\n                reminderTime: 2,\n            });\n        });\n\n        it(\"should send milestone notification successfully\", async () => {\n            mockNotificationService.sendMilestoneNotification.mockResolvedValue(true);\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            const milestone = { days: 7, achievedAt: new Date(), celebrated: false };\n            let sendResult: boolean | undefined;\n\n            await act(async () => {\n                sendResult = await result.current.sendMilestoneNotification(\n                    \"habit123\",\n                    \"Exercise\",\n                    milestone,\n                );\n            });\n\n            expect(\n                mockNotificationService.sendMilestoneNotification,\n            ).toHaveBeenCalledWith(\n                \"test-user-123\",\n                \"habit123\",\n                \"Exercise\",\n                milestone,\n            );\n            expect(sendResult).toBe(true);\n        });\n\n        it(\"should send streak risk reminder successfully\", async () => {\n            mockNotificationService.sendStreakRiskReminder.mockResolvedValue(true);\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            let sendResult: boolean | undefined;\n\n            await act(async () => {\n                sendResult = await result.current.sendStreakRiskReminder(\n                    \"habit123\",\n                    \"Exercise\",\n                    15,\n                );\n            });\n\n            expect(\n                mockNotificationService.sendStreakRiskReminder,\n            ).toHaveBeenCalledWith(\"test-user-123\", \"habit123\", \"Exercise\", 15);\n            expect(sendResult).toBe(true);\n        });\n\n        it(\"should send recovery notification successfully\", async () => {\n            mockNotificationService.sendRecoveryNotification.mockResolvedValue(true);\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            let sendResult: boolean | undefined;\n\n            await act(async () => {\n                sendResult = await result.current.sendRecoveryNotification(\n                    \"habit123\",\n                    \"Exercise\",\n                    20,\n                );\n            });\n\n            expect(\n                mockNotificationService.sendRecoveryNotification,\n            ).toHaveBeenCalledWith(\"test-user-123\", \"habit123\", \"Exercise\", 20);\n            expect(sendResult).toBe(true);\n        });\n\n        it(\"should send weekly progress notification successfully\", async () => {\n            mockNotificationService.sendWeeklyProgressNotification.mockResolvedValue(\n                true,\n            );\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            let sendResult: boolean | undefined;\n\n            await act(async () => {\n                sendResult = await result.current.sendWeeklyProgressNotification(\n                    \"habit123\",\n                    \"Exercise\",\n                    30,\n                    6,\n                );\n            });\n\n            expect(\n                mockNotificationService.sendWeeklyProgressNotification,\n            ).toHaveBeenCalledWith(\"test-user-123\", \"habit123\", \"Exercise\", 30, 6);\n            expect(sendResult).toBe(true);\n        });\n    });\n\n    describe(\"Convenience Methods\", () => {\n        beforeEach(async () => {\n            mockNotificationService.getUserNotificationPreferences.mockResolvedValue({\n                streakReminders: true,\n                milestoneNotifications: true,\n                recoveryNotifications: true,\n                weeklyProgress: true,\n                reminderTime: 2,\n            });\n            mockNotificationService.updateNotificationPreferences.mockResolvedValue(\n                undefined,\n            );\n        });\n\n        it(\"should toggle notification type\", async () => {\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            let toggleResult: boolean | undefined;\n\n            await act(async () => {\n                toggleResult = await result.current.toggleNotificationType(\n                    \"streakReminders\",\n                    false,\n                );\n            });\n\n            expect(\n                mockNotificationService.updateNotificationPreferences,\n            ).toHaveBeenCalledWith(\"test-user-123\", { streakReminders: false });\n            expect(toggleResult).toBe(true);\n        });\n\n        it(\"should update reminder time\", async () => {\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            let updateResult: boolean | undefined;\n\n            await act(async () => {\n                updateResult = await result.current.updateReminderTime(4);\n            });\n\n            expect(\n                mockNotificationService.updateNotificationPreferences,\n            ).toHaveBeenCalledWith(\"test-user-123\", { reminderTime: 4 });\n            expect(updateResult).toBe(true);\n        });\n\n        it(\"should validate reminder time range\", async () => {\n            const { result } = renderHook(() => useStreakNotifications());\n\n            // Wait for initial load\n            await act(async () => {\n                await new Promise((resolve) => setTimeout(resolve, 0));\n            });\n\n            // Test invalid reminder time\n            await expect(async () => {\n                await act(async () => {\n                    await result.current.updateReminderTime(15); // Too high\n                });\n            }).rejects.toThrow(\"Reminder time must be between 1 and 12 hours\");\n\n            await expect(async () => {\n                await act(async () => {\n                    await result.current.updateReminderTime(0); // Too low\n                });\n            }).rejects.toThrow(\"Reminder time must be between 1 and 12 hours\");\n        });\n    });\n\n    describe(\"Authentication Handling\", () => {\n        it(\"should handle unauthenticated user\", async () => {\n            // Mock no user\n            jest.doMock(\"@/hooks/useAuth\", () => ({\n                useAuth: () => ({ user: null }),\n            }));\n\n            const { result } = renderHook(() => useStreakNotifications());\n\n            expect(result.current.preferences).toBe(null);\n            expect(result.current.error).toBe(null);\n\n            // Try to send notification without user\n            await expect(async () => {\n                await act(async () => {\n                    await result.current.sendMilestoneNotification(\n                        \"habit123\",\n                        \"Exercise\",\n                        { days: 7, achievedAt: new Date(), celebrated: false },\n                    );\n                });\n            }).rejects.toThrow(\"User must be authenticated\");\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}