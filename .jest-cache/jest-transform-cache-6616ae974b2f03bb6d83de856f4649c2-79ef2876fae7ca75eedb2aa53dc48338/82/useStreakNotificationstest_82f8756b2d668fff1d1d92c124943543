f75c0d8c378c90238e63a0a3a01eef67
_getJestObj().mock("../services/firebase/streakNotificationService", function () {
  return {
    streakNotificationService: mockNotificationService
  };
});
_getJestObj().mock("../hooks/useAuth", function () {
  return {
    useAuth: function useAuth() {
      return {
        user: mockUser
      };
    }
  };
});
_getJestObj().mock("../utils/errorHandling", function () {
  return {
    getUserFriendlyErrorMessage: function getUserFriendlyErrorMessage(error) {
      return error.message || "Unknown error";
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _useStreakNotifications = require("../hooks/useStreakNotifications");
var _reactNative = require("@testing-library/react-native");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockNotificationService = {
  getUserNotificationPreferences: jest.fn(),
  updateNotificationPreferences: jest.fn(),
  sendMilestoneNotification: jest.fn(),
  sendStreakRiskReminder: jest.fn(),
  sendRecoveryNotification: jest.fn(),
  sendWeeklyProgressNotification: jest.fn()
};
var mockUser = {
  uid: "test-user-123"
};
describe("useStreakNotifications", function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe("Loading Preferences", function () {
    it("should load user preferences on mount", (0, _asyncToGenerator2.default)(function* () {
      var mockPreferences = {
        streakReminders: true,
        milestoneNotifications: true,
        recoveryNotifications: false,
        weeklyProgress: true,
        reminderTime: 3
      };
      mockNotificationService.getUserNotificationPreferences.mockResolvedValue(mockPreferences);
      var _renderHook = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      expect(mockNotificationService.getUserNotificationPreferences).toHaveBeenCalledWith("test-user-123");
      expect(result.current.preferences).toEqual(mockPreferences);
      expect(result.current.loading).toBe(false);
      expect(result.current.error).toBe(null);
    }));
    it("should handle errors when loading preferences", (0, _asyncToGenerator2.default)(function* () {
      mockNotificationService.getUserNotificationPreferences.mockRejectedValue(new Error("Failed to load preferences"));
      var _renderHook2 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook2.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      expect(result.current.preferences).toBe(null);
      expect(result.current.loading).toBe(false);
      expect(result.current.error).toBe("Failed to load preferences");
    }));
  });
  describe("Updating Preferences", function () {
    it("should update notification preferences successfully", (0, _asyncToGenerator2.default)(function* () {
      var initialPreferences = {
        streakReminders: true,
        milestoneNotifications: true,
        recoveryNotifications: true,
        weeklyProgress: true,
        reminderTime: 2
      };
      mockNotificationService.getUserNotificationPreferences.mockResolvedValue(initialPreferences);
      mockNotificationService.updateNotificationPreferences.mockResolvedValue(undefined);
      var _renderHook3 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook3.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      var updateResult;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        updateResult = yield result.current.updatePreferences({
          streakReminders: false,
          reminderTime: 4
        });
      }));
      expect(mockNotificationService.updateNotificationPreferences).toHaveBeenCalledWith("test-user-123", {
        streakReminders: false,
        reminderTime: 4
      });
      expect(updateResult).toBe(true);
      expect(result.current.preferences).toEqual(Object.assign({}, initialPreferences, {
        streakReminders: false,
        reminderTime: 4
      }));
    }));
    it("should handle errors when updating preferences", (0, _asyncToGenerator2.default)(function* () {
      mockNotificationService.getUserNotificationPreferences.mockResolvedValue({
        streakReminders: true,
        milestoneNotifications: true,
        recoveryNotifications: true,
        weeklyProgress: true,
        reminderTime: 2
      });
      mockNotificationService.updateNotificationPreferences.mockRejectedValue(new Error("Update failed"));
      var _renderHook4 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook4.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      var updateResult;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        updateResult = yield result.current.updatePreferences({
          streakReminders: false
        });
      }));
      expect(updateResult).toBe(false);
      expect(result.current.error).toBe("Update failed");
    }));
  });
  describe("Sending Notifications", function () {
    beforeEach((0, _asyncToGenerator2.default)(function* () {
      mockNotificationService.getUserNotificationPreferences.mockResolvedValue({
        streakReminders: true,
        milestoneNotifications: true,
        recoveryNotifications: true,
        weeklyProgress: true,
        reminderTime: 2
      });
    }));
    it("should send milestone notification successfully", (0, _asyncToGenerator2.default)(function* () {
      mockNotificationService.sendMilestoneNotification.mockResolvedValue(true);
      var _renderHook5 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook5.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      var milestone = {
        days: 7,
        achievedAt: new Date(),
        celebrated: false
      };
      var sendResult;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        sendResult = yield result.current.sendMilestoneNotification("habit123", "Exercise", milestone);
      }));
      expect(mockNotificationService.sendMilestoneNotification).toHaveBeenCalledWith("test-user-123", "habit123", "Exercise", milestone);
      expect(sendResult).toBe(true);
    }));
    it("should send streak risk reminder successfully", (0, _asyncToGenerator2.default)(function* () {
      mockNotificationService.sendStreakRiskReminder.mockResolvedValue(true);
      var _renderHook6 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook6.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      var sendResult;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        sendResult = yield result.current.sendStreakRiskReminder("habit123", "Exercise", 15);
      }));
      expect(mockNotificationService.sendStreakRiskReminder).toHaveBeenCalledWith("test-user-123", "habit123", "Exercise", 15);
      expect(sendResult).toBe(true);
    }));
    it("should send recovery notification successfully", (0, _asyncToGenerator2.default)(function* () {
      mockNotificationService.sendRecoveryNotification.mockResolvedValue(true);
      var _renderHook7 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook7.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      var sendResult;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        sendResult = yield result.current.sendRecoveryNotification("habit123", "Exercise", 20);
      }));
      expect(mockNotificationService.sendRecoveryNotification).toHaveBeenCalledWith("test-user-123", "habit123", "Exercise", 20);
      expect(sendResult).toBe(true);
    }));
    it("should send weekly progress notification successfully", (0, _asyncToGenerator2.default)(function* () {
      mockNotificationService.sendWeeklyProgressNotification.mockResolvedValue(true);
      var _renderHook8 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook8.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      var sendResult;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        sendResult = yield result.current.sendWeeklyProgressNotification("habit123", "Exercise", 30, 6);
      }));
      expect(mockNotificationService.sendWeeklyProgressNotification).toHaveBeenCalledWith("test-user-123", "habit123", "Exercise", 30, 6);
      expect(sendResult).toBe(true);
    }));
  });
  describe("Convenience Methods", function () {
    beforeEach((0, _asyncToGenerator2.default)(function* () {
      mockNotificationService.getUserNotificationPreferences.mockResolvedValue({
        streakReminders: true,
        milestoneNotifications: true,
        recoveryNotifications: true,
        weeklyProgress: true,
        reminderTime: 2
      });
      mockNotificationService.updateNotificationPreferences.mockResolvedValue(undefined);
    }));
    it("should toggle notification type", (0, _asyncToGenerator2.default)(function* () {
      var _renderHook9 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook9.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      var toggleResult;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        toggleResult = yield result.current.toggleNotificationType("streakReminders", false);
      }));
      expect(mockNotificationService.updateNotificationPreferences).toHaveBeenCalledWith("test-user-123", {
        streakReminders: false
      });
      expect(toggleResult).toBe(true);
    }));
    it("should update reminder time", (0, _asyncToGenerator2.default)(function* () {
      var _renderHook0 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook0.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      var updateResult;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        updateResult = yield result.current.updateReminderTime(4);
      }));
      expect(mockNotificationService.updateNotificationPreferences).toHaveBeenCalledWith("test-user-123", {
        reminderTime: 4
      });
      expect(updateResult).toBe(true);
    }));
    it("should validate reminder time range", (0, _asyncToGenerator2.default)(function* () {
      var _renderHook1 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook1.result;
      yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 0);
        });
      }));
      yield expect((0, _asyncToGenerator2.default)(function* () {
        yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
          yield result.current.updateReminderTime(15);
        }));
      })).rejects.toThrow("Reminder time must be between 1 and 12 hours");
      yield expect((0, _asyncToGenerator2.default)(function* () {
        yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
          yield result.current.updateReminderTime(0);
        }));
      })).rejects.toThrow("Reminder time must be between 1 and 12 hours");
    }));
  });
  describe("Authentication Handling", function () {
    it("should handle unauthenticated user", (0, _asyncToGenerator2.default)(function* () {
      jest.doMock("../hooks/useAuth", function () {
        return {
          useAuth: function useAuth() {
            return {
              user: null
            };
          }
        };
      });
      var _renderHook10 = (0, _reactNative.renderHook)(function () {
          return (0, _useStreakNotifications.useStreakNotifications)();
        }),
        result = _renderHook10.result;
      expect(result.current.preferences).toBe(null);
      expect(result.current.error).toBe(null);
      yield expect((0, _asyncToGenerator2.default)(function* () {
        yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
          yield result.current.sendMilestoneNotification("habit123", "Exercise", {
            days: 7,
            achievedAt: new Date(),
            celebrated: false
          });
        }));
      })).rejects.toThrow("User must be authenticated");
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJzdHJlYWtOb3RpZmljYXRpb25TZXJ2aWNlIiwibW9ja05vdGlmaWNhdGlvblNlcnZpY2UiLCJ1c2VBdXRoIiwidXNlciIsIm1vY2tVc2VyIiwiZ2V0VXNlckZyaWVuZGx5RXJyb3JNZXNzYWdlIiwiZXJyb3IiLCJtZXNzYWdlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJkZWZhdWx0IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3VzZVN0cmVha05vdGlmaWNhdGlvbnMiLCJfcmVhY3ROYXRpdmUiLCJfcmVxdWlyZSIsImplc3QiLCJnZXRVc2VyTm90aWZpY2F0aW9uUHJlZmVyZW5jZXMiLCJmbiIsInVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzIiwic2VuZE1pbGVzdG9uZU5vdGlmaWNhdGlvbiIsInNlbmRTdHJlYWtSaXNrUmVtaW5kZXIiLCJzZW5kUmVjb3ZlcnlOb3RpZmljYXRpb24iLCJzZW5kV2Vla2x5UHJvZ3Jlc3NOb3RpZmljYXRpb24iLCJ1aWQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrUHJlZmVyZW5jZXMiLCJzdHJlYWtSZW1pbmRlcnMiLCJtaWxlc3RvbmVOb3RpZmljYXRpb25zIiwicmVjb3ZlcnlOb3RpZmljYXRpb25zIiwid2Vla2x5UHJvZ3Jlc3MiLCJyZW1pbmRlclRpbWUiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsIl9yZW5kZXJIb29rIiwicmVuZGVySG9vayIsInVzZVN0cmVha05vdGlmaWNhdGlvbnMiLCJyZXN1bHQiLCJhY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImN1cnJlbnQiLCJwcmVmZXJlbmNlcyIsInRvRXF1YWwiLCJsb2FkaW5nIiwidG9CZSIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJfcmVuZGVySG9vazIiLCJpbml0aWFsUHJlZmVyZW5jZXMiLCJ1bmRlZmluZWQiLCJfcmVuZGVySG9vazMiLCJ1cGRhdGVSZXN1bHQiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsIk9iamVjdCIsImFzc2lnbiIsIl9yZW5kZXJIb29rNCIsIl9yZW5kZXJIb29rNSIsIm1pbGVzdG9uZSIsImRheXMiLCJhY2hpZXZlZEF0IiwiRGF0ZSIsImNlbGVicmF0ZWQiLCJzZW5kUmVzdWx0IiwiX3JlbmRlckhvb2s2IiwiX3JlbmRlckhvb2s3IiwiX3JlbmRlckhvb2s4IiwiX3JlbmRlckhvb2s5IiwidG9nZ2xlUmVzdWx0IiwidG9nZ2xlTm90aWZpY2F0aW9uVHlwZSIsIl9yZW5kZXJIb29rMCIsInVwZGF0ZVJlbWluZGVyVGltZSIsIl9yZW5kZXJIb29rMSIsInJlamVjdHMiLCJ0b1Rocm93IiwiZG9Nb2NrIiwiX3JlbmRlckhvb2sxMCJdLCJzb3VyY2VzIjpbInVzZVN0cmVha05vdGlmaWNhdGlvbnMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdHJlYWtOb3RpZmljYXRpb25zIH0gZnJvbSBcIkAvaG9va3MvdXNlU3RyZWFrTm90aWZpY2F0aW9uc1wiO1xuaW1wb3J0IHsgYWN0LCByZW5kZXJIb29rIH0gZnJvbSBcIkB0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlXCI7XG5cbi8qKlxuICogVW5pdCBUZXN0cyBmb3IgdXNlU3RyZWFrTm90aWZpY2F0aW9ucyBIb29rXG4gKlxuICogVGVzdHMgdGhlIFJlYWN0IGhvb2sgZm9yIG1hbmFnaW5nIHN0cmVhayBub3RpZmljYXRpb25zXG4gKiBSZXF1aXJlbWVudHM6IDExLjEsIDExLjIsIDExLjMsIDExLjQsIDExLjVcbiAqL1xuXG4vLyBNb2NrIHRoZSBub3RpZmljYXRpb24gc2VydmljZVxuY29uc3QgbW9ja05vdGlmaWNhdGlvblNlcnZpY2UgPSB7XG4gICAgZ2V0VXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2VzOiBqZXN0LmZuKCksXG4gICAgdXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXM6IGplc3QuZm4oKSxcbiAgICBzZW5kTWlsZXN0b25lTm90aWZpY2F0aW9uOiBqZXN0LmZuKCksXG4gICAgc2VuZFN0cmVha1Jpc2tSZW1pbmRlcjogamVzdC5mbigpLFxuICAgIHNlbmRSZWNvdmVyeU5vdGlmaWNhdGlvbjogamVzdC5mbigpLFxuICAgIHNlbmRXZWVrbHlQcm9ncmVzc05vdGlmaWNhdGlvbjogamVzdC5mbigpLFxufTtcblxuamVzdC5tb2NrKFwiQC9zZXJ2aWNlcy9maXJlYmFzZS9zdHJlYWtOb3RpZmljYXRpb25TZXJ2aWNlXCIsICgpID0+ICh7XG4gICAgc3RyZWFrTm90aWZpY2F0aW9uU2VydmljZTogbW9ja05vdGlmaWNhdGlvblNlcnZpY2UsXG59KSk7XG5cbi8vIE1vY2sgdXNlQXV0aCBob29rXG5jb25zdCBtb2NrVXNlciA9IHsgdWlkOiBcInRlc3QtdXNlci0xMjNcIiB9O1xuamVzdC5tb2NrKFwiQC9ob29rcy91c2VBdXRoXCIsICgpID0+ICh7XG4gICAgdXNlQXV0aDogKCkgPT4gKHsgdXNlcjogbW9ja1VzZXIgfSksXG59KSk7XG5cbi8vIE1vY2sgZXJyb3IgaGFuZGxpbmdcbmplc3QubW9jayhcIkAvdXRpbHMvZXJyb3JIYW5kbGluZ1wiLCAoKSA9PiAoe1xuICAgIGdldFVzZXJGcmllbmRseUVycm9yTWVzc2FnZTogKGVycm9yOiBhbnkpID0+IGVycm9yLm1lc3NhZ2UgfHwgXCJVbmtub3duIGVycm9yXCIsXG59KSk7XG5cbmRlc2NyaWJlKFwidXNlU3RyZWFrTm90aWZpY2F0aW9uc1wiLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJMb2FkaW5nIFByZWZlcmVuY2VzXCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgbG9hZCB1c2VyIHByZWZlcmVuY2VzIG9uIG1vdW50XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tQcmVmZXJlbmNlcyA9IHtcbiAgICAgICAgICAgICAgICBzdHJlYWtSZW1pbmRlcnM6IHRydWUsXG4gICAgICAgICAgICAgICAgbWlsZXN0b25lTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZWNvdmVyeU5vdGlmaWNhdGlvbnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdlZWtseVByb2dyZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZTogMyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIG1vY2tOb3RpZmljYXRpb25TZXJ2aWNlLmdldFVzZXJOb3RpZmljYXRpb25QcmVmZXJlbmNlcy5tb2NrUmVzb2x2ZWRWYWx1ZShcbiAgICAgICAgICAgICAgICBtb2NrUHJlZmVyZW5jZXMsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTdHJlYWtOb3RpZmljYXRpb25zKCkpO1xuXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgZWZmZWN0IHRvIGNvbXBsZXRlXG4gICAgICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBleHBlY3QoXG4gICAgICAgICAgICAgICAgbW9ja05vdGlmaWNhdGlvblNlcnZpY2UuZ2V0VXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2VzLFxuICAgICAgICAgICAgKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcInRlc3QtdXNlci0xMjNcIik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucHJlZmVyZW5jZXMpLnRvRXF1YWwobW9ja1ByZWZlcmVuY2VzKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvcikudG9CZShudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgaGFuZGxlIGVycm9ycyB3aGVuIGxvYWRpbmcgcHJlZmVyZW5jZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbW9ja05vdGlmaWNhdGlvblNlcnZpY2UuZ2V0VXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2VzLm1vY2tSZWplY3RlZFZhbHVlKFxuICAgICAgICAgICAgICAgIG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIHByZWZlcmVuY2VzXCIpLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU3RyZWFrTm90aWZpY2F0aW9ucygpKTtcblxuICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGVmZmVjdCB0byBjb21wbGV0ZVxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnByZWZlcmVuY2VzKS50b0JlKG51bGwpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvYWRpbmcpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm9yKS50b0JlKFwiRmFpbGVkIHRvIGxvYWQgcHJlZmVyZW5jZXNcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJVcGRhdGluZyBQcmVmZXJlbmNlc1wiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIHVwZGF0ZSBub3RpZmljYXRpb24gcHJlZmVyZW5jZXMgc3VjY2Vzc2Z1bGx5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxQcmVmZXJlbmNlcyA9IHtcbiAgICAgICAgICAgICAgICBzdHJlYWtSZW1pbmRlcnM6IHRydWUsXG4gICAgICAgICAgICAgICAgbWlsZXN0b25lTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZWNvdmVyeU5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICAgICAgd2Vla2x5UHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJUaW1lOiAyLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbW9ja05vdGlmaWNhdGlvblNlcnZpY2UuZ2V0VXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2VzLm1vY2tSZXNvbHZlZFZhbHVlKFxuICAgICAgICAgICAgICAgIGluaXRpYWxQcmVmZXJlbmNlcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBtb2NrTm90aWZpY2F0aW9uU2VydmljZS51cGRhdGVOb3RpZmljYXRpb25QcmVmZXJlbmNlcy5tb2NrUmVzb2x2ZWRWYWx1ZShcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTdHJlYWtOb3RpZmljYXRpb25zKCkpO1xuXG4gICAgICAgICAgICAvLyBXYWl0IGZvciBpbml0aWFsIGxvYWRcbiAgICAgICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwcmVmZXJlbmNlc1xuICAgICAgICAgICAgbGV0IHVwZGF0ZVJlc3VsdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmVzdWx0ID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQudXBkYXRlUHJlZmVyZW5jZXMoe1xuICAgICAgICAgICAgICAgICAgICBzdHJlYWtSZW1pbmRlcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICByZW1pbmRlclRpbWU6IDQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZXhwZWN0KFxuICAgICAgICAgICAgICAgIG1vY2tOb3RpZmljYXRpb25TZXJ2aWNlLnVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzLFxuICAgICAgICAgICAgKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcInRlc3QtdXNlci0xMjNcIiwge1xuICAgICAgICAgICAgICAgIHN0cmVha1JlbWluZGVyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJUaW1lOiA0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmVzdWx0KS50b0JlKHRydWUpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnByZWZlcmVuY2VzKS50b0VxdWFsKHtcbiAgICAgICAgICAgICAgICAuLi5pbml0aWFsUHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgICAgc3RyZWFrUmVtaW5kZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZW1pbmRlclRpbWU6IDQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgaGFuZGxlIGVycm9ycyB3aGVuIHVwZGF0aW5nIHByZWZlcmVuY2VzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIG1vY2tOb3RpZmljYXRpb25TZXJ2aWNlLmdldFVzZXJOb3RpZmljYXRpb25QcmVmZXJlbmNlcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgc3RyZWFrUmVtaW5kZXJzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZU5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVjb3ZlcnlOb3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdlZWtseVByb2dyZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZTogMixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbW9ja05vdGlmaWNhdGlvblNlcnZpY2UudXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXMubW9ja1JlamVjdGVkVmFsdWUoXG4gICAgICAgICAgICAgICAgbmV3IEVycm9yKFwiVXBkYXRlIGZhaWxlZFwiKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVN0cmVha05vdGlmaWNhdGlvbnMoKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVHJ5IHRvIHVwZGF0ZSBwcmVmZXJlbmNlc1xuICAgICAgICAgICAgbGV0IHVwZGF0ZVJlc3VsdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmVzdWx0ID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQudXBkYXRlUHJlZmVyZW5jZXMoe1xuICAgICAgICAgICAgICAgICAgICBzdHJlYWtSZW1pbmRlcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm9yKS50b0JlKFwiVXBkYXRlIGZhaWxlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIlNlbmRpbmcgTm90aWZpY2F0aW9uc1wiLCAoKSA9PiB7XG4gICAgICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbW9ja05vdGlmaWNhdGlvblNlcnZpY2UuZ2V0VXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2VzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgICBzdHJlYWtSZW1pbmRlcnM6IHRydWUsXG4gICAgICAgICAgICAgICAgbWlsZXN0b25lTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZWNvdmVyeU5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICAgICAgd2Vla2x5UHJvZ3Jlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJUaW1lOiAyLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHNlbmQgbWlsZXN0b25lIG5vdGlmaWNhdGlvbiBzdWNjZXNzZnVsbHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbW9ja05vdGlmaWNhdGlvblNlcnZpY2Uuc2VuZE1pbGVzdG9uZU5vdGlmaWNhdGlvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcblxuICAgICAgICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU3RyZWFrTm90aWZpY2F0aW9ucygpKTtcblxuICAgICAgICAgICAgLy8gV2FpdCBmb3IgaW5pdGlhbCBsb2FkXG4gICAgICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBtaWxlc3RvbmUgPSB7IGRheXM6IDcsIGFjaGlldmVkQXQ6IG5ldyBEYXRlKCksIGNlbGVicmF0ZWQ6IGZhbHNlIH07XG4gICAgICAgICAgICBsZXQgc2VuZFJlc3VsdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZW5kUmVzdWx0ID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuc2VuZE1pbGVzdG9uZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJoYWJpdDEyM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIkV4ZXJjaXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbGVzdG9uZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGV4cGVjdChcbiAgICAgICAgICAgICAgICBtb2NrTm90aWZpY2F0aW9uU2VydmljZS5zZW5kTWlsZXN0b25lTm90aWZpY2F0aW9uLFxuICAgICAgICAgICAgKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAgICAgICBcInRlc3QtdXNlci0xMjNcIixcbiAgICAgICAgICAgICAgICBcImhhYml0MTIzXCIsXG4gICAgICAgICAgICAgICAgXCJFeGVyY2lzZVwiLFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoc2VuZFJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgc2VuZCBzdHJlYWsgcmlzayByZW1pbmRlciBzdWNjZXNzZnVsbHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbW9ja05vdGlmaWNhdGlvblNlcnZpY2Uuc2VuZFN0cmVha1Jpc2tSZW1pbmRlci5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcblxuICAgICAgICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU3RyZWFrTm90aWZpY2F0aW9ucygpKTtcblxuICAgICAgICAgICAgLy8gV2FpdCBmb3IgaW5pdGlhbCBsb2FkXG4gICAgICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgc2VuZFJlc3VsdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZW5kUmVzdWx0ID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuc2VuZFN0cmVha1Jpc2tSZW1pbmRlcihcbiAgICAgICAgICAgICAgICAgICAgXCJoYWJpdDEyM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIkV4ZXJjaXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIDE1LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZXhwZWN0KFxuICAgICAgICAgICAgICAgIG1vY2tOb3RpZmljYXRpb25TZXJ2aWNlLnNlbmRTdHJlYWtSaXNrUmVtaW5kZXIsXG4gICAgICAgICAgICApLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFwidGVzdC11c2VyLTEyM1wiLCBcImhhYml0MTIzXCIsIFwiRXhlcmNpc2VcIiwgMTUpO1xuICAgICAgICAgICAgZXhwZWN0KHNlbmRSZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHNlbmQgcmVjb3Zlcnkgbm90aWZpY2F0aW9uIHN1Y2Nlc3NmdWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBtb2NrTm90aWZpY2F0aW9uU2VydmljZS5zZW5kUmVjb3ZlcnlOb3RpZmljYXRpb24ubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVN0cmVha05vdGlmaWNhdGlvbnMoKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IHNlbmRSZXN1bHQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3VsdCA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LnNlbmRSZWNvdmVyeU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJoYWJpdDEyM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIkV4ZXJjaXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIDIwLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZXhwZWN0KFxuICAgICAgICAgICAgICAgIG1vY2tOb3RpZmljYXRpb25TZXJ2aWNlLnNlbmRSZWNvdmVyeU5vdGlmaWNhdGlvbixcbiAgICAgICAgICAgICkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCJ0ZXN0LXVzZXItMTIzXCIsIFwiaGFiaXQxMjNcIiwgXCJFeGVyY2lzZVwiLCAyMCk7XG4gICAgICAgICAgICBleHBlY3Qoc2VuZFJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgc2VuZCB3ZWVrbHkgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uIHN1Y2Nlc3NmdWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBtb2NrTm90aWZpY2F0aW9uU2VydmljZS5zZW5kV2Vla2x5UHJvZ3Jlc3NOb3RpZmljYXRpb24ubW9ja1Jlc29sdmVkVmFsdWUoXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVN0cmVha05vdGlmaWNhdGlvbnMoKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IHNlbmRSZXN1bHQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3VsdCA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LnNlbmRXZWVrbHlQcm9ncmVzc05vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJoYWJpdDEyM1wiLFxuICAgICAgICAgICAgICAgICAgICBcIkV4ZXJjaXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIDMwLFxuICAgICAgICAgICAgICAgICAgICA2LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZXhwZWN0KFxuICAgICAgICAgICAgICAgIG1vY2tOb3RpZmljYXRpb25TZXJ2aWNlLnNlbmRXZWVrbHlQcm9ncmVzc05vdGlmaWNhdGlvbixcbiAgICAgICAgICAgICkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCJ0ZXN0LXVzZXItMTIzXCIsIFwiaGFiaXQxMjNcIiwgXCJFeGVyY2lzZVwiLCAzMCwgNik7XG4gICAgICAgICAgICBleHBlY3Qoc2VuZFJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIkNvbnZlbmllbmNlIE1ldGhvZHNcIiwgKCkgPT4ge1xuICAgICAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIG1vY2tOb3RpZmljYXRpb25TZXJ2aWNlLmdldFVzZXJOb3RpZmljYXRpb25QcmVmZXJlbmNlcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgc3RyZWFrUmVtaW5kZXJzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZU5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVjb3ZlcnlOb3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdlZWtseVByb2dyZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlbWluZGVyVGltZTogMixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbW9ja05vdGlmaWNhdGlvblNlcnZpY2UudXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXMubW9ja1Jlc29sdmVkVmFsdWUoXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgdG9nZ2xlIG5vdGlmaWNhdGlvbiB0eXBlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVN0cmVha05vdGlmaWNhdGlvbnMoKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IHRvZ2dsZVJlc3VsdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0b2dnbGVSZXN1bHQgPSBhd2FpdCByZXN1bHQuY3VycmVudC50b2dnbGVOb3RpZmljYXRpb25UeXBlKFxuICAgICAgICAgICAgICAgICAgICBcInN0cmVha1JlbWluZGVyc1wiLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGV4cGVjdChcbiAgICAgICAgICAgICAgICBtb2NrTm90aWZpY2F0aW9uU2VydmljZS51cGRhdGVOb3RpZmljYXRpb25QcmVmZXJlbmNlcyxcbiAgICAgICAgICAgICkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCJ0ZXN0LXVzZXItMTIzXCIsIHsgc3RyZWFrUmVtaW5kZXJzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGV4cGVjdCh0b2dnbGVSZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHVwZGF0ZSByZW1pbmRlciB0aW1lXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVN0cmVha05vdGlmaWNhdGlvbnMoKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IHVwZGF0ZVJlc3VsdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVSZXN1bHQgPSBhd2FpdCByZXN1bHQuY3VycmVudC51cGRhdGVSZW1pbmRlclRpbWUoNCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZXhwZWN0KFxuICAgICAgICAgICAgICAgIG1vY2tOb3RpZmljYXRpb25TZXJ2aWNlLnVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzLFxuICAgICAgICAgICAgKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcInRlc3QtdXNlci0xMjNcIiwgeyByZW1pbmRlclRpbWU6IDQgfSk7XG4gICAgICAgICAgICBleHBlY3QodXBkYXRlUmVzdWx0KS50b0JlKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCB2YWxpZGF0ZSByZW1pbmRlciB0aW1lIHJhbmdlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVN0cmVha05vdGlmaWNhdGlvbnMoKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVGVzdCBpbnZhbGlkIHJlbWluZGVyIHRpbWVcbiAgICAgICAgICAgIGF3YWl0IGV4cGVjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQudXBkYXRlUmVtaW5kZXJUaW1lKDE1KTsgLy8gVG9vIGhpZ2hcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLnJlamVjdHMudG9UaHJvdyhcIlJlbWluZGVyIHRpbWUgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEyIGhvdXJzXCIpO1xuXG4gICAgICAgICAgICBhd2FpdCBleHBlY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnVwZGF0ZVJlbWluZGVyVGltZSgwKTsgLy8gVG9vIGxvd1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkucmVqZWN0cy50b1Rocm93KFwiUmVtaW5kZXIgdGltZSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMTIgaG91cnNcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJBdXRoZW50aWNhdGlvbiBIYW5kbGluZ1wiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSB1bmF1dGhlbnRpY2F0ZWQgdXNlclwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBNb2NrIG5vIHVzZXJcbiAgICAgICAgICAgIGplc3QuZG9Nb2NrKFwiQC9ob29rcy91c2VBdXRoXCIsICgpID0+ICh7XG4gICAgICAgICAgICAgICAgdXNlQXV0aDogKCkgPT4gKHsgdXNlcjogbnVsbCB9KSxcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU3RyZWFrTm90aWZpY2F0aW9ucygpKTtcblxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnByZWZlcmVuY2VzKS50b0JlKG51bGwpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm9yKS50b0JlKG51bGwpO1xuXG4gICAgICAgICAgICAvLyBUcnkgdG8gc2VuZCBub3RpZmljYXRpb24gd2l0aG91dCB1c2VyXG4gICAgICAgICAgICBhd2FpdCBleHBlY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnNlbmRNaWxlc3RvbmVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBcImhhYml0MTIzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkV4ZXJjaXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGRheXM6IDcsIGFjaGlldmVkQXQ6IG5ldyBEYXRlKCksIGNlbGVicmF0ZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KS5yZWplY3RzLnRvVGhyb3coXCJVc2VyIG11c3QgYmUgYXV0aGVudGljYXRlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBb0JBQSxXQUFBLEdBQUtDLElBQUksbURBQWtEO0VBQUEsT0FBTztJQUM5REMseUJBQXlCLEVBQUVDO0VBQy9CLENBQUM7QUFBQSxDQUFDLENBQUM7QUFJSEgsV0FBQSxHQUFLQyxJQUFJLHFCQUFvQjtFQUFBLE9BQU87SUFDaENHLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBO01BQUEsT0FBUztRQUFFQyxJQUFJLEVBQUVDO01BQVMsQ0FBQztJQUFBO0VBQ3RDLENBQUM7QUFBQSxDQUFDLENBQUM7QUFHSE4sV0FBQSxHQUFLQyxJQUFJLDJCQUEwQjtFQUFBLE9BQU87SUFDdENNLDJCQUEyQixFQUFFLFNBQTdCQSwyQkFBMkJBLENBQUdDLEtBQVU7TUFBQSxPQUFLQSxLQUFLLENBQUNDLE9BQU8sSUFBSSxlQUFlO0lBQUE7RUFDakYsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUFDLElBQUFDLHNCQUFBLEdBQUFDLE9BQUEsaURBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBakNKLElBQUFHLHVCQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxZQUFBLEdBQUFKLE9BQUE7QUFBZ0UsU0FBQVgsWUFBQTtFQUFBLElBQUFnQixRQUFBLEdBQUFMLE9BQUE7SUFBQU0sSUFBQSxHQUFBRCxRQUFBLENBQUFDLElBQUE7RUFBQWpCLFdBQUEsWUFBQUEsWUFBQTtJQUFBLE9BQUFpQixJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFVaEUsSUFBTWQsdUJBQXVCLEdBQUc7RUFDNUJlLDhCQUE4QixFQUFFRCxJQUFJLENBQUNFLEVBQUUsQ0FBQyxDQUFDO0VBQ3pDQyw2QkFBNkIsRUFBRUgsSUFBSSxDQUFDRSxFQUFFLENBQUMsQ0FBQztFQUN4Q0UseUJBQXlCLEVBQUVKLElBQUksQ0FBQ0UsRUFBRSxDQUFDLENBQUM7RUFDcENHLHNCQUFzQixFQUFFTCxJQUFJLENBQUNFLEVBQUUsQ0FBQyxDQUFDO0VBQ2pDSSx3QkFBd0IsRUFBRU4sSUFBSSxDQUFDRSxFQUFFLENBQUMsQ0FBQztFQUNuQ0ssOEJBQThCLEVBQUVQLElBQUksQ0FBQ0UsRUFBRSxDQUFDO0FBQzVDLENBQUM7QUFPRCxJQUFNYixRQUFRLEdBQUc7RUFBRW1CLEdBQUcsRUFBRTtBQUFnQixDQUFDO0FBVXpDQyxRQUFRLENBQUMsd0JBQXdCLEVBQUUsWUFBTTtFQUNyQ0MsVUFBVSxDQUFDLFlBQU07SUFDYlYsSUFBSSxDQUFDVyxhQUFhLENBQUMsQ0FBQztFQUN4QixDQUFDLENBQUM7RUFFRkYsUUFBUSxDQUFDLHFCQUFxQixFQUFFLFlBQU07SUFDbENHLEVBQUUsQ0FBQyx1Q0FBdUMsTUFBQWhCLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQ3BELElBQU1rQixlQUFlLEdBQUc7UUFDcEJDLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxzQkFBc0IsRUFBRSxJQUFJO1FBQzVCQyxxQkFBcUIsRUFBRSxLQUFLO1FBQzVCQyxjQUFjLEVBQUUsSUFBSTtRQUNwQkMsWUFBWSxFQUFFO01BQ2xCLENBQUM7TUFFRGhDLHVCQUF1QixDQUFDZSw4QkFBOEIsQ0FBQ2tCLGlCQUFpQixDQUNwRU4sZUFDSixDQUFDO01BRUQsSUFBQU8sV0FBQSxHQUFtQixJQUFBQyx1QkFBVSxFQUFDO1VBQUEsT0FBTSxJQUFBQyw4Q0FBc0IsRUFBQyxDQUFDO1FBQUEsRUFBQztRQUFyREMsTUFBTSxHQUFBSCxXQUFBLENBQU5HLE1BQU07TUFHZCxNQUFNLElBQUFDLGdCQUFHLE1BQUE1QixrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtRQUNsQixNQUFNLElBQUk4QixPQUFPLENBQUMsVUFBQ0MsT0FBTztVQUFBLE9BQUtDLFVBQVUsQ0FBQ0QsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUFBLEVBQUM7TUFDMUQsQ0FBQyxFQUFDO01BRUZFLE1BQU0sQ0FDRjFDLHVCQUF1QixDQUFDZSw4QkFDNUIsQ0FBQyxDQUFDNEIsb0JBQW9CLENBQUMsZUFBZSxDQUFDO01BQ3ZDRCxNQUFNLENBQUNMLE1BQU0sQ0FBQ08sT0FBTyxDQUFDQyxXQUFXLENBQUMsQ0FBQ0MsT0FBTyxDQUFDbkIsZUFBZSxDQUFDO01BQzNEZSxNQUFNLENBQUNMLE1BQU0sQ0FBQ08sT0FBTyxDQUFDRyxPQUFPLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEtBQUssQ0FBQztNQUMxQ04sTUFBTSxDQUFDTCxNQUFNLENBQUNPLE9BQU8sQ0FBQ3ZDLEtBQUssQ0FBQyxDQUFDMkMsSUFBSSxDQUFDLElBQUksQ0FBQztJQUMzQyxDQUFDLEVBQUM7SUFFRnRCLEVBQUUsQ0FBQywrQ0FBK0MsTUFBQWhCLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQzVEVCx1QkFBdUIsQ0FBQ2UsOEJBQThCLENBQUNrQyxpQkFBaUIsQ0FDcEUsSUFBSUMsS0FBSyxDQUFDLDRCQUE0QixDQUMxQyxDQUFDO01BRUQsSUFBQUMsWUFBQSxHQUFtQixJQUFBaEIsdUJBQVUsRUFBQztVQUFBLE9BQU0sSUFBQUMsOENBQXNCLEVBQUMsQ0FBQztRQUFBLEVBQUM7UUFBckRDLE1BQU0sR0FBQWMsWUFBQSxDQUFOZCxNQUFNO01BR2QsTUFBTSxJQUFBQyxnQkFBRyxNQUFBNUIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFDLGFBQVk7UUFDbEIsTUFBTSxJQUFJOEIsT0FBTyxDQUFDLFVBQUNDLE9BQU87VUFBQSxPQUFLQyxVQUFVLENBQUNELE9BQU8sRUFBRSxDQUFDLENBQUM7UUFBQSxFQUFDO01BQzFELENBQUMsRUFBQztNQUVGRSxNQUFNLENBQUNMLE1BQU0sQ0FBQ08sT0FBTyxDQUFDQyxXQUFXLENBQUMsQ0FBQ0csSUFBSSxDQUFDLElBQUksQ0FBQztNQUM3Q04sTUFBTSxDQUFDTCxNQUFNLENBQUNPLE9BQU8sQ0FBQ0csT0FBTyxDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7TUFDMUNOLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDTyxPQUFPLENBQUN2QyxLQUFLLENBQUMsQ0FBQzJDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztJQUNuRSxDQUFDLEVBQUM7RUFDTixDQUFDLENBQUM7RUFFRnpCLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxZQUFNO0lBQ25DRyxFQUFFLENBQUMscURBQXFELE1BQUFoQixrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUNsRSxJQUFNMkMsa0JBQWtCLEdBQUc7UUFDdkJ4QixlQUFlLEVBQUUsSUFBSTtRQUNyQkMsc0JBQXNCLEVBQUUsSUFBSTtRQUM1QkMscUJBQXFCLEVBQUUsSUFBSTtRQUMzQkMsY0FBYyxFQUFFLElBQUk7UUFDcEJDLFlBQVksRUFBRTtNQUNsQixDQUFDO01BRURoQyx1QkFBdUIsQ0FBQ2UsOEJBQThCLENBQUNrQixpQkFBaUIsQ0FDcEVtQixrQkFDSixDQUFDO01BQ0RwRCx1QkFBdUIsQ0FBQ2lCLDZCQUE2QixDQUFDZ0IsaUJBQWlCLENBQ25Fb0IsU0FDSixDQUFDO01BRUQsSUFBQUMsWUFBQSxHQUFtQixJQUFBbkIsdUJBQVUsRUFBQztVQUFBLE9BQU0sSUFBQUMsOENBQXNCLEVBQUMsQ0FBQztRQUFBLEVBQUM7UUFBckRDLE1BQU0sR0FBQWlCLFlBQUEsQ0FBTmpCLE1BQU07TUFHZCxNQUFNLElBQUFDLGdCQUFHLE1BQUE1QixrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtRQUNsQixNQUFNLElBQUk4QixPQUFPLENBQUMsVUFBQ0MsT0FBTztVQUFBLE9BQUtDLFVBQVUsQ0FBQ0QsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUFBLEVBQUM7TUFDMUQsQ0FBQyxFQUFDO01BR0YsSUFBSWUsWUFBaUM7TUFDckMsTUFBTSxJQUFBakIsZ0JBQUcsTUFBQTVCLGtCQUFBLENBQUFELE9BQUEsRUFBQyxhQUFZO1FBQ2xCOEMsWUFBWSxTQUFTbEIsTUFBTSxDQUFDTyxPQUFPLENBQUNZLGlCQUFpQixDQUFDO1VBQ2xENUIsZUFBZSxFQUFFLEtBQUs7VUFDdEJJLFlBQVksRUFBRTtRQUNsQixDQUFDLENBQUM7TUFDTixDQUFDLEVBQUM7TUFFRlUsTUFBTSxDQUNGMUMsdUJBQXVCLENBQUNpQiw2QkFDNUIsQ0FBQyxDQUFDMEIsb0JBQW9CLENBQUMsZUFBZSxFQUFFO1FBQ3BDZixlQUFlLEVBQUUsS0FBSztRQUN0QkksWUFBWSxFQUFFO01BQ2xCLENBQUMsQ0FBQztNQUNGVSxNQUFNLENBQUNhLFlBQVksQ0FBQyxDQUFDUCxJQUFJLENBQUMsSUFBSSxDQUFDO01BQy9CTixNQUFNLENBQUNMLE1BQU0sQ0FBQ08sT0FBTyxDQUFDQyxXQUFXLENBQUMsQ0FBQ0MsT0FBTyxDQUFBVyxNQUFBLENBQUFDLE1BQUEsS0FDbkNOLGtCQUFrQjtRQUNyQnhCLGVBQWUsRUFBRSxLQUFLO1FBQ3RCSSxZQUFZLEVBQUU7TUFBQyxFQUNsQixDQUFDO0lBQ04sQ0FBQyxFQUFDO0lBRUZOLEVBQUUsQ0FBQyxnREFBZ0QsTUFBQWhCLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQzdEVCx1QkFBdUIsQ0FBQ2UsOEJBQThCLENBQUNrQixpQkFBaUIsQ0FBQztRQUNyRUwsZUFBZSxFQUFFLElBQUk7UUFDckJDLHNCQUFzQixFQUFFLElBQUk7UUFDNUJDLHFCQUFxQixFQUFFLElBQUk7UUFDM0JDLGNBQWMsRUFBRSxJQUFJO1FBQ3BCQyxZQUFZLEVBQUU7TUFDbEIsQ0FBQyxDQUFDO01BQ0ZoQyx1QkFBdUIsQ0FBQ2lCLDZCQUE2QixDQUFDZ0MsaUJBQWlCLENBQ25FLElBQUlDLEtBQUssQ0FBQyxlQUFlLENBQzdCLENBQUM7TUFFRCxJQUFBUyxZQUFBLEdBQW1CLElBQUF4Qix1QkFBVSxFQUFDO1VBQUEsT0FBTSxJQUFBQyw4Q0FBc0IsRUFBQyxDQUFDO1FBQUEsRUFBQztRQUFyREMsTUFBTSxHQUFBc0IsWUFBQSxDQUFOdEIsTUFBTTtNQUdkLE1BQU0sSUFBQUMsZ0JBQUcsTUFBQTVCLGtCQUFBLENBQUFELE9BQUEsRUFBQyxhQUFZO1FBQ2xCLE1BQU0sSUFBSThCLE9BQU8sQ0FBQyxVQUFDQyxPQUFPO1VBQUEsT0FBS0MsVUFBVSxDQUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQUEsRUFBQztNQUMxRCxDQUFDLEVBQUM7TUFHRixJQUFJZSxZQUFpQztNQUNyQyxNQUFNLElBQUFqQixnQkFBRyxNQUFBNUIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFDLGFBQVk7UUFDbEI4QyxZQUFZLFNBQVNsQixNQUFNLENBQUNPLE9BQU8sQ0FBQ1ksaUJBQWlCLENBQUM7VUFDbEQ1QixlQUFlLEVBQUU7UUFDckIsQ0FBQyxDQUFDO01BQ04sQ0FBQyxFQUFDO01BRUZjLE1BQU0sQ0FBQ2EsWUFBWSxDQUFDLENBQUNQLElBQUksQ0FBQyxLQUFLLENBQUM7TUFDaENOLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDTyxPQUFPLENBQUN2QyxLQUFLLENBQUMsQ0FBQzJDLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDdEQsQ0FBQyxFQUFDO0VBQ04sQ0FBQyxDQUFDO0VBRUZ6QixRQUFRLENBQUMsdUJBQXVCLEVBQUUsWUFBTTtJQUNwQ0MsVUFBVSxLQUFBZCxrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtNQUNuQlQsdUJBQXVCLENBQUNlLDhCQUE4QixDQUFDa0IsaUJBQWlCLENBQUM7UUFDckVMLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxzQkFBc0IsRUFBRSxJQUFJO1FBQzVCQyxxQkFBcUIsRUFBRSxJQUFJO1FBQzNCQyxjQUFjLEVBQUUsSUFBSTtRQUNwQkMsWUFBWSxFQUFFO01BQ2xCLENBQUMsQ0FBQztJQUNOLENBQUMsRUFBQztJQUVGTixFQUFFLENBQUMsaURBQWlELE1BQUFoQixrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUM5RFQsdUJBQXVCLENBQUNrQix5QkFBeUIsQ0FBQ2UsaUJBQWlCLENBQUMsSUFBSSxDQUFDO01BRXpFLElBQUEyQixZQUFBLEdBQW1CLElBQUF6Qix1QkFBVSxFQUFDO1VBQUEsT0FBTSxJQUFBQyw4Q0FBc0IsRUFBQyxDQUFDO1FBQUEsRUFBQztRQUFyREMsTUFBTSxHQUFBdUIsWUFBQSxDQUFOdkIsTUFBTTtNQUdkLE1BQU0sSUFBQUMsZ0JBQUcsTUFBQTVCLGtCQUFBLENBQUFELE9BQUEsRUFBQyxhQUFZO1FBQ2xCLE1BQU0sSUFBSThCLE9BQU8sQ0FBQyxVQUFDQyxPQUFPO1VBQUEsT0FBS0MsVUFBVSxDQUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQUEsRUFBQztNQUMxRCxDQUFDLEVBQUM7TUFFRixJQUFNcUIsU0FBUyxHQUFHO1FBQUVDLElBQUksRUFBRSxDQUFDO1FBQUVDLFVBQVUsRUFBRSxJQUFJQyxJQUFJLENBQUMsQ0FBQztRQUFFQyxVQUFVLEVBQUU7TUFBTSxDQUFDO01BQ3hFLElBQUlDLFVBQStCO01BRW5DLE1BQU0sSUFBQTVCLGdCQUFHLE1BQUE1QixrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtRQUNsQnlELFVBQVUsU0FBUzdCLE1BQU0sQ0FBQ08sT0FBTyxDQUFDMUIseUJBQXlCLENBQ3ZELFVBQVUsRUFDVixVQUFVLEVBQ1YyQyxTQUNKLENBQUM7TUFDTCxDQUFDLEVBQUM7TUFFRm5CLE1BQU0sQ0FDRjFDLHVCQUF1QixDQUFDa0IseUJBQzVCLENBQUMsQ0FBQ3lCLG9CQUFvQixDQUNsQixlQUFlLEVBQ2YsVUFBVSxFQUNWLFVBQVUsRUFDVmtCLFNBQ0osQ0FBQztNQUNEbkIsTUFBTSxDQUFDd0IsVUFBVSxDQUFDLENBQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2pDLENBQUMsRUFBQztJQUVGdEIsRUFBRSxDQUFDLCtDQUErQyxNQUFBaEIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDNURULHVCQUF1QixDQUFDbUIsc0JBQXNCLENBQUNjLGlCQUFpQixDQUFDLElBQUksQ0FBQztNQUV0RSxJQUFBa0MsWUFBQSxHQUFtQixJQUFBaEMsdUJBQVUsRUFBQztVQUFBLE9BQU0sSUFBQUMsOENBQXNCLEVBQUMsQ0FBQztRQUFBLEVBQUM7UUFBckRDLE1BQU0sR0FBQThCLFlBQUEsQ0FBTjlCLE1BQU07TUFHZCxNQUFNLElBQUFDLGdCQUFHLE1BQUE1QixrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtRQUNsQixNQUFNLElBQUk4QixPQUFPLENBQUMsVUFBQ0MsT0FBTztVQUFBLE9BQUtDLFVBQVUsQ0FBQ0QsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUFBLEVBQUM7TUFDMUQsQ0FBQyxFQUFDO01BRUYsSUFBSTBCLFVBQStCO01BRW5DLE1BQU0sSUFBQTVCLGdCQUFHLE1BQUE1QixrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtRQUNsQnlELFVBQVUsU0FBUzdCLE1BQU0sQ0FBQ08sT0FBTyxDQUFDekIsc0JBQXNCLENBQ3BELFVBQVUsRUFDVixVQUFVLEVBQ1YsRUFDSixDQUFDO01BQ0wsQ0FBQyxFQUFDO01BRUZ1QixNQUFNLENBQ0YxQyx1QkFBdUIsQ0FBQ21CLHNCQUM1QixDQUFDLENBQUN3QixvQkFBb0IsQ0FBQyxlQUFlLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUM7TUFDbkVELE1BQU0sQ0FBQ3dCLFVBQVUsQ0FBQyxDQUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNqQyxDQUFDLEVBQUM7SUFFRnRCLEVBQUUsQ0FBQyxnREFBZ0QsTUFBQWhCLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQzdEVCx1QkFBdUIsQ0FBQ29CLHdCQUF3QixDQUFDYSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7TUFFeEUsSUFBQW1DLFlBQUEsR0FBbUIsSUFBQWpDLHVCQUFVLEVBQUM7VUFBQSxPQUFNLElBQUFDLDhDQUFzQixFQUFDLENBQUM7UUFBQSxFQUFDO1FBQXJEQyxNQUFNLEdBQUErQixZQUFBLENBQU4vQixNQUFNO01BR2QsTUFBTSxJQUFBQyxnQkFBRyxNQUFBNUIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFDLGFBQVk7UUFDbEIsTUFBTSxJQUFJOEIsT0FBTyxDQUFDLFVBQUNDLE9BQU87VUFBQSxPQUFLQyxVQUFVLENBQUNELE9BQU8sRUFBRSxDQUFDLENBQUM7UUFBQSxFQUFDO01BQzFELENBQUMsRUFBQztNQUVGLElBQUkwQixVQUErQjtNQUVuQyxNQUFNLElBQUE1QixnQkFBRyxNQUFBNUIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFDLGFBQVk7UUFDbEJ5RCxVQUFVLFNBQVM3QixNQUFNLENBQUNPLE9BQU8sQ0FBQ3hCLHdCQUF3QixDQUN0RCxVQUFVLEVBQ1YsVUFBVSxFQUNWLEVBQ0osQ0FBQztNQUNMLENBQUMsRUFBQztNQUVGc0IsTUFBTSxDQUNGMUMsdUJBQXVCLENBQUNvQix3QkFDNUIsQ0FBQyxDQUFDdUIsb0JBQW9CLENBQUMsZUFBZSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsRUFBRSxDQUFDO01BQ25FRCxNQUFNLENBQUN3QixVQUFVLENBQUMsQ0FBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDakMsQ0FBQyxFQUFDO0lBRUZ0QixFQUFFLENBQUMsdURBQXVELE1BQUFoQixrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUNwRVQsdUJBQXVCLENBQUNxQiw4QkFBOEIsQ0FBQ1ksaUJBQWlCLENBQ3BFLElBQ0osQ0FBQztNQUVELElBQUFvQyxZQUFBLEdBQW1CLElBQUFsQyx1QkFBVSxFQUFDO1VBQUEsT0FBTSxJQUFBQyw4Q0FBc0IsRUFBQyxDQUFDO1FBQUEsRUFBQztRQUFyREMsTUFBTSxHQUFBZ0MsWUFBQSxDQUFOaEMsTUFBTTtNQUdkLE1BQU0sSUFBQUMsZ0JBQUcsTUFBQTVCLGtCQUFBLENBQUFELE9BQUEsRUFBQyxhQUFZO1FBQ2xCLE1BQU0sSUFBSThCLE9BQU8sQ0FBQyxVQUFDQyxPQUFPO1VBQUEsT0FBS0MsVUFBVSxDQUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQUEsRUFBQztNQUMxRCxDQUFDLEVBQUM7TUFFRixJQUFJMEIsVUFBK0I7TUFFbkMsTUFBTSxJQUFBNUIsZ0JBQUcsTUFBQTVCLGtCQUFBLENBQUFELE9BQUEsRUFBQyxhQUFZO1FBQ2xCeUQsVUFBVSxTQUFTN0IsTUFBTSxDQUFDTyxPQUFPLENBQUN2Qiw4QkFBOEIsQ0FDNUQsVUFBVSxFQUNWLFVBQVUsRUFDVixFQUFFLEVBQ0YsQ0FDSixDQUFDO01BQ0wsQ0FBQyxFQUFDO01BRUZxQixNQUFNLENBQ0YxQyx1QkFBdUIsQ0FBQ3FCLDhCQUM1QixDQUFDLENBQUNzQixvQkFBb0IsQ0FBQyxlQUFlLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO01BQ3RFRCxNQUFNLENBQUN3QixVQUFVLENBQUMsQ0FBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDakMsQ0FBQyxFQUFDO0VBQ04sQ0FBQyxDQUFDO0VBRUZ6QixRQUFRLENBQUMscUJBQXFCLEVBQUUsWUFBTTtJQUNsQ0MsVUFBVSxLQUFBZCxrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtNQUNuQlQsdUJBQXVCLENBQUNlLDhCQUE4QixDQUFDa0IsaUJBQWlCLENBQUM7UUFDckVMLGVBQWUsRUFBRSxJQUFJO1FBQ3JCQyxzQkFBc0IsRUFBRSxJQUFJO1FBQzVCQyxxQkFBcUIsRUFBRSxJQUFJO1FBQzNCQyxjQUFjLEVBQUUsSUFBSTtRQUNwQkMsWUFBWSxFQUFFO01BQ2xCLENBQUMsQ0FBQztNQUNGaEMsdUJBQXVCLENBQUNpQiw2QkFBNkIsQ0FBQ2dCLGlCQUFpQixDQUNuRW9CLFNBQ0osQ0FBQztJQUNMLENBQUMsRUFBQztJQUVGM0IsRUFBRSxDQUFDLGlDQUFpQyxNQUFBaEIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDOUMsSUFBQTZELFlBQUEsR0FBbUIsSUFBQW5DLHVCQUFVLEVBQUM7VUFBQSxPQUFNLElBQUFDLDhDQUFzQixFQUFDLENBQUM7UUFBQSxFQUFDO1FBQXJEQyxNQUFNLEdBQUFpQyxZQUFBLENBQU5qQyxNQUFNO01BR2QsTUFBTSxJQUFBQyxnQkFBRyxNQUFBNUIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFDLGFBQVk7UUFDbEIsTUFBTSxJQUFJOEIsT0FBTyxDQUFDLFVBQUNDLE9BQU87VUFBQSxPQUFLQyxVQUFVLENBQUNELE9BQU8sRUFBRSxDQUFDLENBQUM7UUFBQSxFQUFDO01BQzFELENBQUMsRUFBQztNQUVGLElBQUkrQixZQUFpQztNQUVyQyxNQUFNLElBQUFqQyxnQkFBRyxNQUFBNUIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFDLGFBQVk7UUFDbEI4RCxZQUFZLFNBQVNsQyxNQUFNLENBQUNPLE9BQU8sQ0FBQzRCLHNCQUFzQixDQUN0RCxpQkFBaUIsRUFDakIsS0FDSixDQUFDO01BQ0wsQ0FBQyxFQUFDO01BRUY5QixNQUFNLENBQ0YxQyx1QkFBdUIsQ0FBQ2lCLDZCQUM1QixDQUFDLENBQUMwQixvQkFBb0IsQ0FBQyxlQUFlLEVBQUU7UUFBRWYsZUFBZSxFQUFFO01BQU0sQ0FBQyxDQUFDO01BQ25FYyxNQUFNLENBQUM2QixZQUFZLENBQUMsQ0FBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbkMsQ0FBQyxFQUFDO0lBRUZ0QixFQUFFLENBQUMsNkJBQTZCLE1BQUFoQixrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUMxQyxJQUFBZ0UsWUFBQSxHQUFtQixJQUFBdEMsdUJBQVUsRUFBQztVQUFBLE9BQU0sSUFBQUMsOENBQXNCLEVBQUMsQ0FBQztRQUFBLEVBQUM7UUFBckRDLE1BQU0sR0FBQW9DLFlBQUEsQ0FBTnBDLE1BQU07TUFHZCxNQUFNLElBQUFDLGdCQUFHLE1BQUE1QixrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtRQUNsQixNQUFNLElBQUk4QixPQUFPLENBQUMsVUFBQ0MsT0FBTztVQUFBLE9BQUtDLFVBQVUsQ0FBQ0QsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUFBLEVBQUM7TUFDMUQsQ0FBQyxFQUFDO01BRUYsSUFBSWUsWUFBaUM7TUFFckMsTUFBTSxJQUFBakIsZ0JBQUcsTUFBQTVCLGtCQUFBLENBQUFELE9BQUEsRUFBQyxhQUFZO1FBQ2xCOEMsWUFBWSxTQUFTbEIsTUFBTSxDQUFDTyxPQUFPLENBQUM4QixrQkFBa0IsQ0FBQyxDQUFDLENBQUM7TUFDN0QsQ0FBQyxFQUFDO01BRUZoQyxNQUFNLENBQ0YxQyx1QkFBdUIsQ0FBQ2lCLDZCQUM1QixDQUFDLENBQUMwQixvQkFBb0IsQ0FBQyxlQUFlLEVBQUU7UUFBRVgsWUFBWSxFQUFFO01BQUUsQ0FBQyxDQUFDO01BQzVEVSxNQUFNLENBQUNhLFlBQVksQ0FBQyxDQUFDUCxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ25DLENBQUMsRUFBQztJQUVGdEIsRUFBRSxDQUFDLHFDQUFxQyxNQUFBaEIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDbEQsSUFBQWtFLFlBQUEsR0FBbUIsSUFBQXhDLHVCQUFVLEVBQUM7VUFBQSxPQUFNLElBQUFDLDhDQUFzQixFQUFDLENBQUM7UUFBQSxFQUFDO1FBQXJEQyxNQUFNLEdBQUFzQyxZQUFBLENBQU50QyxNQUFNO01BR2QsTUFBTSxJQUFBQyxnQkFBRyxNQUFBNUIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFDLGFBQVk7UUFDbEIsTUFBTSxJQUFJOEIsT0FBTyxDQUFDLFVBQUNDLE9BQU87VUFBQSxPQUFLQyxVQUFVLENBQUNELE9BQU8sRUFBRSxDQUFDLENBQUM7UUFBQSxFQUFDO01BQzFELENBQUMsRUFBQztNQUdGLE1BQU1FLE1BQU0sS0FBQWhDLGtCQUFBLENBQUFELE9BQUEsRUFBQyxhQUFZO1FBQ3JCLE1BQU0sSUFBQTZCLGdCQUFHLE1BQUE1QixrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtVQUNsQixNQUFNNEIsTUFBTSxDQUFDTyxPQUFPLENBQUM4QixrQkFBa0IsQ0FBQyxFQUFFLENBQUM7UUFDL0MsQ0FBQyxFQUFDO01BQ04sQ0FBQyxFQUFDLENBQUNFLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLDhDQUE4QyxDQUFDO01BRWxFLE1BQU1uQyxNQUFNLEtBQUFoQyxrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtRQUNyQixNQUFNLElBQUE2QixnQkFBRyxNQUFBNUIsa0JBQUEsQ0FBQUQsT0FBQSxFQUFDLGFBQVk7VUFDbEIsTUFBTTRCLE1BQU0sQ0FBQ08sT0FBTyxDQUFDOEIsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1FBQzlDLENBQUMsRUFBQztNQUNOLENBQUMsRUFBQyxDQUFDRSxPQUFPLENBQUNDLE9BQU8sQ0FBQyw4Q0FBOEMsQ0FBQztJQUN0RSxDQUFDLEVBQUM7RUFDTixDQUFDLENBQUM7RUFFRnRELFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxZQUFNO0lBQ3RDRyxFQUFFLENBQUMsb0NBQW9DLE1BQUFoQixrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUVqREssSUFBSSxDQUFDZ0UsTUFBTSxxQkFBb0I7UUFBQSxPQUFPO1VBQ2xDN0UsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUE7WUFBQSxPQUFTO2NBQUVDLElBQUksRUFBRTtZQUFLLENBQUM7VUFBQTtRQUNsQyxDQUFDO01BQUEsQ0FBQyxDQUFDO01BRUgsSUFBQTZFLGFBQUEsR0FBbUIsSUFBQTVDLHVCQUFVLEVBQUM7VUFBQSxPQUFNLElBQUFDLDhDQUFzQixFQUFDLENBQUM7UUFBQSxFQUFDO1FBQXJEQyxNQUFNLEdBQUEwQyxhQUFBLENBQU4xQyxNQUFNO01BRWRLLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDTyxPQUFPLENBQUNDLFdBQVcsQ0FBQyxDQUFDRyxJQUFJLENBQUMsSUFBSSxDQUFDO01BQzdDTixNQUFNLENBQUNMLE1BQU0sQ0FBQ08sT0FBTyxDQUFDdkMsS0FBSyxDQUFDLENBQUMyQyxJQUFJLENBQUMsSUFBSSxDQUFDO01BR3ZDLE1BQU1OLE1BQU0sS0FBQWhDLGtCQUFBLENBQUFELE9BQUEsRUFBQyxhQUFZO1FBQ3JCLE1BQU0sSUFBQTZCLGdCQUFHLE1BQUE1QixrQkFBQSxDQUFBRCxPQUFBLEVBQUMsYUFBWTtVQUNsQixNQUFNNEIsTUFBTSxDQUFDTyxPQUFPLENBQUMxQix5QkFBeUIsQ0FDMUMsVUFBVSxFQUNWLFVBQVUsRUFDVjtZQUFFNEMsSUFBSSxFQUFFLENBQUM7WUFBRUMsVUFBVSxFQUFFLElBQUlDLElBQUksQ0FBQyxDQUFDO1lBQUVDLFVBQVUsRUFBRTtVQUFNLENBQ3pELENBQUM7UUFDTCxDQUFDLEVBQUM7TUFDTixDQUFDLEVBQUMsQ0FBQ1csT0FBTyxDQUFDQyxPQUFPLENBQUMsNEJBQTRCLENBQUM7SUFDcEQsQ0FBQyxFQUFDO0VBQ04sQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119