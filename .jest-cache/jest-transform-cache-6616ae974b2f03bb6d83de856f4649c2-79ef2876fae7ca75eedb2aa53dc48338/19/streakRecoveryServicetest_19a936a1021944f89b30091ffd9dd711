70424e3aa12ef77c5f1847c62002cb62
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
describe("StreakRecoveryService Core Logic", function () {
  describe("Message Generation Logic", function () {
    it("should generate different message types", function () {
      var messageTypes = ["broken_streak", "restart_encouragement", "achievement_preservation", "multiple_breaks", "restart_reminder"];
      messageTypes.forEach(function (type) {
        expect(typeof type).toBe("string");
        expect(type.length).toBeGreaterThan(0);
      });
    });
    it("should handle habit name variations", function () {
      var habitNames = ["Daily Exercise", "Meditation", "Reading", "Journaling", "Water Intake"];
      habitNames.forEach(function (name) {
        expect(typeof name).toBe("string");
        expect(name.length).toBeGreaterThan(0);
      });
    });
  });
  describe("Guidance Strategy Logic", function () {
    it("should provide appropriate guidance based on break count", function () {
      var guidanceStrategies = [{
        minBreaks: 2,
        strategy: "habit_stacking"
      }, {
        minBreaks: 3,
        strategy: "easier_goals"
      }, {
        minBreaks: 4,
        strategy: "schedule_adjustment"
      }, {
        minBreaks: 5,
        strategy: "accountability_partner"
      }];
      guidanceStrategies.forEach(function (_ref) {
        var minBreaks = _ref.minBreaks,
          strategy = _ref.strategy;
        expect(minBreaks).toBeGreaterThan(1);
        expect(typeof strategy).toBe("string");
        expect(strategy.length).toBeGreaterThan(0);
      });
    });
  });
  describe("Reminder Time Logic", function () {
    it("should suggest appropriate reminder times", function () {
      var timeSlots = ["07:00", "08:00", "09:00", "18:00", "19:00", "20:00"];
      timeSlots.forEach(function (time) {
        expect(time).toMatch(/^\d{2}:\d{2}$/);
        var _time$split$map = time.split(":").map(Number),
          _time$split$map2 = (0, _slicedToArray2.default)(_time$split$map, 2),
          hours = _time$split$map2[0],
          minutes = _time$split$map2[1];
        expect(hours).toBeGreaterThanOrEqual(0);
        expect(hours).toBeLessThan(24);
        expect(minutes).toBeGreaterThanOrEqual(0);
        expect(minutes).toBeLessThan(60);
      });
    });
  });
  describe("Streak Status Logic", function () {
    it("should identify broken streaks correctly", function () {
      var streakStatuses = [{
        currentStreak: 0,
        isBroken: true
      }, {
        currentStreak: 5,
        lastCompletion: "recent",
        isBroken: false
      }, {
        currentStreak: 3,
        lastCompletion: "old",
        isBroken: true
      }];
      streakStatuses.forEach(function (_ref2) {
        var currentStreak = _ref2.currentStreak,
          isBroken = _ref2.isBroken;
        if (currentStreak === 0) {
          expect(isBroken).toBe(true);
        }
        expect(typeof isBroken).toBe("boolean");
      });
    });
  });
  describe("Performance Ratio Calculation", function () {
    it("should calculate performance ratios correctly", function () {
      var testCases = [{
        current: 1,
        best: 10,
        expectedRatio: 0.1
      }, {
        current: 5,
        best: 10,
        expectedRatio: 0.5
      }, {
        current: 8,
        best: 10,
        expectedRatio: 0.8
      }, {
        current: 0,
        best: 0,
        expectedRatio: 0
      }];
      testCases.forEach(function (_ref3) {
        var current = _ref3.current,
          best = _ref3.best,
          expectedRatio = _ref3.expectedRatio;
        var ratio = best > 0 ? current / best : 0;
        expect(ratio).toBeCloseTo(expectedRatio, 2);
      });
    });
  });
  describe("Target Streak Calculation", function () {
    it("should calculate target streaks correctly", function () {
      var testCases = [{
        bestStreak: 10,
        expectedTarget: 11
      }, {
        bestStreak: 30,
        expectedTarget: 31
      }, {
        bestStreak: 0,
        expectedTarget: 1
      }];
      testCases.forEach(function (_ref4) {
        var bestStreak = _ref4.bestStreak,
          expectedTarget = _ref4.expectedTarget;
        var target = bestStreak + 1;
        expect(target).toBe(expectedTarget);
      });
    });
  });
  describe("Message Content Validation", function () {
    it("should ensure messages contain required elements", function () {
      var requiredMessageFields = ["type", "title", "message"];
      var optionalMessageFields = ["actionText", "targetStreak", "reminderOffered"];
      [].concat(requiredMessageFields, optionalMessageFields).forEach(function (field) {
        expect(typeof field).toBe("string");
        expect(field.length).toBeGreaterThan(0);
      });
    });
  });
  describe("Guidance Structure Validation", function () {
    it("should ensure guidance contains required elements", function () {
      var requiredGuidanceFields = ["type", "title", "description", "actionSteps"];
      requiredGuidanceFields.forEach(function (field) {
        expect(typeof field).toBe("string");
        expect(field.length).toBeGreaterThan(0);
      });
    });
  });
  describe("Requirements Coverage", function () {
    it("should cover all streak recovery requirements", function () {
      var requirements = ["7.1: Motivational messaging for broken streaks", "7.2: Previous best streak targeting", "7.3: Achievement preservation messaging", "7.4: Guidance for multiple broken streaks", "7.5: Restart reminder offering"];
      requirements.forEach(function (requirement) {
        expect(requirement).toMatch(/^7\.\d+:/);
        expect(requirement.length).toBeGreaterThan(10);
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwibWVzc2FnZVR5cGVzIiwiZm9yRWFjaCIsInR5cGUiLCJleHBlY3QiLCJ0b0JlIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiaGFiaXROYW1lcyIsIm5hbWUiLCJndWlkYW5jZVN0cmF0ZWdpZXMiLCJtaW5CcmVha3MiLCJzdHJhdGVneSIsIl9yZWYiLCJ0aW1lU2xvdHMiLCJ0aW1lIiwidG9NYXRjaCIsIl90aW1lJHNwbGl0JG1hcCIsInNwbGl0IiwibWFwIiwiTnVtYmVyIiwiX3RpbWUkc3BsaXQkbWFwMiIsIl9zbGljZWRUb0FycmF5MiIsImRlZmF1bHQiLCJob3VycyIsIm1pbnV0ZXMiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwidG9CZUxlc3NUaGFuIiwic3RyZWFrU3RhdHVzZXMiLCJjdXJyZW50U3RyZWFrIiwiaXNCcm9rZW4iLCJsYXN0Q29tcGxldGlvbiIsIl9yZWYyIiwidGVzdENhc2VzIiwiY3VycmVudCIsImJlc3QiLCJleHBlY3RlZFJhdGlvIiwiX3JlZjMiLCJyYXRpbyIsInRvQmVDbG9zZVRvIiwiYmVzdFN0cmVhayIsImV4cGVjdGVkVGFyZ2V0IiwiX3JlZjQiLCJ0YXJnZXQiLCJyZXF1aXJlZE1lc3NhZ2VGaWVsZHMiLCJvcHRpb25hbE1lc3NhZ2VGaWVsZHMiLCJjb25jYXQiLCJmaWVsZCIsInJlcXVpcmVkR3VpZGFuY2VGaWVsZHMiLCJyZXF1aXJlbWVudHMiLCJyZXF1aXJlbWVudCJdLCJzb3VyY2VzIjpbInN0cmVha1JlY292ZXJ5U2VydmljZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVzdHMgZm9yIFN0cmVha1JlY292ZXJ5U2VydmljZVxuICpcbiAqIE5vdGU6IFRoZXNlIHRlc3RzIGZvY3VzIG9uIHRoZSBjb3JlIGxvZ2ljIHdpdGhvdXQgRmlyZWJhc2UgZGVwZW5kZW5jaWVzXG4gKiBSZXF1aXJlbWVudHM6IDcuMSwgNy4yLCA3LjMsIDcuNCwgNy41XG4gKi9cblxuZGVzY3JpYmUoXCJTdHJlYWtSZWNvdmVyeVNlcnZpY2UgQ29yZSBMb2dpY1wiLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoXCJNZXNzYWdlIEdlbmVyYXRpb24gTG9naWNcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBnZW5lcmF0ZSBkaWZmZXJlbnQgbWVzc2FnZSB0eXBlc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBUZXN0IHRoZSBtZXNzYWdlIHR5cGUgY29uc3RhbnRzXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlVHlwZXMgPSBbXG4gICAgICAgICAgICAgICAgXCJicm9rZW5fc3RyZWFrXCIsXG4gICAgICAgICAgICAgICAgXCJyZXN0YXJ0X2VuY291cmFnZW1lbnRcIixcbiAgICAgICAgICAgICAgICBcImFjaGlldmVtZW50X3ByZXNlcnZhdGlvblwiLFxuICAgICAgICAgICAgICAgIFwibXVsdGlwbGVfYnJlYWtzXCIsXG4gICAgICAgICAgICAgICAgXCJyZXN0YXJ0X3JlbWluZGVyXCIsXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBtZXNzYWdlVHlwZXMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgdHlwZSkudG9CZShcInN0cmluZ1wiKTtcbiAgICAgICAgICAgICAgICBleHBlY3QodHlwZS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBoYW5kbGUgaGFiaXQgbmFtZSB2YXJpYXRpb25zXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhYml0TmFtZXMgPSBbXG4gICAgICAgICAgICAgICAgXCJEYWlseSBFeGVyY2lzZVwiLFxuICAgICAgICAgICAgICAgIFwiTWVkaXRhdGlvblwiLFxuICAgICAgICAgICAgICAgIFwiUmVhZGluZ1wiLFxuICAgICAgICAgICAgICAgIFwiSm91cm5hbGluZ1wiLFxuICAgICAgICAgICAgICAgIFwiV2F0ZXIgSW50YWtlXCIsXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBoYWJpdE5hbWVzLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QodHlwZW9mIG5hbWUpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgZXhwZWN0KG5hbWUubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIkd1aWRhbmNlIFN0cmF0ZWd5IExvZ2ljXCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgcHJvdmlkZSBhcHByb3ByaWF0ZSBndWlkYW5jZSBiYXNlZCBvbiBicmVhayBjb3VudFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBUZXN0IGd1aWRhbmNlIHN0cmF0ZWd5IG1hcHBpbmdcbiAgICAgICAgICAgIGNvbnN0IGd1aWRhbmNlU3RyYXRlZ2llcyA9IFtcbiAgICAgICAgICAgICAgICB7IG1pbkJyZWFrczogMiwgc3RyYXRlZ3k6IFwiaGFiaXRfc3RhY2tpbmdcIiB9LFxuICAgICAgICAgICAgICAgIHsgbWluQnJlYWtzOiAzLCBzdHJhdGVneTogXCJlYXNpZXJfZ29hbHNcIiB9LFxuICAgICAgICAgICAgICAgIHsgbWluQnJlYWtzOiA0LCBzdHJhdGVneTogXCJzY2hlZHVsZV9hZGp1c3RtZW50XCIgfSxcbiAgICAgICAgICAgICAgICB7IG1pbkJyZWFrczogNSwgc3RyYXRlZ3k6IFwiYWNjb3VudGFiaWxpdHlfcGFydG5lclwiIH0sXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBndWlkYW5jZVN0cmF0ZWdpZXMuZm9yRWFjaCgoeyBtaW5CcmVha3MsIHN0cmF0ZWd5IH0pID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QobWluQnJlYWtzKS50b0JlR3JlYXRlclRoYW4oMSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiBzdHJhdGVneSkudG9CZShcInN0cmluZ1wiKTtcbiAgICAgICAgICAgICAgICBleHBlY3Qoc3RyYXRlZ3kubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIlJlbWluZGVyIFRpbWUgTG9naWNcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBzdWdnZXN0IGFwcHJvcHJpYXRlIHJlbWluZGVyIHRpbWVzXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVTbG90cyA9IFtcIjA3OjAwXCIsIFwiMDg6MDBcIiwgXCIwOTowMFwiLCBcIjE4OjAwXCIsIFwiMTk6MDBcIiwgXCIyMDowMFwiXTtcblxuICAgICAgICAgICAgdGltZVNsb3RzLmZvckVhY2goKHRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QodGltZSkudG9NYXRjaCgvXlxcZHsyfTpcXGR7Mn0kLyk7XG4gICAgICAgICAgICAgICAgY29uc3QgW2hvdXJzLCBtaW51dGVzXSA9IHRpbWUuc3BsaXQoXCI6XCIpLm1hcChOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChob3VycykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgICAgICAgICAgICBleHBlY3QoaG91cnMpLnRvQmVMZXNzVGhhbigyNCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KG1pbnV0ZXMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KG1pbnV0ZXMpLnRvQmVMZXNzVGhhbig2MCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIlN0cmVhayBTdGF0dXMgTG9naWNcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBpZGVudGlmeSBicm9rZW4gc3RyZWFrcyBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgICAgICAgLy8gVGVzdCBzdHJlYWsgc3RhdHVzIGlkZW50aWZpY2F0aW9uIGxvZ2ljXG4gICAgICAgICAgICBjb25zdCBzdHJlYWtTdGF0dXNlcyA9IFtcbiAgICAgICAgICAgICAgICB7IGN1cnJlbnRTdHJlYWs6IDAsIGlzQnJva2VuOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyBjdXJyZW50U3RyZWFrOiA1LCBsYXN0Q29tcGxldGlvbjogXCJyZWNlbnRcIiwgaXNCcm9rZW46IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyBjdXJyZW50U3RyZWFrOiAzLCBsYXN0Q29tcGxldGlvbjogXCJvbGRcIiwgaXNCcm9rZW46IHRydWUgfSxcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHN0cmVha1N0YXR1c2VzLmZvckVhY2goKHsgY3VycmVudFN0cmVhaywgaXNCcm9rZW4gfSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RyZWFrID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChpc0Jyb2tlbikudG9CZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXhwZWN0KHR5cGVvZiBpc0Jyb2tlbikudG9CZShcImJvb2xlYW5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIlBlcmZvcm1hbmNlIFJhdGlvIENhbGN1bGF0aW9uXCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgY2FsY3VsYXRlIHBlcmZvcm1hbmNlIHJhdGlvcyBjb3JyZWN0bHlcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVzdENhc2VzID0gW1xuICAgICAgICAgICAgICAgIHsgY3VycmVudDogMSwgYmVzdDogMTAsIGV4cGVjdGVkUmF0aW86IDAuMSB9LFxuICAgICAgICAgICAgICAgIHsgY3VycmVudDogNSwgYmVzdDogMTAsIGV4cGVjdGVkUmF0aW86IDAuNSB9LFxuICAgICAgICAgICAgICAgIHsgY3VycmVudDogOCwgYmVzdDogMTAsIGV4cGVjdGVkUmF0aW86IDAuOCB9LFxuICAgICAgICAgICAgICAgIHsgY3VycmVudDogMCwgYmVzdDogMCwgZXhwZWN0ZWRSYXRpbzogMCB9LFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgY3VycmVudCwgYmVzdCwgZXhwZWN0ZWRSYXRpbyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF0aW8gPSBiZXN0ID4gMCA/IGN1cnJlbnQgLyBiZXN0IDogMDtcbiAgICAgICAgICAgICAgICBleHBlY3QocmF0aW8pLnRvQmVDbG9zZVRvKGV4cGVjdGVkUmF0aW8sIDIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJUYXJnZXQgU3RyZWFrIENhbGN1bGF0aW9uXCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgY2FsY3VsYXRlIHRhcmdldCBzdHJlYWtzIGNvcnJlY3RseVwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgICAgICAgICAgeyBiZXN0U3RyZWFrOiAxMCwgZXhwZWN0ZWRUYXJnZXQ6IDExIH0sXG4gICAgICAgICAgICAgICAgeyBiZXN0U3RyZWFrOiAzMCwgZXhwZWN0ZWRUYXJnZXQ6IDMxIH0sXG4gICAgICAgICAgICAgICAgeyBiZXN0U3RyZWFrOiAwLCBleHBlY3RlZFRhcmdldDogMSB9LFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgYmVzdFN0cmVhaywgZXhwZWN0ZWRUYXJnZXQgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGJlc3RTdHJlYWsgKyAxO1xuICAgICAgICAgICAgICAgIGV4cGVjdCh0YXJnZXQpLnRvQmUoZXhwZWN0ZWRUYXJnZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJNZXNzYWdlIENvbnRlbnQgVmFsaWRhdGlvblwiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGVuc3VyZSBtZXNzYWdlcyBjb250YWluIHJlcXVpcmVkIGVsZW1lbnRzXCIsICgpID0+IHtcbiAgICAgICAgICAgIC8vIFRlc3QgbWVzc2FnZSBzdHJ1Y3R1cmUgcmVxdWlyZW1lbnRzXG4gICAgICAgICAgICBjb25zdCByZXF1aXJlZE1lc3NhZ2VGaWVsZHMgPSBbXCJ0eXBlXCIsIFwidGl0bGVcIiwgXCJtZXNzYWdlXCJdO1xuXG4gICAgICAgICAgICBjb25zdCBvcHRpb25hbE1lc3NhZ2VGaWVsZHMgPSBbXG4gICAgICAgICAgICAgICAgXCJhY3Rpb25UZXh0XCIsXG4gICAgICAgICAgICAgICAgXCJ0YXJnZXRTdHJlYWtcIixcbiAgICAgICAgICAgICAgICBcInJlbWluZGVyT2ZmZXJlZFwiLFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgWy4uLnJlcXVpcmVkTWVzc2FnZUZpZWxkcywgLi4ub3B0aW9uYWxNZXNzYWdlRmllbGRzXS5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgZmllbGQpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGZpZWxkLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJHdWlkYW5jZSBTdHJ1Y3R1cmUgVmFsaWRhdGlvblwiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGVuc3VyZSBndWlkYW5jZSBjb250YWlucyByZXF1aXJlZCBlbGVtZW50c1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1aXJlZEd1aWRhbmNlRmllbGRzID0gW1xuICAgICAgICAgICAgICAgIFwidHlwZVwiLFxuICAgICAgICAgICAgICAgIFwidGl0bGVcIixcbiAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgICAgXCJhY3Rpb25TdGVwc1wiLFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmVxdWlyZWRHdWlkYW5jZUZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgZmllbGQpLnRvQmUoXCJzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGZpZWxkLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJSZXF1aXJlbWVudHMgQ292ZXJhZ2VcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBjb3ZlciBhbGwgc3RyZWFrIHJlY292ZXJ5IHJlcXVpcmVtZW50c1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1aXJlbWVudHMgPSBbXG4gICAgICAgICAgICAgICAgXCI3LjE6IE1vdGl2YXRpb25hbCBtZXNzYWdpbmcgZm9yIGJyb2tlbiBzdHJlYWtzXCIsXG4gICAgICAgICAgICAgICAgXCI3LjI6IFByZXZpb3VzIGJlc3Qgc3RyZWFrIHRhcmdldGluZ1wiLFxuICAgICAgICAgICAgICAgIFwiNy4zOiBBY2hpZXZlbWVudCBwcmVzZXJ2YXRpb24gbWVzc2FnaW5nXCIsXG4gICAgICAgICAgICAgICAgXCI3LjQ6IEd1aWRhbmNlIGZvciBtdWx0aXBsZSBicm9rZW4gc3RyZWFrc1wiLFxuICAgICAgICAgICAgICAgIFwiNy41OiBSZXN0YXJ0IHJlbWluZGVyIG9mZmVyaW5nXCIsXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICByZXF1aXJlbWVudHMuZm9yRWFjaCgocmVxdWlyZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QocmVxdWlyZW1lbnQpLnRvTWF0Y2goL143XFwuXFxkKzovKTtcbiAgICAgICAgICAgICAgICBleHBlY3QocmVxdWlyZW1lbnQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMTApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBT0FBLFFBQVEsQ0FBQyxrQ0FBa0MsRUFBRSxZQUFNO0VBQy9DQSxRQUFRLENBQUMsMEJBQTBCLEVBQUUsWUFBTTtJQUN2Q0MsRUFBRSxDQUFDLHlDQUF5QyxFQUFFLFlBQU07TUFFaEQsSUFBTUMsWUFBWSxHQUFHLENBQ2pCLGVBQWUsRUFDZix1QkFBdUIsRUFDdkIsMEJBQTBCLEVBQzFCLGlCQUFpQixFQUNqQixrQkFBa0IsQ0FDckI7TUFFREEsWUFBWSxDQUFDQyxPQUFPLENBQUMsVUFBQ0MsSUFBSSxFQUFLO1FBQzNCQyxNQUFNLENBQUMsT0FBT0QsSUFBSSxDQUFDLENBQUNFLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDbENELE1BQU0sQ0FBQ0QsSUFBSSxDQUFDRyxNQUFNLENBQUMsQ0FBQ0MsZUFBZSxDQUFDLENBQUMsQ0FBQztNQUMxQyxDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7SUFFRlAsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLFlBQU07TUFDNUMsSUFBTVEsVUFBVSxHQUFHLENBQ2YsZ0JBQWdCLEVBQ2hCLFlBQVksRUFDWixTQUFTLEVBQ1QsWUFBWSxFQUNaLGNBQWMsQ0FDakI7TUFFREEsVUFBVSxDQUFDTixPQUFPLENBQUMsVUFBQ08sSUFBSSxFQUFLO1FBQ3pCTCxNQUFNLENBQUMsT0FBT0ssSUFBSSxDQUFDLENBQUNKLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDbENELE1BQU0sQ0FBQ0ssSUFBSSxDQUFDSCxNQUFNLENBQUMsQ0FBQ0MsZUFBZSxDQUFDLENBQUMsQ0FBQztNQUMxQyxDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7RUFDTixDQUFDLENBQUM7RUFFRlIsUUFBUSxDQUFDLHlCQUF5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