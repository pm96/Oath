6fb541d436be5f03d5ce2b6f2d5f4022
_getJestObj().mock("../firebaseConfig", function () {
  return {
    db: {},
    APP_ID: "test-app"
  };
});
_getJestObj().mock("firebase/firestore", function () {
  return {
    collection: jest.fn(),
    doc: jest.fn(),
    getDoc: jest.fn(),
    getDocs: jest.fn(),
    query: jest.fn(),
    where: jest.fn(),
    orderBy: jest.fn(),
    runTransaction: jest.fn(),
    serverTimestamp: jest.fn(function () {
      return {
        seconds: Date.now() / 1000
      };
    }),
    Timestamp: {
      now: jest.fn(function () {
        return {
          seconds: Date.now() / 1000,
          toMillis: function toMillis() {
            return Date.now();
          },
          toDate: function toDate() {
            return new Date();
          }
        };
      }),
      fromDate: jest.fn(function (date) {
        return {
          seconds: date.getTime() / 1000,
          toMillis: function toMillis() {
            return date.getTime();
          },
          toDate: function toDate() {
            return date;
          }
        };
      })
    }
  };
});
_getJestObj().mock("../services/firebase/collections", function () {
  return {
    getHabitCompletionsCollection: jest.fn(function () {
      return {
        path: "completions"
      };
    }),
    getHabitStreaksCollection: jest.fn(function () {
      return {
        path: "streaks"
      };
    }),
    getHabitAnalyticsCollection: jest.fn(function () {
      return {
        path: "analytics"
      };
    })
  };
});
_getJestObj().mock("../utils/errorHandling", function () {
  return {
    getUserFriendlyErrorMessage: jest.fn(function (error) {
      return error.message || "Unknown error";
    }),
    retryWithBackoff: jest.fn(function (fn) {
      return fn();
    }),
    isOnline: jest.fn(function () {
      return true;
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _firestore = require("firebase/firestore");
var _analyticsService = require("../services/firebase/analyticsService");
var _completionService = require("../services/firebase/completionService");
var _streakService = require("../services/firebase/streakService");
var _dateUtils = require("../utils/dateUtils");
function _getJestObj() {
  var _require4 = require("@jest/globals"),
    jest = _require4.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe("Habit Tracking System Integration Tests", function () {
  var streakService;
  var completionService;
  var analyticsService;
  var mockUserId = "integration-user-123";
  var mockHabitId = "integration-habit-456";
  var mockTimezone = (0, _dateUtils.getUserTimezone)();
  beforeEach(function () {
    streakService = new _streakService.StreakService();
    completionService = new _completionService.CompletionService();
    analyticsService = new _analyticsService.AnalyticsService();
    jest.clearAllMocks();
    var _require = require("firebase/firestore"),
      runTransaction = _require.runTransaction,
      getDocs = _require.getDocs,
      getDoc = _require.getDoc;
    runTransaction.mockImplementation(function () {
      var _ref = (0, _asyncToGenerator2.default)(function* (db, callback) {
        var mockTransaction = {
          get: jest.fn().mockResolvedValue({
            exists: function exists() {
              return true;
            },
            data: function data() {
              return {
                currentStreak: 5,
                bestStreak: 10,
                freezesAvailable: 1,
                freezesUsed: 0,
                milestones: []
              };
            }
          }),
          set: jest.fn(),
          update: jest.fn()
        };
        return callback(mockTransaction);
      });
      return function (_x, _x2) {
        return _ref.apply(this, arguments);
      };
    }());
    getDocs.mockResolvedValue({
      docs: [{
        id: "completion1",
        data: function data() {
          return {
            habitId: mockHabitId,
            userId: mockUserId,
            completedAt: _firestore.Timestamp.now(),
            timezone: mockTimezone,
            difficulty: "medium"
          };
        }
      }]
    });
    getDoc.mockResolvedValue({
      exists: function exists() {
        return true;
      },
      data: function data() {
        return {
          currentStreak: 5,
          bestStreak: 10,
          freezesAvailable: 1
        };
      }
    });
  });
  describe("Complete User Flow Integration", function () {
    it("should handle habit creation to first milestone workflow", (0, _asyncToGenerator2.default)(function* () {
      var firstCompletion = {
        habitId: mockHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.now(),
        timezone: mockTimezone,
        difficulty: "medium"
      };
      yield expect(completionService.recordCompletion(firstCompletion)).resolves.not.toThrow();
      var initialStreak = yield streakService.calculateStreak(mockHabitId, mockUserId);
      expect(initialStreak).toBeDefined();
      expect(initialStreak.habitId).toBe(mockHabitId);
      expect(initialStreak.userId).toBe(mockUserId);
      var analytics = yield analyticsService.calculateHabitAnalytics(mockHabitId, mockUserId);
      expect(analytics).toBeDefined();
      expect(analytics.habitId).toBe(mockHabitId);
      expect(analytics.userId).toBe(mockUserId);
    }));
    it("should handle consecutive completions and streak building", (0, _asyncToGenerator2.default)(function* () {
      var completions = [];
      for (var i = 0; i < 7; i++) {
        var date = new Date();
        date.setDate(date.getDate() - (6 - i));
        completions.push({
          habitId: `${mockHabitId}-day-${i}`,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.fromDate(date),
          timezone: mockTimezone,
          difficulty: "medium"
        });
      }
      for (var completion of completions) {
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
      }
      var streak = yield streakService.calculateStreak(`${mockHabitId}-day-0`, mockUserId);
      expect(streak.currentStreak).toBeGreaterThanOrEqual(0);
      expect(streak.bestStreak).toBeGreaterThanOrEqual(streak.currentStreak);
    }));
    it("should handle streak breaks and recovery", (0, _asyncToGenerator2.default)(function* () {
      var streakHabitId = `${mockHabitId}-streak-test`;
      var completions = [];
      for (var i = 0; i < 3; i++) {
        var date = new Date();
        date.setDate(date.getDate() - (5 - i));
        completions.push({
          habitId: streakHabitId,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.fromDate(date),
          timezone: mockTimezone,
          difficulty: "easy"
        });
      }
      for (var completion of completions) {
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
      }
      var todayCompletion = {
        habitId: streakHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.now(),
        timezone: mockTimezone,
        difficulty: "easy"
      };
      yield expect(completionService.recordCompletion(todayCompletion)).resolves.not.toThrow();
      var streak = yield streakService.calculateStreak(streakHabitId, mockUserId);
      expect(streak).toBeDefined();
    }));
  });
  describe("Data Consistency and Validation", function () {
    it("should maintain data consistency across services", (0, _asyncToGenerator2.default)(function* () {
      var completion = {
        habitId: mockHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.now(),
        timezone: mockTimezone,
        difficulty: "hard"
      };
      yield completionService.recordCompletion(completion);
      var streak = yield streakService.getHabitStreak(mockHabitId, mockUserId);
      var analytics = yield analyticsService.calculateHabitAnalytics(mockHabitId, mockUserId);
      expect(streak.habitId).toBe(mockHabitId);
      expect(streak.userId).toBe(mockUserId);
      expect(analytics.habitId).toBe(mockHabitId);
      expect(analytics.userId).toBe(mockUserId);
    }));
    it("should validate input parameters across services", (0, _asyncToGenerator2.default)(function* () {
      yield expect(streakService.calculateStreak("", mockUserId)).rejects.toThrow("Habit ID and User ID are required");
      yield expect(completionService.getCompletionHistory("", mockUserId)).rejects.toThrow("Habit ID and User ID are required");
      yield expect(analyticsService.calculateHabitAnalytics("", mockUserId)).rejects.toThrow("Habit ID and User ID are required");
      yield expect(streakService.calculateStreak(mockHabitId, "")).rejects.toThrow("Habit ID and User ID are required");
      yield expect(completionService.getCompletionHistory(mockHabitId, "")).rejects.toThrow("Habit ID and User ID are required");
      yield expect(analyticsService.calculateHabitAnalytics(mockHabitId, "")).rejects.toThrow("Habit ID and User ID are required");
    }));
    it("should handle invalid completion timestamps", (0, _asyncToGenerator2.default)(function* () {
      var futureCompletion = {
        habitId: mockHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.fromDate(new Date(Date.now() + 86400000)),
        timezone: mockTimezone,
        difficulty: "easy"
      };
      yield expect(completionService.recordCompletion(futureCompletion)).rejects.toThrow("Cannot record completions for future dates");
    }));
  });
  describe("Performance and Concurrency", function () {
    it("should handle concurrent operations on same habit", (0, _asyncToGenerator2.default)(function* () {
      var promises = [];
      promises.push(streakService.calculateStreak(mockHabitId, mockUserId));
      promises.push(analyticsService.calculateHabitAnalytics(mockHabitId, mockUserId));
      promises.push(completionService.getCompletionHistory(mockHabitId, mockUserId));
      var results = yield Promise.allSettled(promises);
      expect(results.length).toBe(3);
      var successful = results.filter(function (r) {
        return r.status === "fulfilled";
      });
      expect(successful.length).toBeGreaterThan(0);
    }));
    it("should handle multiple users concurrently", (0, _asyncToGenerator2.default)(function* () {
      var userIds = Array.from({
        length: 10
      }, function (_, i) {
        return `user-${i}`;
      });
      var promises = [];
      for (var userId of userIds) {
        promises.push(streakService.calculateStreak(mockHabitId, userId));
      }
      var results = yield Promise.allSettled(promises);
      var successful = results.filter(function (r) {
        return r.status === "fulfilled";
      });
      expect(successful.length).toBeGreaterThan(userIds.length * 0.5);
    }));
    it("should complete operations within reasonable time", (0, _asyncToGenerator2.default)(function* () {
      var startTime = Date.now();
      yield Promise.all([streakService.calculateStreak(mockHabitId, mockUserId), analyticsService.calculateHabitAnalytics(mockHabitId, mockUserId), completionService.getCompletionHistory(mockHabitId, mockUserId)]);
      var duration = Date.now() - startTime;
      expect(duration).toBeLessThan(5000);
    }));
  });
  describe("Error Handling and Recovery", function () {
    it("should handle Firebase transaction failures gracefully", (0, _asyncToGenerator2.default)(function* () {
      var _require2 = require("firebase/firestore"),
        runTransaction = _require2.runTransaction;
      runTransaction.mockRejectedValueOnce(new Error("Transaction failed"));
      var completion = {
        habitId: mockHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.now(),
        timezone: mockTimezone,
        difficulty: "medium"
      };
      yield expect(completionService.recordCompletion(completion)).rejects.toThrow("Transaction failed");
    }));
    it("should handle missing data gracefully", (0, _asyncToGenerator2.default)(function* () {
      var _require3 = require("firebase/firestore"),
        getDoc = _require3.getDoc,
        getDocs = _require3.getDocs;
      getDoc.mockResolvedValueOnce({
        exists: function exists() {
          return false;
        },
        data: function data() {
          return null;
        }
      });
      getDocs.mockResolvedValueOnce({
        docs: []
      });
      var streak = yield streakService.getHabitStreak("nonexistent-habit", mockUserId);
      expect(streak).toBeDefined();
      var history = yield completionService.getCompletionHistory("nonexistent-habit", mockUserId);
      expect(history).toBeDefined();
      expect(history.completions).toEqual([]);
    }));
  });
  describe("Multi-Habit Analytics", function () {
    it("should calculate cross-habit consistency scores", (0, _asyncToGenerator2.default)(function* () {
      var habitIds = ["habit-1", "habit-2", "habit-3"];
      for (var habitId of habitIds) {
        var completion = {
          habitId: habitId,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.now(),
          timezone: mockTimezone,
          difficulty: "medium"
        };
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
      }
      var consistencyScore = yield analyticsService.getOverallConsistencyScore(mockUserId);
      expect(typeof consistencyScore).toBe("number");
      expect(consistencyScore).toBeGreaterThanOrEqual(0);
    }));
    it("should handle different difficulty levels correctly", (0, _asyncToGenerator2.default)(function* () {
      var difficulties = ["easy", "medium", "hard"];
      for (var i = 0; i < difficulties.length; i++) {
        var completion = {
          habitId: `${mockHabitId}-${difficulties[i]}`,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.now(),
          timezone: mockTimezone,
          difficulty: difficulties[i]
        };
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
        var analytics = yield analyticsService.calculateHabitAnalytics(`${mockHabitId}-${difficulties[i]}`, mockUserId);
        expect(analytics).toBeDefined();
      }
    }));
  });
  describe("Timezone Handling", function () {
    it("should handle different timezones correctly", (0, _asyncToGenerator2.default)(function* () {
      var timezones = ["America/New_York", "Europe/London", "Asia/Tokyo"];
      for (var timezone of timezones) {
        var completion = {
          habitId: mockHabitId,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.now(),
          timezone: timezone,
          difficulty: "medium"
        };
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
      }
      var streak = yield streakService.calculateStreak(mockHabitId, mockUserId);
      expect(streak).toBeDefined();
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJkYiIsIkFQUF9JRCIsImNvbGxlY3Rpb24iLCJqZXN0IiwiZm4iLCJkb2MiLCJnZXREb2MiLCJnZXREb2NzIiwicXVlcnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJydW5UcmFuc2FjdGlvbiIsInNlcnZlclRpbWVzdGFtcCIsInNlY29uZHMiLCJEYXRlIiwibm93IiwiVGltZXN0YW1wIiwidG9NaWxsaXMiLCJ0b0RhdGUiLCJmcm9tRGF0ZSIsImRhdGUiLCJnZXRUaW1lIiwiZ2V0SGFiaXRDb21wbGV0aW9uc0NvbGxlY3Rpb24iLCJwYXRoIiwiZ2V0SGFiaXRTdHJlYWtzQ29sbGVjdGlvbiIsImdldEhhYml0QW5hbHl0aWNzQ29sbGVjdGlvbiIsImdldFVzZXJGcmllbmRseUVycm9yTWVzc2FnZSIsImVycm9yIiwibWVzc2FnZSIsInJldHJ5V2l0aEJhY2tvZmYiLCJpc09ubGluZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9maXJlc3RvcmUiLCJfYW5hbHl0aWNzU2VydmljZSIsIl9jb21wbGV0aW9uU2VydmljZSIsIl9zdHJlYWtTZXJ2aWNlIiwiX2RhdGVVdGlscyIsIl9yZXF1aXJlNCIsImRlc2NyaWJlIiwic3RyZWFrU2VydmljZSIsImNvbXBsZXRpb25TZXJ2aWNlIiwiYW5hbHl0aWNzU2VydmljZSIsIm1vY2tVc2VySWQiLCJtb2NrSGFiaXRJZCIsIm1vY2tUaW1lem9uZSIsImdldFVzZXJUaW1lem9uZSIsImJlZm9yZUVhY2giLCJTdHJlYWtTZXJ2aWNlIiwiQ29tcGxldGlvblNlcnZpY2UiLCJBbmFseXRpY3NTZXJ2aWNlIiwiY2xlYXJBbGxNb2NrcyIsIl9yZXF1aXJlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiX3JlZiIsImNhbGxiYWNrIiwibW9ja1RyYW5zYWN0aW9uIiwiZ2V0IiwibW9ja1Jlc29sdmVkVmFsdWUiLCJleGlzdHMiLCJkYXRhIiwiY3VycmVudFN0cmVhayIsImJlc3RTdHJlYWsiLCJmcmVlemVzQXZhaWxhYmxlIiwiZnJlZXplc1VzZWQiLCJtaWxlc3RvbmVzIiwic2V0IiwidXBkYXRlIiwiX3giLCJfeDIiLCJhcHBseSIsImFyZ3VtZW50cyIsImRvY3MiLCJpZCIsImhhYml0SWQiLCJ1c2VySWQiLCJjb21wbGV0ZWRBdCIsInRpbWV6b25lIiwiZGlmZmljdWx0eSIsIml0IiwiZmlyc3RDb21wbGV0aW9uIiwiZXhwZWN0IiwicmVjb3JkQ29tcGxldGlvbiIsInJlc29sdmVzIiwibm90IiwidG9UaHJvdyIsImluaXRpYWxTdHJlYWsiLCJjYWxjdWxhdGVTdHJlYWsiLCJ0b0JlRGVmaW5lZCIsInRvQmUiLCJhbmFseXRpY3MiLCJjYWxjdWxhdGVIYWJpdEFuYWx5dGljcyIsImNvbXBsZXRpb25zIiwiaSIsInNldERhdGUiLCJnZXREYXRlIiwicHVzaCIsImNvbXBsZXRpb24iLCJzdHJlYWsiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwic3RyZWFrSGFiaXRJZCIsInRvZGF5Q29tcGxldGlvbiIsImdldEhhYml0U3RyZWFrIiwicmVqZWN0cyIsImdldENvbXBsZXRpb25IaXN0b3J5IiwiZnV0dXJlQ29tcGxldGlvbiIsInByb21pc2VzIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwibGVuZ3RoIiwic3VjY2Vzc2Z1bCIsImZpbHRlciIsInIiLCJzdGF0dXMiLCJ0b0JlR3JlYXRlclRoYW4iLCJ1c2VySWRzIiwiQXJyYXkiLCJmcm9tIiwiXyIsInN0YXJ0VGltZSIsImFsbCIsImR1cmF0aW9uIiwidG9CZUxlc3NUaGFuIiwiX3JlcXVpcmUyIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJfcmVxdWlyZTMiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJoaXN0b3J5IiwidG9FcXVhbCIsImhhYml0SWRzIiwiY29uc2lzdGVuY3lTY29yZSIsImdldE92ZXJhbGxDb25zaXN0ZW5jeVNjb3JlIiwiZGlmZmljdWx0aWVzIiwidGltZXpvbmVzIl0sInNvdXJjZXMiOlsiaGFiaXRTdHJlYWtzU3lzdGVtSW50ZWdyYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN5c3RlbSBJbnRlZ3JhdGlvbiBUZXN0cyBmb3IgSGFiaXQgVHJhY2tpbmcgJiBTdHJlYWtzIFN5c3RlbVxuICpcbiAqIFRlc3RzIGNvcmUgc3lzdGVtIGludGVncmF0aW9uIHdpdGhvdXQgVUkgZGVwZW5kZW5jaWVzXG4gKi9cblxuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgQW5hbHl0aWNzU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9maXJlYmFzZS9hbmFseXRpY3NTZXJ2aWNlXCI7XG5pbXBvcnQgeyBDb21wbGV0aW9uU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9maXJlYmFzZS9jb21wbGV0aW9uU2VydmljZVwiO1xuaW1wb3J0IHsgU3RyZWFrU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9maXJlYmFzZS9zdHJlYWtTZXJ2aWNlXCI7XG5pbXBvcnQgeyBIYWJpdENvbXBsZXRpb24gfSBmcm9tIFwiLi4vdHlwZXMvaGFiaXQtc3RyZWFrc1wiO1xuaW1wb3J0IHsgZ2V0VXNlclRpbWV6b25lIH0gZnJvbSBcIi4uL3V0aWxzL2RhdGVVdGlsc1wiO1xuXG4vLyBNb2NrIEZpcmViYXNlXG5qZXN0Lm1vY2soXCIuLi9maXJlYmFzZUNvbmZpZ1wiLCAoKSA9PiAoe1xuICAgIGRiOiB7fSxcbiAgICBBUFBfSUQ6IFwidGVzdC1hcHBcIixcbn0pKTtcblxuamVzdC5tb2NrKFwiZmlyZWJhc2UvZmlyZXN0b3JlXCIsICgpID0+ICh7XG4gICAgY29sbGVjdGlvbjogamVzdC5mbigpLFxuICAgIGRvYzogamVzdC5mbigpLFxuICAgIGdldERvYzogamVzdC5mbigpLFxuICAgIGdldERvY3M6IGplc3QuZm4oKSxcbiAgICBxdWVyeTogamVzdC5mbigpLFxuICAgIHdoZXJlOiBqZXN0LmZuKCksXG4gICAgb3JkZXJCeTogamVzdC5mbigpLFxuICAgIHJ1blRyYW5zYWN0aW9uOiBqZXN0LmZuKCksXG4gICAgc2VydmVyVGltZXN0YW1wOiBqZXN0LmZuKCgpID0+ICh7IHNlY29uZHM6IERhdGUubm93KCkgLyAxMDAwIH0pKSxcbiAgICBUaW1lc3RhbXA6IHtcbiAgICAgICAgbm93OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgICAgICBzZWNvbmRzOiBEYXRlLm5vdygpIC8gMTAwMCxcbiAgICAgICAgICAgIHRvTWlsbGlzOiAoKSA9PiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdG9EYXRlOiAoKSA9PiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KSksXG4gICAgICAgIGZyb21EYXRlOiBqZXN0LmZuKChkYXRlOiBEYXRlKSA9PiAoe1xuICAgICAgICAgICAgc2Vjb25kczogZGF0ZS5nZXRUaW1lKCkgLyAxMDAwLFxuICAgICAgICAgICAgdG9NaWxsaXM6ICgpID0+IGRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgdG9EYXRlOiAoKSA9PiBkYXRlLFxuICAgICAgICB9KSksXG4gICAgfSxcbn0pKTtcblxuamVzdC5tb2NrKFwiLi4vc2VydmljZXMvZmlyZWJhc2UvY29sbGVjdGlvbnNcIiwgKCkgPT4gKHtcbiAgICBnZXRIYWJpdENvbXBsZXRpb25zQ29sbGVjdGlvbjogamVzdC5mbigoKSA9PiAoeyBwYXRoOiBcImNvbXBsZXRpb25zXCIgfSkpLFxuICAgIGdldEhhYml0U3RyZWFrc0NvbGxlY3Rpb246IGplc3QuZm4oKCkgPT4gKHsgcGF0aDogXCJzdHJlYWtzXCIgfSkpLFxuICAgIGdldEhhYml0QW5hbHl0aWNzQ29sbGVjdGlvbjogamVzdC5mbigoKSA9PiAoeyBwYXRoOiBcImFuYWx5dGljc1wiIH0pKSxcbn0pKTtcblxuamVzdC5tb2NrKFwiLi4vdXRpbHMvZXJyb3JIYW5kbGluZ1wiLCAoKSA9PiAoe1xuICAgIGdldFVzZXJGcmllbmRseUVycm9yTWVzc2FnZTogamVzdC5mbihcbiAgICAgICAgKGVycm9yKSA9PiBlcnJvci5tZXNzYWdlIHx8IFwiVW5rbm93biBlcnJvclwiLFxuICAgICksXG4gICAgcmV0cnlXaXRoQmFja29mZjogamVzdC5mbigoZm4pID0+IGZuKCkpLFxuICAgIGlzT25saW5lOiBqZXN0LmZuKCgpID0+IHRydWUpLFxufSkpO1xuXG5kZXNjcmliZShcIkhhYml0IFRyYWNraW5nIFN5c3RlbSBJbnRlZ3JhdGlvbiBUZXN0c1wiLCAoKSA9PiB7XG4gICAgbGV0IHN0cmVha1NlcnZpY2U6IFN0cmVha1NlcnZpY2U7XG4gICAgbGV0IGNvbXBsZXRpb25TZXJ2aWNlOiBDb21wbGV0aW9uU2VydmljZTtcbiAgICBsZXQgYW5hbHl0aWNzU2VydmljZTogQW5hbHl0aWNzU2VydmljZTtcblxuICAgIGNvbnN0IG1vY2tVc2VySWQgPSBcImludGVncmF0aW9uLXVzZXItMTIzXCI7XG4gICAgY29uc3QgbW9ja0hhYml0SWQgPSBcImludGVncmF0aW9uLWhhYml0LTQ1NlwiO1xuICAgIGNvbnN0IG1vY2tUaW1lem9uZSA9IGdldFVzZXJUaW1lem9uZSgpO1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIHN0cmVha1NlcnZpY2UgPSBuZXcgU3RyZWFrU2VydmljZSgpO1xuICAgICAgICBjb21wbGV0aW9uU2VydmljZSA9IG5ldyBDb21wbGV0aW9uU2VydmljZSgpO1xuICAgICAgICBhbmFseXRpY3NTZXJ2aWNlID0gbmV3IEFuYWx5dGljc1NlcnZpY2UoKTtcblxuICAgICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgRmlyZWJhc2Ugb3BlcmF0aW9uc1xuICAgICAgICBjb25zdCB7IHJ1blRyYW5zYWN0aW9uLCBnZXREb2NzLCBnZXREb2MgfSA9IHJlcXVpcmUoXCJmaXJlYmFzZS9maXJlc3RvcmVcIik7XG4gICAgICAgIHJ1blRyYW5zYWN0aW9uLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoZGIsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgZ2V0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICBleGlzdHM6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyZWFrOiA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdFN0cmVhazogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmVlemVzQXZhaWxhYmxlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJlZXplc1VzZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWxlc3RvbmVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgc2V0OiBqZXN0LmZuKCksXG4gICAgICAgICAgICAgICAgdXBkYXRlOiBqZXN0LmZuKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG1vY2tUcmFuc2FjdGlvbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdldERvY3MubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZG9jczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwiY29tcGxldGlvbjFcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhYml0SWQ6IG1vY2tIYWJpdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBtb2NrVXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWV6b25lOiBtb2NrVGltZXpvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ2V0RG9jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGV4aXN0czogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgY3VycmVudFN0cmVhazogNSxcbiAgICAgICAgICAgICAgICBiZXN0U3RyZWFrOiAxMCxcbiAgICAgICAgICAgICAgICBmcmVlemVzQXZhaWxhYmxlOiAxLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJDb21wbGV0ZSBVc2VyIEZsb3cgSW50ZWdyYXRpb25cIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBoYW5kbGUgaGFiaXQgY3JlYXRpb24gdG8gZmlyc3QgbWlsZXN0b25lIHdvcmtmbG93XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIFN0ZXAgMTogUmVjb3JkIGZpcnN0IGNvbXBsZXRpb25cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q29tcGxldGlvbjogT21pdDxIYWJpdENvbXBsZXRpb24sIFwiaWRcIj4gPSB7XG4gICAgICAgICAgICAgICAgaGFiaXRJZDogbW9ja0hhYml0SWQsXG4gICAgICAgICAgICAgICAgdXNlcklkOiBtb2NrVXNlcklkLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICAgICAgICAgICAgdGltZXpvbmU6IG1vY2tUaW1lem9uZSxcbiAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oZmlyc3RDb21wbGV0aW9uKSxcbiAgICAgICAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcblxuICAgICAgICAgICAgLy8gU3RlcCAyOiBDYWxjdWxhdGUgaW5pdGlhbCBzdHJlYWtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxTdHJlYWsgPSBhd2FpdCBzdHJlYWtTZXJ2aWNlLmNhbGN1bGF0ZVN0cmVhayhcbiAgICAgICAgICAgICAgICBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChpbml0aWFsU3RyZWFrKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGluaXRpYWxTdHJlYWsuaGFiaXRJZCkudG9CZShtb2NrSGFiaXRJZCk7XG4gICAgICAgICAgICBleHBlY3QoaW5pdGlhbFN0cmVhay51c2VySWQpLnRvQmUobW9ja1VzZXJJZCk7XG5cbiAgICAgICAgICAgIC8vIFN0ZXAgMzogVmVyaWZ5IGFuYWx5dGljcyBjYWxjdWxhdGlvblxuICAgICAgICAgICAgY29uc3QgYW5hbHl0aWNzID0gYXdhaXQgYW5hbHl0aWNzU2VydmljZS5jYWxjdWxhdGVIYWJpdEFuYWx5dGljcyhcbiAgICAgICAgICAgICAgICBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChhbmFseXRpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QoYW5hbHl0aWNzLmhhYml0SWQpLnRvQmUobW9ja0hhYml0SWQpO1xuICAgICAgICAgICAgZXhwZWN0KGFuYWx5dGljcy51c2VySWQpLnRvQmUobW9ja1VzZXJJZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBjb25zZWN1dGl2ZSBjb21wbGV0aW9ucyBhbmQgc3RyZWFrIGJ1aWxkaW5nXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIFNpbXVsYXRlIDcgY29uc2VjdXRpdmUgZGF5cyB3aXRoIHVuaXF1ZSBoYWJpdCBJRHMgdG8gYXZvaWQgZHVwbGljYXRlc1xuICAgICAgICAgICAgY29uc3QgY29tcGxldGlvbnM6IE9taXQ8SGFiaXRDb21wbGV0aW9uLCBcImlkXCI+W10gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gKDYgLSBpKSk7XG5cbiAgICAgICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaGFiaXRJZDogYCR7bW9ja0hhYml0SWR9LWRheS0ke2l9YCwgLy8gVXNlIHVuaXF1ZSBoYWJpdCBJRCBmb3IgZWFjaCBkYXlcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBtb2NrVXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogVGltZXN0YW1wLmZyb21EYXRlKGRhdGUpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZWNvcmQgYWxsIGNvbXBsZXRpb25zXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbXBsZXRpb24gb2YgY29tcGxldGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oY29tcGxldGlvbiksXG4gICAgICAgICAgICAgICAgKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBWZXJpZnkgc3RyZWFrIGNhbGN1bGF0aW9uIGZvciBvbmUgb2YgdGhlIGhhYml0c1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFrID0gYXdhaXQgc3RyZWFrU2VydmljZS5jYWxjdWxhdGVTdHJlYWsoXG4gICAgICAgICAgICAgICAgYCR7bW9ja0hhYml0SWR9LWRheS0wYCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChzdHJlYWsuY3VycmVudFN0cmVhaykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgICAgICAgIGV4cGVjdChzdHJlYWsuYmVzdFN0cmVhaykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbChzdHJlYWsuY3VycmVudFN0cmVhayk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBzdHJlYWsgYnJlYWtzIGFuZCByZWNvdmVyeVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBzdHJlYWssIGJyZWFrIGl0LCB0aGVuIHJlc3RhcnQgd2l0aCB1bmlxdWUgaGFiaXQgSURcbiAgICAgICAgICAgIGNvbnN0IHN0cmVha0hhYml0SWQgPSBgJHttb2NrSGFiaXRJZH0tc3RyZWFrLXRlc3RgO1xuICAgICAgICAgICAgY29uc3QgY29tcGxldGlvbnM6IE9taXQ8SGFiaXRDb21wbGV0aW9uLCBcImlkXCI+W10gPSBbXTtcblxuICAgICAgICAgICAgLy8gMyBjb25zZWN1dGl2ZSBkYXlzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtICg1IC0gaSkpO1xuXG4gICAgICAgICAgICAgICAgY29tcGxldGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGhhYml0SWQ6IHN0cmVha0hhYml0SWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogbW9ja1VzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5mcm9tRGF0ZShkYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXpvbmU6IG1vY2tUaW1lem9uZSxcbiAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eTogXCJlYXN5XCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlY29yZCBjb21wbGV0aW9uc1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21wbGV0aW9uIG9mIGNvbXBsZXRpb25zKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5yZWNvcmRDb21wbGV0aW9uKGNvbXBsZXRpb24pLFxuICAgICAgICAgICAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2tpcCBhIGRheSwgdGhlbiBjb21wbGV0ZSB0b2RheVxuICAgICAgICAgICAgY29uc3QgdG9kYXlDb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBzdHJlYWtIYWJpdElkLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogbW9ja1VzZXJJZCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgICAgICAgICAgIHRpbWV6b25lOiBtb2NrVGltZXpvbmUsXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogXCJlYXN5XCIsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgY29tcGxldGlvblNlcnZpY2UucmVjb3JkQ29tcGxldGlvbih0b2RheUNvbXBsZXRpb24pLFxuICAgICAgICAgICAgKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuXG4gICAgICAgICAgICAvLyBWZXJpZnkgc3RyZWFrIGhhbmRsaW5nXG4gICAgICAgICAgICBjb25zdCBzdHJlYWsgPSBhd2FpdCBzdHJlYWtTZXJ2aWNlLmNhbGN1bGF0ZVN0cmVhayhcbiAgICAgICAgICAgICAgICBzdHJlYWtIYWJpdElkLFxuICAgICAgICAgICAgICAgIG1vY2tVc2VySWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KHN0cmVhaykudG9CZURlZmluZWQoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIkRhdGEgQ29uc2lzdGVuY3kgYW5kIFZhbGlkYXRpb25cIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBtYWludGFpbiBkYXRhIGNvbnNpc3RlbmN5IGFjcm9zcyBzZXJ2aWNlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IG1vY2tVc2VySWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk6IFwiaGFyZFwiLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gUmVjb3JkIGNvbXBsZXRpb25cbiAgICAgICAgICAgIGF3YWl0IGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oY29tcGxldGlvbik7XG5cbiAgICAgICAgICAgIC8vIEdldCBzdHJlYWsgZGF0YVxuICAgICAgICAgICAgY29uc3Qgc3RyZWFrID0gYXdhaXQgc3RyZWFrU2VydmljZS5nZXRIYWJpdFN0cmVhayhcbiAgICAgICAgICAgICAgICBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gR2V0IGFuYWx5dGljc1xuICAgICAgICAgICAgY29uc3QgYW5hbHl0aWNzID0gYXdhaXQgYW5hbHl0aWNzU2VydmljZS5jYWxjdWxhdGVIYWJpdEFuYWx5dGljcyhcbiAgICAgICAgICAgICAgICBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gQWxsIHNob3VsZCByZWZlcmVuY2UgdGhlIHNhbWUgaGFiaXQgYW5kIHVzZXJcbiAgICAgICAgICAgIGV4cGVjdChzdHJlYWsuaGFiaXRJZCkudG9CZShtb2NrSGFiaXRJZCk7XG4gICAgICAgICAgICBleHBlY3Qoc3RyZWFrLnVzZXJJZCkudG9CZShtb2NrVXNlcklkKTtcbiAgICAgICAgICAgIGV4cGVjdChhbmFseXRpY3MuaGFiaXRJZCkudG9CZShtb2NrSGFiaXRJZCk7XG4gICAgICAgICAgICBleHBlY3QoYW5hbHl0aWNzLnVzZXJJZCkudG9CZShtb2NrVXNlcklkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgdmFsaWRhdGUgaW5wdXQgcGFyYW1ldGVycyBhY3Jvc3Mgc2VydmljZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gVGVzdCBlbXB0eSBoYWJpdElkXG4gICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgc3RyZWFrU2VydmljZS5jYWxjdWxhdGVTdHJlYWsoXCJcIiwgbW9ja1VzZXJJZCksXG4gICAgICAgICAgICApLnJlamVjdHMudG9UaHJvdyhcIkhhYml0IElEIGFuZCBVc2VyIElEIGFyZSByZXF1aXJlZFwiKTtcblxuICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLmdldENvbXBsZXRpb25IaXN0b3J5KFwiXCIsIG1vY2tVc2VySWQpLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJIYWJpdCBJRCBhbmQgVXNlciBJRCBhcmUgcmVxdWlyZWRcIik7XG5cbiAgICAgICAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgICAgICAgICBhbmFseXRpY3NTZXJ2aWNlLmNhbGN1bGF0ZUhhYml0QW5hbHl0aWNzKFwiXCIsIG1vY2tVc2VySWQpLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJIYWJpdCBJRCBhbmQgVXNlciBJRCBhcmUgcmVxdWlyZWRcIik7XG5cbiAgICAgICAgICAgIC8vIFRlc3QgZW1wdHkgdXNlcklkXG4gICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgc3RyZWFrU2VydmljZS5jYWxjdWxhdGVTdHJlYWsobW9ja0hhYml0SWQsIFwiXCIpLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJIYWJpdCBJRCBhbmQgVXNlciBJRCBhcmUgcmVxdWlyZWRcIik7XG5cbiAgICAgICAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5nZXRDb21wbGV0aW9uSGlzdG9yeShtb2NrSGFiaXRJZCwgXCJcIiksXG4gICAgICAgICAgICApLnJlamVjdHMudG9UaHJvdyhcIkhhYml0IElEIGFuZCBVc2VyIElEIGFyZSByZXF1aXJlZFwiKTtcblxuICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgIGFuYWx5dGljc1NlcnZpY2UuY2FsY3VsYXRlSGFiaXRBbmFseXRpY3MobW9ja0hhYml0SWQsIFwiXCIpLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJIYWJpdCBJRCBhbmQgVXNlciBJRCBhcmUgcmVxdWlyZWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBpbnZhbGlkIGNvbXBsZXRpb24gdGltZXN0YW1wc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmdXR1cmVDb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IG1vY2tVc2VySWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShEYXRlLm5vdygpICsgODY0MDAwMDApKSwgLy8gVG9tb3Jyb3dcbiAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk6IFwiZWFzeVwiLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oZnV0dXJlQ29tcGxldGlvbiksXG4gICAgICAgICAgICApLnJlamVjdHMudG9UaHJvdyhcIkNhbm5vdCByZWNvcmQgY29tcGxldGlvbnMgZm9yIGZ1dHVyZSBkYXRlc1wiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIlBlcmZvcm1hbmNlIGFuZCBDb25jdXJyZW5jeVwiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IG9wZXJhdGlvbnMgb24gc2FtZSBoYWJpdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlczogUHJvbWlzZTxhbnk+W10gPSBbXTtcblxuICAgICAgICAgICAgLy8gU2ltdWxhdGUgY29uY3VycmVudCBvcGVyYXRpb25zXG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHN0cmVha1NlcnZpY2UuY2FsY3VsYXRlU3RyZWFrKG1vY2tIYWJpdElkLCBtb2NrVXNlcklkKSk7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgICAgIGFuYWx5dGljc1NlcnZpY2UuY2FsY3VsYXRlSGFiaXRBbmFseXRpY3MobW9ja0hhYml0SWQsIG1vY2tVc2VySWQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgICAgICAgY29tcGxldGlvblNlcnZpY2UuZ2V0Q29tcGxldGlvbkhpc3RvcnkobW9ja0hhYml0SWQsIG1vY2tVc2VySWQpLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChwcm9taXNlcyk7XG5cbiAgICAgICAgICAgIC8vIEFsbCBvcGVyYXRpb25zIHNob3VsZCBjb21wbGV0ZVxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdHMubGVuZ3RoKS50b0JlKDMpO1xuXG4gICAgICAgICAgICAvLyBNb3N0IHNob3VsZCBzdWNjZWVkIChhbGxvd2luZyBmb3Igc29tZSB0ZXN0IHZhcmlhbmNlKVxuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2Z1bCA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiByLnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIik7XG4gICAgICAgICAgICBleHBlY3Qoc3VjY2Vzc2Z1bC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgaGFuZGxlIG11bHRpcGxlIHVzZXJzIGNvbmN1cnJlbnRseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1c2VySWRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgKF8sIGkpID0+IGB1c2VyLSR7aX1gKTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzOiBQcm9taXNlPGFueT5bXSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVzZXJJZCBvZiB1c2VySWRzKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChzdHJlYWtTZXJ2aWNlLmNhbGN1bGF0ZVN0cmVhayhtb2NrSGFiaXRJZCwgdXNlcklkKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2Z1bCA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiByLnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIik7XG5cbiAgICAgICAgICAgIC8vIE1vc3Qgb3BlcmF0aW9ucyBzaG91bGQgc3VjY2VlZFxuICAgICAgICAgICAgZXhwZWN0KHN1Y2Nlc3NmdWwubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4odXNlcklkcy5sZW5ndGggKiAwLjUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBjb21wbGV0ZSBvcGVyYXRpb25zIHdpdGhpbiByZWFzb25hYmxlIHRpbWVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHN0cmVha1NlcnZpY2UuY2FsY3VsYXRlU3RyZWFrKG1vY2tIYWJpdElkLCBtb2NrVXNlcklkKSxcbiAgICAgICAgICAgICAgICBhbmFseXRpY3NTZXJ2aWNlLmNhbGN1bGF0ZUhhYml0QW5hbHl0aWNzKG1vY2tIYWJpdElkLCBtb2NrVXNlcklkKSxcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5nZXRDb21wbGV0aW9uSGlzdG9yeShtb2NrSGFiaXRJZCwgbW9ja1VzZXJJZCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAgICAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIDUgc2Vjb25kcyAoZ2VuZXJvdXMgZm9yIHRlc3QgZW52aXJvbm1lbnQpXG4gICAgICAgICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbig1MDAwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIkVycm9yIEhhbmRsaW5nIGFuZCBSZWNvdmVyeVwiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBGaXJlYmFzZSB0cmFuc2FjdGlvbiBmYWlsdXJlcyBncmFjZWZ1bGx5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIE1vY2sgdHJhbnNhY3Rpb24gZmFpbHVyZVxuICAgICAgICAgICAgY29uc3QgeyBydW5UcmFuc2FjdGlvbiB9ID0gcmVxdWlyZShcImZpcmViYXNlL2ZpcmVzdG9yZVwiKTtcbiAgICAgICAgICAgIHJ1blRyYW5zYWN0aW9uLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoXCJUcmFuc2FjdGlvbiBmYWlsZWRcIikpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IG1vY2tVc2VySWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk6IFwibWVkaXVtXCIsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTaG91bGQgcHJvcGFnYXRlIGVycm9yIGFwcHJvcHJpYXRlbHlcbiAgICAgICAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5yZWNvcmRDb21wbGV0aW9uKGNvbXBsZXRpb24pLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJUcmFuc2FjdGlvbiBmYWlsZWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBtaXNzaW5nIGRhdGEgZ3JhY2VmdWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBNb2NrIGVtcHR5IGRhdGFcbiAgICAgICAgICAgIGNvbnN0IHsgZ2V0RG9jLCBnZXREb2NzIH0gPSByZXF1aXJlKFwiZmlyZWJhc2UvZmlyZXN0b3JlXCIpO1xuICAgICAgICAgICAgZ2V0RG9jLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGV4aXN0czogKCkgPT4gZmFsc2UsIGRhdGE6ICgpID0+IG51bGwgfSk7XG4gICAgICAgICAgICBnZXREb2NzLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRvY3M6IFtdIH0pO1xuXG4gICAgICAgICAgICAvLyBTaG91bGQgaGFuZGxlIG1pc3Npbmcgc3RyZWFrIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhayA9IGF3YWl0IHN0cmVha1NlcnZpY2UuZ2V0SGFiaXRTdHJlYWsoXG4gICAgICAgICAgICAgICAgXCJub25leGlzdGVudC1oYWJpdFwiLFxuICAgICAgICAgICAgICAgIG1vY2tVc2VySWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KHN0cmVhaykudG9CZURlZmluZWQoKTtcblxuICAgICAgICAgICAgLy8gU2hvdWxkIGhhbmRsZSBlbXB0eSBjb21wbGV0aW9uIGhpc3RvcnlcbiAgICAgICAgICAgIGNvbnN0IGhpc3RvcnkgPSBhd2FpdCBjb21wbGV0aW9uU2VydmljZS5nZXRDb21wbGV0aW9uSGlzdG9yeShcbiAgICAgICAgICAgICAgICBcIm5vbmV4aXN0ZW50LWhhYml0XCIsXG4gICAgICAgICAgICAgICAgbW9ja1VzZXJJZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3QoaGlzdG9yeSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChoaXN0b3J5LmNvbXBsZXRpb25zKS50b0VxdWFsKFtdKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIk11bHRpLUhhYml0IEFuYWx5dGljc1wiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGNhbGN1bGF0ZSBjcm9zcy1oYWJpdCBjb25zaXN0ZW5jeSBzY29yZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFiaXRJZHMgPSBbXCJoYWJpdC0xXCIsIFwiaGFiaXQtMlwiLCBcImhhYml0LTNcIl07XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBjb21wbGV0aW9ucyBmb3IgbXVsdGlwbGUgaGFiaXRzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhhYml0SWQgb2YgaGFiaXRJZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGFiaXRJZCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBtb2NrVXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oY29tcGxldGlvbiksXG4gICAgICAgICAgICAgICAgKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgb3ZlcmFsbCBjb25zaXN0ZW5jeVxuICAgICAgICAgICAgY29uc3QgY29uc2lzdGVuY3lTY29yZSA9XG4gICAgICAgICAgICAgICAgYXdhaXQgYW5hbHl0aWNzU2VydmljZS5nZXRPdmVyYWxsQ29uc2lzdGVuY3lTY29yZShtb2NrVXNlcklkKTtcbiAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgY29uc2lzdGVuY3lTY29yZSkudG9CZShcIm51bWJlclwiKTtcbiAgICAgICAgICAgIGV4cGVjdChjb25zaXN0ZW5jeVNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBoYW5kbGUgZGlmZmVyZW50IGRpZmZpY3VsdHkgbGV2ZWxzIGNvcnJlY3RseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaWZmaWN1bHRpZXM6IEFycmF5PFwiZWFzeVwiIHwgXCJtZWRpdW1cIiB8IFwiaGFyZFwiPiA9IFtcbiAgICAgICAgICAgICAgICBcImVhc3lcIixcbiAgICAgICAgICAgICAgICBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICAgIFwiaGFyZFwiLFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmaWN1bHRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGFiaXRJZDogYCR7bW9ja0hhYml0SWR9LSR7ZGlmZmljdWx0aWVzW2ldfWAsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogbW9ja1VzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXpvbmU6IG1vY2tUaW1lem9uZSxcbiAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eTogZGlmZmljdWx0aWVzW2ldLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oY29tcGxldGlvbiksXG4gICAgICAgICAgICAgICAgKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYW5hbHl0aWNzID0gYXdhaXQgYW5hbHl0aWNzU2VydmljZS5jYWxjdWxhdGVIYWJpdEFuYWx5dGljcyhcbiAgICAgICAgICAgICAgICAgICAgYCR7bW9ja0hhYml0SWR9LSR7ZGlmZmljdWx0aWVzW2ldfWAsXG4gICAgICAgICAgICAgICAgICAgIG1vY2tVc2VySWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBleHBlY3QoYW5hbHl0aWNzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiVGltZXpvbmUgSGFuZGxpbmdcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBoYW5kbGUgZGlmZmVyZW50IHRpbWV6b25lcyBjb3JyZWN0bHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZXpvbmVzID0gW1wiQW1lcmljYS9OZXdfWW9ya1wiLCBcIkV1cm9wZS9Mb25kb25cIiwgXCJBc2lhL1Rva3lvXCJdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRpbWV6b25lIG9mIHRpbWV6b25lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRpb246IE9taXQ8SGFiaXRDb21wbGV0aW9uLCBcImlkXCI+ID0ge1xuICAgICAgICAgICAgICAgICAgICBoYWJpdElkOiBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBtb2NrVXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lem9uZSxcbiAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eTogXCJtZWRpdW1cIixcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5yZWNvcmRDb21wbGV0aW9uKGNvbXBsZXRpb24pLFxuICAgICAgICAgICAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVmVyaWZ5IHN0cmVhayBjYWxjdWxhdGlvbiBoYW5kbGVzIHRpbWV6b25lIGRpZmZlcmVuY2VzXG4gICAgICAgICAgICBjb25zdCBzdHJlYWsgPSBhd2FpdCBzdHJlYWtTZXJ2aWNlLmNhbGN1bGF0ZVN0cmVhayhcbiAgICAgICAgICAgICAgICBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChzdHJlYWspLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQWNBQSxXQUFBLEdBQUtDLElBQUksc0JBQXNCO0VBQUEsT0FBTztJQUNsQ0MsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNOQyxNQUFNLEVBQUU7RUFDWixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBRUhILFdBQUEsR0FBS0MsSUFBSSxDQUFDLG9CQUFvQixFQUFFO0VBQUEsT0FBTztJQUNuQ0csVUFBVSxFQUFFQyxJQUFJLENBQUND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