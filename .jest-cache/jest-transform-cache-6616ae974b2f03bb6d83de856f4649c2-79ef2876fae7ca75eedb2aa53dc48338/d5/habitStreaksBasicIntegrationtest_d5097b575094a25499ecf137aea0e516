59d25ea58a57a0ab524eaeafb0a912fd
_getJestObj().mock("../firebaseConfig", function () {
  return {
    db: {},
    APP_ID: "test-app"
  };
});
_getJestObj().mock("firebase/firestore", function () {
  return {
    collection: jest.fn(),
    doc: jest.fn(),
    getDoc: jest.fn(),
    getDocs: jest.fn(),
    query: jest.fn(),
    where: jest.fn(),
    orderBy: jest.fn(),
    runTransaction: jest.fn(),
    serverTimestamp: jest.fn(function () {
      return {
        seconds: Date.now() / 1000
      };
    }),
    Timestamp: {
      now: jest.fn(function () {
        return {
          seconds: Date.now() / 1000,
          toMillis: function toMillis() {
            return Date.now();
          },
          toDate: function toDate() {
            return new Date();
          }
        };
      }),
      fromDate: jest.fn(function (date) {
        return {
          seconds: date.getTime() / 1000,
          toMillis: function toMillis() {
            return date.getTime();
          },
          toDate: function toDate() {
            return date;
          }
        };
      })
    }
  };
});
_getJestObj().mock("../services/firebase/collections", function () {
  return {
    getHabitCompletionsCollection: jest.fn(function () {
      return {
        path: "completions"
      };
    }),
    getHabitStreaksCollection: jest.fn(function () {
      return {
        path: "streaks"
      };
    }),
    getHabitAnalyticsCollection: jest.fn(function () {
      return {
        path: "analytics"
      };
    })
  };
});
_getJestObj().mock("../utils/errorHandling", function () {
  return {
    getUserFriendlyErrorMessage: jest.fn(function (error) {
      return error.message || "Unknown error";
    }),
    retryWithBackoff: jest.fn(function (fn) {
      return fn();
    }),
    isOnline: jest.fn(function () {
      return true;
    })
  };
});
_getJestObj().mock("../services/firebase/streakValidationService", function () {
  return {
    streakValidationService: {
      validateStreakData: jest.fn(function () {
        return true;
      }),
      validateCompletion: jest.fn(function () {
        return true;
      })
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _firestore = require("firebase/firestore");
var _analyticsService = require("../services/firebase/analyticsService");
var _completionService = require("../services/firebase/completionService");
var _streakService = require("../services/firebase/streakService");
var _dateUtils = require("../utils/dateUtils");
function _getJestObj() {
  var _require3 = require("@jest/globals"),
    jest = _require3.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe("Habit Tracking System - Final Integration Tests", function () {
  var streakService;
  var completionService;
  var analyticsService;
  var mockTimezone = (0, _dateUtils.getUserTimezone)();
  beforeEach(function () {
    streakService = new _streakService.StreakService();
    completionService = new _completionService.CompletionService();
    analyticsService = new _analyticsService.AnalyticsService();
    jest.clearAllMocks();
    var _require = require("firebase/firestore"),
      runTransaction = _require.runTransaction,
      getDocs = _require.getDocs,
      getDoc = _require.getDoc;
    runTransaction.mockImplementation(function () {
      var _ref = (0, _asyncToGenerator2.default)(function* (db, callback) {
        var mockTransaction = {
          get: jest.fn().mockResolvedValue({
            exists: function exists() {
              return false;
            },
            data: function data() {
              return null;
            }
          }),
          set: jest.fn(),
          update: jest.fn()
        };
        return callback(mockTransaction);
      });
      return function (_x, _x2) {
        return _ref.apply(this, arguments);
      };
    }());
    getDocs.mockResolvedValue({
      docs: []
    });
    getDoc.mockResolvedValue({
      exists: function exists() {
        return false;
      },
      data: function data() {
        return null;
      }
    });
  });
  describe("Complete User Flow: Habit Creation to Milestone Achievement", function () {
    it("should handle complete user journey from first completion to streak tracking", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var mockHabitId = `habit-${testId}`;
      var firstCompletion = {
        habitId: mockHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.now(),
        timezone: mockTimezone,
        difficulty: "medium"
      };
      yield expect(completionService.recordCompletion(firstCompletion)).resolves.not.toThrow();
      var initialStreak = yield streakService.calculateStreak(mockHabitId, mockUserId);
      expect(initialStreak).toBeDefined();
      expect(initialStreak.habitId).toBe(mockHabitId);
      expect(initialStreak.userId).toBe(mockUserId);
      var analytics = yield analyticsService.calculateHabitAnalytics(mockHabitId, mockUserId);
      expect(analytics).toBeDefined();
      expect(analytics.habitId).toBe(mockHabitId);
      expect(analytics.userId).toBe(mockUserId);
    }));
    it("should handle multiple consecutive completions", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var mockHabitId = `habit-${testId}`;
      for (var i = 0; i < 5; i++) {
        var date = new Date();
        date.setDate(date.getDate() - (4 - i));
        date.setHours(12, 0, 0, 0);
        var completion = {
          habitId: mockHabitId,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.fromDate(date),
          timezone: mockTimezone,
          difficulty: "medium"
        };
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
      }
      var streak = yield streakService.calculateStreak(mockHabitId, mockUserId);
      expect(streak.currentStreak).toBeGreaterThanOrEqual(0);
      expect(streak.bestStreak).toBeGreaterThanOrEqual(streak.currentStreak);
    }));
  });
  describe("Cross-Device Synchronization", function () {
    it("should maintain data consistency across multiple operations", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var mockHabitId = `habit-${testId}`;
      var completion = {
        habitId: mockHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.now(),
        timezone: mockTimezone,
        difficulty: "hard"
      };
      var promises = [completionService.recordCompletion(completion), streakService.calculateStreak(mockHabitId, mockUserId), analyticsService.calculateHabitAnalytics(mockHabitId, mockUserId)];
      var results = yield Promise.allSettled(promises);
      var successful = results.filter(function (r) {
        return r.status === "fulfilled";
      });
      expect(successful.length).toBeGreaterThan(0);
    }));
    it("should handle multiple users concurrently", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockHabitId = `habit-${testId}`;
      var userIds = Array.from({
        length: 5
      }, function (_, i) {
        return `user-${testId}-${i}`;
      });
      var promises = userIds.map(function (userId) {
        return streakService.calculateStreak(mockHabitId, userId);
      });
      var results = yield Promise.allSettled(promises);
      var successful = results.filter(function (r) {
        return r.status === "fulfilled";
      });
      expect(successful.length).toBeGreaterThan(0);
    }));
  });
  describe("Security Measures and Access Controls", function () {
    it("should validate input parameters", (0, _asyncToGenerator2.default)(function* () {
      yield expect(streakService.calculateStreak("", "test-user")).rejects.toThrow("Habit ID and User ID are required");
      yield expect(completionService.getCompletionHistory("", "test-user")).rejects.toThrow("Habit ID and User ID are required");
      yield expect(analyticsService.calculateHabitAnalytics("", "test-user")).rejects.toThrow("Habit ID and User ID are required");
      yield expect(streakService.calculateStreak("test-habit", "")).rejects.toThrow("Habit ID and User ID are required");
    }));
    it("should handle invalid completion timestamps", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var mockHabitId = `habit-${testId}`;
      var futureCompletion = {
        habitId: mockHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.fromDate(new Date(Date.now() + 86400000)),
        timezone: mockTimezone,
        difficulty: "easy"
      };
      yield expect(completionService.recordCompletion(futureCompletion)).rejects.toThrow("Cannot record completions for future dates");
    }));
  });
  describe("Performance and Load Testing", function () {
    it("should complete operations within reasonable time", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var mockHabitId = `habit-${testId}`;
      var startTime = Date.now();
      yield Promise.all([streakService.calculateStreak(mockHabitId, mockUserId), analyticsService.calculateHabitAnalytics(mockHabitId, mockUserId), completionService.getCompletionHistory(mockHabitId, mockUserId)]);
      var duration = Date.now() - startTime;
      expect(duration).toBeLessThan(5000);
    }));
    it("should handle concurrent streak calculations", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var promises = [];
      for (var i = 0; i < 10; i++) {
        promises.push(streakService.calculateStreak(`habit-${testId}-${i}`, `user-${testId}-${i}`));
      }
      var results = yield Promise.allSettled(promises);
      var successful = results.filter(function (r) {
        return r.status === "fulfilled";
      });
      expect(successful.length).toBeGreaterThan(5);
    }));
  });
  describe("Error Handling and Recovery", function () {
    it("should handle Firebase transaction failures gracefully", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var mockHabitId = `habit-${testId}`;
      var _require2 = require("firebase/firestore"),
        runTransaction = _require2.runTransaction;
      runTransaction.mockRejectedValueOnce(new Error("Transaction failed"));
      var completion = {
        habitId: mockHabitId,
        userId: mockUserId,
        completedAt: _firestore.Timestamp.now(),
        timezone: mockTimezone,
        difficulty: "medium"
      };
      yield expect(completionService.recordCompletion(completion)).rejects.toThrow("Transaction failed");
    }));
    it("should handle missing data gracefully", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var mockHabitId = `habit-${testId}`;
      var streak = yield streakService.getHabitStreak(mockHabitId, mockUserId);
      expect(streak).toBeDefined();
      var history = yield completionService.getCompletionHistory(mockHabitId, mockUserId);
      expect(history).toBeDefined();
      expect(history.completions).toEqual([]);
    }));
  });
  describe("Multi-Habit Analytics", function () {
    it("should calculate cross-habit consistency scores", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var habitIds = ["habit-1", "habit-2", "habit-3"];
      for (var i = 0; i < habitIds.length; i++) {
        var completion = {
          habitId: `${testId}-${habitIds[i]}`,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.now(),
          timezone: mockTimezone,
          difficulty: "medium"
        };
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
      }
      var consistencyScore = yield analyticsService.getOverallConsistencyScore(mockUserId);
      expect(typeof consistencyScore).toBe("number");
      expect(consistencyScore).toBeGreaterThanOrEqual(0);
    }));
    it("should handle different difficulty levels correctly", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var difficulties = ["easy", "medium", "hard"];
      for (var i = 0; i < difficulties.length; i++) {
        var completion = {
          habitId: `habit-${testId}-${difficulties[i]}`,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.now(),
          timezone: mockTimezone,
          difficulty: difficulties[i]
        };
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
        var analytics = yield analyticsService.calculateHabitAnalytics(`habit-${testId}-${difficulties[i]}`, mockUserId);
        expect(analytics).toBeDefined();
      }
    }));
  });
  describe("Timezone Handling", function () {
    it("should handle different timezones correctly", (0, _asyncToGenerator2.default)(function* () {
      var testId = `test-${Date.now()}-${Math.random()}`;
      var mockUserId = `user-${testId}`;
      var timezones = ["America/New_York", "Europe/London", "Asia/Tokyo"];
      for (var i = 0; i < timezones.length; i++) {
        var completion = {
          habitId: `habit-${testId}-${i}`,
          userId: mockUserId,
          completedAt: _firestore.Timestamp.now(),
          timezone: timezones[i],
          difficulty: "medium"
        };
        yield expect(completionService.recordCompletion(completion)).resolves.not.toThrow();
      }
      var streak = yield streakService.calculateStreak(`habit-${testId}-0`, mockUserId);
      expect(streak).toBeDefined();
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJkYiIsIkFQUF9JRCIsImNvbGxlY3Rpb24iLCJqZXN0IiwiZm4iLCJkb2MiLCJnZXREb2MiLCJnZXREb2NzIiwicXVlcnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJydW5UcmFuc2FjdGlvbiIsInNlcnZlclRpbWVzdGFtcCIsInNlY29uZHMiLCJEYXRlIiwibm93IiwiVGltZXN0YW1wIiwidG9NaWxsaXMiLCJ0b0RhdGUiLCJmcm9tRGF0ZSIsImRhdGUiLCJnZXRUaW1lIiwiZ2V0SGFiaXRDb21wbGV0aW9uc0NvbGxlY3Rpb24iLCJwYXRoIiwiZ2V0SGFiaXRTdHJlYWtzQ29sbGVjdGlvbiIsImdldEhhYml0QW5hbHl0aWNzQ29sbGVjdGlvbiIsImdldFVzZXJGcmllbmRseUVycm9yTWVzc2FnZSIsImVycm9yIiwibWVzc2FnZSIsInJldHJ5V2l0aEJhY2tvZmYiLCJpc09ubGluZSIsInN0cmVha1ZhbGlkYXRpb25TZXJ2aWNlIiwidmFsaWRhdGVTdHJlYWtEYXRhIiwidmFsaWRhdGVDb21wbGV0aW9uIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJkZWZhdWx0IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX2ZpcmVzdG9yZSIsIl9hbmFseXRpY3NTZXJ2aWNlIiwiX2NvbXBsZXRpb25TZXJ2aWNlIiwiX3N0cmVha1NlcnZpY2UiLCJfZGF0ZVV0aWxzIiwiX3JlcXVpcmUzIiwiZGVzY3JpYmUiLCJzdHJlYWtTZXJ2aWNlIiwiY29tcGxldGlvblNlcnZpY2UiLCJhbmFseXRpY3NTZXJ2aWNlIiwibW9ja1RpbWV6b25lIiwiZ2V0VXNlclRpbWV6b25lIiwiYmVmb3JlRWFjaCIsIlN0cmVha1NlcnZpY2UiLCJDb21wbGV0aW9uU2VydmljZSIsIkFuYWx5dGljc1NlcnZpY2UiLCJjbGVhckFsbE1vY2tzIiwiX3JlcXVpcmUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJfcmVmIiwiY2FsbGJhY2siLCJtb2NrVHJhbnNhY3Rpb24iLCJnZXQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImV4aXN0cyIsImRhdGEiLCJzZXQiLCJ1cGRhdGUiLCJfeCIsIl94MiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZG9jcyIsIml0IiwidGVzdElkIiwiTWF0aCIsInJhbmRvbSIsIm1vY2tVc2VySWQiLCJtb2NrSGFiaXRJZCIsImZpcnN0Q29tcGxldGlvbiIsImhhYml0SWQiLCJ1c2VySWQiLCJjb21wbGV0ZWRBdCIsInRpbWV6b25lIiwiZGlmZmljdWx0eSIsImV4cGVjdCIsInJlY29yZENvbXBsZXRpb24iLCJyZXNvbHZlcyIsIm5vdCIsInRvVGhyb3ciLCJpbml0aWFsU3RyZWFrIiwiY2FsY3VsYXRlU3RyZWFrIiwidG9CZURlZmluZWQiLCJ0b0JlIiwiYW5hbHl0aWNzIiwiY2FsY3VsYXRlSGFiaXRBbmFseXRpY3MiLCJpIiwic2V0RGF0ZSIsImdldERhdGUiLCJzZXRIb3VycyIsImNvbXBsZXRpb24iLCJzdHJlYWsiLCJjdXJyZW50U3RyZWFrIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsImJlc3RTdHJlYWsiLCJwcm9taXNlcyIsInJlc3VsdHMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsInN1Y2Nlc3NmdWwiLCJmaWx0ZXIiLCJyIiwic3RhdHVzIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwidXNlcklkcyIsIkFycmF5IiwiZnJvbSIsIl8iLCJtYXAiLCJyZWplY3RzIiwiZ2V0Q29tcGxldGlvbkhpc3RvcnkiLCJmdXR1cmVDb21wbGV0aW9uIiwic3RhcnRUaW1lIiwiYWxsIiwiZHVyYXRpb24iLCJ0b0JlTGVzc1RoYW4iLCJwdXNoIiwiX3JlcXVpcmUyIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJnZXRIYWJpdFN0cmVhayIsImhpc3RvcnkiLCJjb21wbGV0aW9ucyIsInRvRXF1YWwiLCJoYWJpdElkcyIsImNvbnNpc3RlbmN5U2NvcmUiLCJnZXRPdmVyYWxsQ29uc2lzdGVuY3lTY29yZSIsImRpZmZpY3VsdGllcyIsInRpbWV6b25lcyJdLCJzb3VyY2VzIjpbImhhYml0U3RyZWFrc0Jhc2ljSW50ZWdyYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEJhc2ljIEludGVncmF0aW9uIFRlc3RzIGZvciBIYWJpdCBUcmFja2luZyAmIFN0cmVha3MgU3lzdGVtXG4gKlxuICogVGVzdHMgY29yZSBzeXN0ZW0gaW50ZWdyYXRpb24gZm9yIHRhc2sgMTg6IEZpbmFsIGludGVncmF0aW9uIGFuZCB0ZXN0aW5nXG4gKi9cblxuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgQW5hbHl0aWNzU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9maXJlYmFzZS9hbmFseXRpY3NTZXJ2aWNlXCI7XG5pbXBvcnQgeyBDb21wbGV0aW9uU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9maXJlYmFzZS9jb21wbGV0aW9uU2VydmljZVwiO1xuaW1wb3J0IHsgU3RyZWFrU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9maXJlYmFzZS9zdHJlYWtTZXJ2aWNlXCI7XG5pbXBvcnQgeyBIYWJpdENvbXBsZXRpb24gfSBmcm9tIFwiLi4vdHlwZXMvaGFiaXQtc3RyZWFrc1wiO1xuaW1wb3J0IHsgZ2V0VXNlclRpbWV6b25lIH0gZnJvbSBcIi4uL3V0aWxzL2RhdGVVdGlsc1wiO1xuXG4vLyBNb2NrIEZpcmViYXNlXG5qZXN0Lm1vY2soXCIuLi9maXJlYmFzZUNvbmZpZ1wiLCAoKSA9PiAoe1xuICAgIGRiOiB7fSxcbiAgICBBUFBfSUQ6IFwidGVzdC1hcHBcIixcbn0pKTtcblxuamVzdC5tb2NrKFwiZmlyZWJhc2UvZmlyZXN0b3JlXCIsICgpID0+ICh7XG4gICAgY29sbGVjdGlvbjogamVzdC5mbigpLFxuICAgIGRvYzogamVzdC5mbigpLFxuICAgIGdldERvYzogamVzdC5mbigpLFxuICAgIGdldERvY3M6IGplc3QuZm4oKSxcbiAgICBxdWVyeTogamVzdC5mbigpLFxuICAgIHdoZXJlOiBqZXN0LmZuKCksXG4gICAgb3JkZXJCeTogamVzdC5mbigpLFxuICAgIHJ1blRyYW5zYWN0aW9uOiBqZXN0LmZuKCksXG4gICAgc2VydmVyVGltZXN0YW1wOiBqZXN0LmZuKCgpID0+ICh7IHNlY29uZHM6IERhdGUubm93KCkgLyAxMDAwIH0pKSxcbiAgICBUaW1lc3RhbXA6IHtcbiAgICAgICAgbm93OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgICAgICBzZWNvbmRzOiBEYXRlLm5vdygpIC8gMTAwMCxcbiAgICAgICAgICAgIHRvTWlsbGlzOiAoKSA9PiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdG9EYXRlOiAoKSA9PiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KSksXG4gICAgICAgIGZyb21EYXRlOiBqZXN0LmZuKChkYXRlOiBEYXRlKSA9PiAoe1xuICAgICAgICAgICAgc2Vjb25kczogZGF0ZS5nZXRUaW1lKCkgLyAxMDAwLFxuICAgICAgICAgICAgdG9NaWxsaXM6ICgpID0+IGRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgdG9EYXRlOiAoKSA9PiBkYXRlLFxuICAgICAgICB9KSksXG4gICAgfSxcbn0pKTtcblxuamVzdC5tb2NrKFwiLi4vc2VydmljZXMvZmlyZWJhc2UvY29sbGVjdGlvbnNcIiwgKCkgPT4gKHtcbiAgICBnZXRIYWJpdENvbXBsZXRpb25zQ29sbGVjdGlvbjogamVzdC5mbigoKSA9PiAoeyBwYXRoOiBcImNvbXBsZXRpb25zXCIgfSkpLFxuICAgIGdldEhhYml0U3RyZWFrc0NvbGxlY3Rpb246IGplc3QuZm4oKCkgPT4gKHsgcGF0aDogXCJzdHJlYWtzXCIgfSkpLFxuICAgIGdldEhhYml0QW5hbHl0aWNzQ29sbGVjdGlvbjogamVzdC5mbigoKSA9PiAoeyBwYXRoOiBcImFuYWx5dGljc1wiIH0pKSxcbn0pKTtcblxuamVzdC5tb2NrKFwiLi4vdXRpbHMvZXJyb3JIYW5kbGluZ1wiLCAoKSA9PiAoe1xuICAgIGdldFVzZXJGcmllbmRseUVycm9yTWVzc2FnZTogamVzdC5mbihcbiAgICAgICAgKGVycm9yKSA9PiBlcnJvci5tZXNzYWdlIHx8IFwiVW5rbm93biBlcnJvclwiLFxuICAgICksXG4gICAgcmV0cnlXaXRoQmFja29mZjogamVzdC5mbigoZm4pID0+IGZuKCkpLFxuICAgIGlzT25saW5lOiBqZXN0LmZuKCgpID0+IHRydWUpLFxufSkpO1xuXG4vLyBNb2NrIG1pc3Npbmcgc2VydmljZXNcbmplc3QubW9jayhcIi4uL3NlcnZpY2VzL2ZpcmViYXNlL3N0cmVha1ZhbGlkYXRpb25TZXJ2aWNlXCIsICgpID0+ICh7XG4gICAgc3RyZWFrVmFsaWRhdGlvblNlcnZpY2U6IHtcbiAgICAgICAgdmFsaWRhdGVTdHJlYWtEYXRhOiBqZXN0LmZuKCgpID0+IHRydWUpLFxuICAgICAgICB2YWxpZGF0ZUNvbXBsZXRpb246IGplc3QuZm4oKCkgPT4gdHJ1ZSksXG4gICAgfSxcbn0pKTtcblxuZGVzY3JpYmUoXCJIYWJpdCBUcmFja2luZyBTeXN0ZW0gLSBGaW5hbCBJbnRlZ3JhdGlvbiBUZXN0c1wiLCAoKSA9PiB7XG4gICAgbGV0IHN0cmVha1NlcnZpY2U6IFN0cmVha1NlcnZpY2U7XG4gICAgbGV0IGNvbXBsZXRpb25TZXJ2aWNlOiBDb21wbGV0aW9uU2VydmljZTtcbiAgICBsZXQgYW5hbHl0aWNzU2VydmljZTogQW5hbHl0aWNzU2VydmljZTtcblxuICAgIGNvbnN0IG1vY2tUaW1lem9uZSA9IGdldFVzZXJUaW1lem9uZSgpO1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIHN0cmVha1NlcnZpY2UgPSBuZXcgU3RyZWFrU2VydmljZSgpO1xuICAgICAgICBjb21wbGV0aW9uU2VydmljZSA9IG5ldyBDb21wbGV0aW9uU2VydmljZSgpO1xuICAgICAgICBhbmFseXRpY3NTZXJ2aWNlID0gbmV3IEFuYWx5dGljc1NlcnZpY2UoKTtcblxuICAgICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgRmlyZWJhc2Ugb3BlcmF0aW9uc1xuICAgICAgICBjb25zdCB7IHJ1blRyYW5zYWN0aW9uLCBnZXREb2NzLCBnZXREb2MgfSA9IHJlcXVpcmUoXCJmaXJlYmFzZS9maXJlc3RvcmVcIik7XG4gICAgICAgIHJ1blRyYW5zYWN0aW9uLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoZGIsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2NrVHJhbnNhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgZ2V0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICBleGlzdHM6ICgpID0+IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAoKSA9PiBudWxsLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHNldDogamVzdC5mbigpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhtb2NrVHJhbnNhY3Rpb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICBnZXREb2NzLm1vY2tSZXNvbHZlZFZhbHVlKHsgZG9jczogW10gfSk7XG4gICAgICAgIGdldERvYy5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGV4aXN0czogKCkgPT4gZmFsc2UsIGRhdGE6ICgpID0+IG51bGwgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIkNvbXBsZXRlIFVzZXIgRmxvdzogSGFiaXQgQ3JlYXRpb24gdG8gTWlsZXN0b25lIEFjaGlldmVtZW50XCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgaGFuZGxlIGNvbXBsZXRlIHVzZXIgam91cm5leSBmcm9tIGZpcnN0IGNvbXBsZXRpb24gdG8gc3RyZWFrIHRyYWNraW5nXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRlc3RJZCA9IGB0ZXN0LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgICAgICBjb25zdCBtb2NrVXNlcklkID0gYHVzZXItJHt0ZXN0SWR9YDtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tIYWJpdElkID0gYGhhYml0LSR7dGVzdElkfWA7XG5cbiAgICAgICAgICAgIC8vIFN0ZXAgMTogUmVjb3JkIGZpcnN0IGNvbXBsZXRpb25cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q29tcGxldGlvbjogT21pdDxIYWJpdENvbXBsZXRpb24sIFwiaWRcIj4gPSB7XG4gICAgICAgICAgICAgICAgaGFiaXRJZDogbW9ja0hhYml0SWQsXG4gICAgICAgICAgICAgICAgdXNlcklkOiBtb2NrVXNlcklkLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICAgICAgICAgICAgdGltZXpvbmU6IG1vY2tUaW1lem9uZSxcbiAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oZmlyc3RDb21wbGV0aW9uKSxcbiAgICAgICAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcblxuICAgICAgICAgICAgLy8gU3RlcCAyOiBDYWxjdWxhdGUgaW5pdGlhbCBzdHJlYWtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxTdHJlYWsgPSBhd2FpdCBzdHJlYWtTZXJ2aWNlLmNhbGN1bGF0ZVN0cmVhayhcbiAgICAgICAgICAgICAgICBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChpbml0aWFsU3RyZWFrKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGluaXRpYWxTdHJlYWsuaGFiaXRJZCkudG9CZShtb2NrSGFiaXRJZCk7XG4gICAgICAgICAgICBleHBlY3QoaW5pdGlhbFN0cmVhay51c2VySWQpLnRvQmUobW9ja1VzZXJJZCk7XG5cbiAgICAgICAgICAgIC8vIFN0ZXAgMzogVmVyaWZ5IGFuYWx5dGljcyBjYWxjdWxhdGlvblxuICAgICAgICAgICAgY29uc3QgYW5hbHl0aWNzID0gYXdhaXQgYW5hbHl0aWNzU2VydmljZS5jYWxjdWxhdGVIYWJpdEFuYWx5dGljcyhcbiAgICAgICAgICAgICAgICBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChhbmFseXRpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QoYW5hbHl0aWNzLmhhYml0SWQpLnRvQmUobW9ja0hhYml0SWQpO1xuICAgICAgICAgICAgZXhwZWN0KGFuYWx5dGljcy51c2VySWQpLnRvQmUobW9ja1VzZXJJZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBjb25zZWN1dGl2ZSBjb21wbGV0aW9uc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXN0SWQgPSBgdGVzdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICAgICAgY29uc3QgbW9ja1VzZXJJZCA9IGB1c2VyLSR7dGVzdElkfWA7XG4gICAgICAgICAgICBjb25zdCBtb2NrSGFiaXRJZCA9IGBoYWJpdC0ke3Rlc3RJZH1gO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgNSBjb25zZWN1dGl2ZSBjb21wbGV0aW9uc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSAoNCAtIGkpKTtcbiAgICAgICAgICAgICAgICBkYXRlLnNldEhvdXJzKDEyLCAwLCAwLCAwKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRpb246IE9taXQ8SGFiaXRDb21wbGV0aW9uLCBcImlkXCI+ID0ge1xuICAgICAgICAgICAgICAgICAgICBoYWJpdElkOiBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBtb2NrVXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogVGltZXN0YW1wLmZyb21EYXRlKGRhdGUpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oY29tcGxldGlvbiksXG4gICAgICAgICAgICAgICAgKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBWZXJpZnkgc3RyZWFrIGNhbGN1bGF0aW9uXG4gICAgICAgICAgICBjb25zdCBzdHJlYWsgPSBhd2FpdCBzdHJlYWtTZXJ2aWNlLmNhbGN1bGF0ZVN0cmVhayhcbiAgICAgICAgICAgICAgICBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICBtb2NrVXNlcklkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChzdHJlYWsuY3VycmVudFN0cmVhaykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgICAgICAgIGV4cGVjdChzdHJlYWsuYmVzdFN0cmVhaykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbChzdHJlYWsuY3VycmVudFN0cmVhayk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJDcm9zcy1EZXZpY2UgU3luY2hyb25pemF0aW9uXCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgbWFpbnRhaW4gZGF0YSBjb25zaXN0ZW5jeSBhY3Jvc3MgbXVsdGlwbGUgb3BlcmF0aW9uc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXN0SWQgPSBgdGVzdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICAgICAgY29uc3QgbW9ja1VzZXJJZCA9IGB1c2VyLSR7dGVzdElkfWA7XG4gICAgICAgICAgICBjb25zdCBtb2NrSGFiaXRJZCA9IGBoYWJpdC0ke3Rlc3RJZH1gO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IG1vY2tVc2VySWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk6IFwiaGFyZFwiLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gU2ltdWxhdGUgY29uY3VycmVudCBvcGVyYXRpb25zXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5yZWNvcmRDb21wbGV0aW9uKGNvbXBsZXRpb24pLFxuICAgICAgICAgICAgICAgIHN0cmVha1NlcnZpY2UuY2FsY3VsYXRlU3RyZWFrKG1vY2tIYWJpdElkLCBtb2NrVXNlcklkKSxcbiAgICAgICAgICAgICAgICBhbmFseXRpY3NTZXJ2aWNlLmNhbGN1bGF0ZUhhYml0QW5hbHl0aWNzKG1vY2tIYWJpdElkLCBtb2NrVXNlcklkKSxcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuXG4gICAgICAgICAgICAvLyBBdCBsZWFzdCBzb21lIG9wZXJhdGlvbnMgc2hvdWxkIHN1Y2NlZWRcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcigocikgPT4gci5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpO1xuICAgICAgICAgICAgZXhwZWN0KHN1Y2Nlc3NmdWwubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBtdWx0aXBsZSB1c2VycyBjb25jdXJyZW50bHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVzdElkID0gYHRlc3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YDtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tIYWJpdElkID0gYGhhYml0LSR7dGVzdElkfWA7XG4gICAgICAgICAgICBjb25zdCB1c2VySWRzID0gQXJyYXkuZnJvbShcbiAgICAgICAgICAgICAgICB7IGxlbmd0aDogNSB9LFxuICAgICAgICAgICAgICAgIChfLCBpKSA9PiBgdXNlci0ke3Rlc3RJZH0tJHtpfWAsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IHVzZXJJZHMubWFwKCh1c2VySWQpID0+XG4gICAgICAgICAgICAgICAgc3RyZWFrU2VydmljZS5jYWxjdWxhdGVTdHJlYWsobW9ja0hhYml0SWQsIHVzZXJJZCksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcigocikgPT4gci5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpO1xuXG4gICAgICAgICAgICAvLyBNb3N0IG9wZXJhdGlvbnMgc2hvdWxkIHN1Y2NlZWRcbiAgICAgICAgICAgIGV4cGVjdChzdWNjZXNzZnVsLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiU2VjdXJpdHkgTWVhc3VyZXMgYW5kIEFjY2VzcyBDb250cm9sc1wiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIHZhbGlkYXRlIGlucHV0IHBhcmFtZXRlcnNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gVGVzdCBlbXB0eSBoYWJpdElkXG4gICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgc3RyZWFrU2VydmljZS5jYWxjdWxhdGVTdHJlYWsoXCJcIiwgXCJ0ZXN0LXVzZXJcIiksXG4gICAgICAgICAgICApLnJlamVjdHMudG9UaHJvdyhcIkhhYml0IElEIGFuZCBVc2VyIElEIGFyZSByZXF1aXJlZFwiKTtcblxuICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLmdldENvbXBsZXRpb25IaXN0b3J5KFwiXCIsIFwidGVzdC11c2VyXCIpLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJIYWJpdCBJRCBhbmQgVXNlciBJRCBhcmUgcmVxdWlyZWRcIik7XG5cbiAgICAgICAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgICAgICAgICBhbmFseXRpY3NTZXJ2aWNlLmNhbGN1bGF0ZUhhYml0QW5hbHl0aWNzKFwiXCIsIFwidGVzdC11c2VyXCIpLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJIYWJpdCBJRCBhbmQgVXNlciBJRCBhcmUgcmVxdWlyZWRcIik7XG5cbiAgICAgICAgICAgIC8vIFRlc3QgZW1wdHkgdXNlcklkXG4gICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgc3RyZWFrU2VydmljZS5jYWxjdWxhdGVTdHJlYWsoXCJ0ZXN0LWhhYml0XCIsIFwiXCIpLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJIYWJpdCBJRCBhbmQgVXNlciBJRCBhcmUgcmVxdWlyZWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBpbnZhbGlkIGNvbXBsZXRpb24gdGltZXN0YW1wc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXN0SWQgPSBgdGVzdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICAgICAgY29uc3QgbW9ja1VzZXJJZCA9IGB1c2VyLSR7dGVzdElkfWA7XG4gICAgICAgICAgICBjb25zdCBtb2NrSGFiaXRJZCA9IGBoYWJpdC0ke3Rlc3RJZH1gO1xuXG4gICAgICAgICAgICBjb25zdCBmdXR1cmVDb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBtb2NrSGFiaXRJZCxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IG1vY2tVc2VySWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShEYXRlLm5vdygpICsgODY0MDAwMDApKSwgLy8gVG9tb3Jyb3dcbiAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk6IFwiZWFzeVwiLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oZnV0dXJlQ29tcGxldGlvbiksXG4gICAgICAgICAgICApLnJlamVjdHMudG9UaHJvdyhcIkNhbm5vdCByZWNvcmQgY29tcGxldGlvbnMgZm9yIGZ1dHVyZSBkYXRlc1wiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZShcIlBlcmZvcm1hbmNlIGFuZCBMb2FkIFRlc3RpbmdcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBjb21wbGV0ZSBvcGVyYXRpb25zIHdpdGhpbiByZWFzb25hYmxlIHRpbWVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVzdElkID0gYHRlc3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YDtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tVc2VySWQgPSBgdXNlci0ke3Rlc3RJZH1gO1xuICAgICAgICAgICAgY29uc3QgbW9ja0hhYml0SWQgPSBgaGFiaXQtJHt0ZXN0SWR9YDtcblxuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHN0cmVha1NlcnZpY2UuY2FsY3VsYXRlU3RyZWFrKG1vY2tIYWJpdElkLCBtb2NrVXNlcklkKSxcbiAgICAgICAgICAgICAgICBhbmFseXRpY3NTZXJ2aWNlLmNhbGN1bGF0ZUhhYml0QW5hbHl0aWNzKG1vY2tIYWJpdElkLCBtb2NrVXNlcklkKSxcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5nZXRDb21wbGV0aW9uSGlzdG9yeShtb2NrSGFiaXRJZCwgbW9ja1VzZXJJZCksXG4gICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAgICAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIDUgc2Vjb25kc1xuICAgICAgICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oNTAwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHN0cmVhayBjYWxjdWxhdGlvbnNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVzdElkID0gYHRlc3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YDtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHN0cmVha1NlcnZpY2UuY2FsY3VsYXRlU3RyZWFrKFxuICAgICAgICAgICAgICAgICAgICAgICAgYGhhYml0LSR7dGVzdElkfS0ke2l9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGB1c2VyLSR7dGVzdElkfS0ke2l9YCxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcigocikgPT4gci5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpO1xuXG4gICAgICAgICAgICAvLyBNb3N0IG9wZXJhdGlvbnMgc2hvdWxkIHN1Y2NlZWRcbiAgICAgICAgICAgIGV4cGVjdChzdWNjZXNzZnVsLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiRXJyb3IgSGFuZGxpbmcgYW5kIFJlY292ZXJ5XCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgaGFuZGxlIEZpcmViYXNlIHRyYW5zYWN0aW9uIGZhaWx1cmVzIGdyYWNlZnVsbHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVzdElkID0gYHRlc3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YDtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tVc2VySWQgPSBgdXNlci0ke3Rlc3RJZH1gO1xuICAgICAgICAgICAgY29uc3QgbW9ja0hhYml0SWQgPSBgaGFiaXQtJHt0ZXN0SWR9YDtcblxuICAgICAgICAgICAgLy8gTW9jayB0cmFuc2FjdGlvbiBmYWlsdXJlXG4gICAgICAgICAgICBjb25zdCB7IHJ1blRyYW5zYWN0aW9uIH0gPSByZXF1aXJlKFwiZmlyZWJhc2UvZmlyZXN0b3JlXCIpO1xuICAgICAgICAgICAgcnVuVHJhbnNhY3Rpb24ubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGZhaWxlZFwiKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRpb246IE9taXQ8SGFiaXRDb21wbGV0aW9uLCBcImlkXCI+ID0ge1xuICAgICAgICAgICAgICAgIGhhYml0SWQ6IG1vY2tIYWJpdElkLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogbW9ja1VzZXJJZCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgICAgICAgICAgIHRpbWV6b25lOiBtb2NrVGltZXpvbmUsXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogXCJtZWRpdW1cIixcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5yZWNvcmRDb21wbGV0aW9uKGNvbXBsZXRpb24pLFxuICAgICAgICAgICAgKS5yZWplY3RzLnRvVGhyb3coXCJUcmFuc2FjdGlvbiBmYWlsZWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBtaXNzaW5nIGRhdGEgZ3JhY2VmdWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXN0SWQgPSBgdGVzdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICAgICAgY29uc3QgbW9ja1VzZXJJZCA9IGB1c2VyLSR7dGVzdElkfWA7XG4gICAgICAgICAgICBjb25zdCBtb2NrSGFiaXRJZCA9IGBoYWJpdC0ke3Rlc3RJZH1gO1xuXG4gICAgICAgICAgICAvLyBTaG91bGQgaGFuZGxlIG1pc3Npbmcgc3RyZWFrIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhayA9IGF3YWl0IHN0cmVha1NlcnZpY2UuZ2V0SGFiaXRTdHJlYWsoXG4gICAgICAgICAgICAgICAgbW9ja0hhYml0SWQsXG4gICAgICAgICAgICAgICAgbW9ja1VzZXJJZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qoc3RyZWFrKS50b0JlRGVmaW5lZCgpO1xuXG4gICAgICAgICAgICAvLyBTaG91bGQgaGFuZGxlIGVtcHR5IGNvbXBsZXRpb24gaGlzdG9yeVxuICAgICAgICAgICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IGNvbXBsZXRpb25TZXJ2aWNlLmdldENvbXBsZXRpb25IaXN0b3J5KFxuICAgICAgICAgICAgICAgIG1vY2tIYWJpdElkLFxuICAgICAgICAgICAgICAgIG1vY2tVc2VySWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KGhpc3RvcnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QoaGlzdG9yeS5jb21wbGV0aW9ucykudG9FcXVhbChbXSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJNdWx0aS1IYWJpdCBBbmFseXRpY3NcIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBjYWxjdWxhdGUgY3Jvc3MtaGFiaXQgY29uc2lzdGVuY3kgc2NvcmVzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRlc3RJZCA9IGB0ZXN0LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgICAgICAgICBjb25zdCBtb2NrVXNlcklkID0gYHVzZXItJHt0ZXN0SWR9YDtcbiAgICAgICAgICAgIGNvbnN0IGhhYml0SWRzID0gW1wiaGFiaXQtMVwiLCBcImhhYml0LTJcIiwgXCJoYWJpdC0zXCJdO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgY29tcGxldGlvbnMgZm9yIG11bHRpcGxlIGhhYml0c1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoYWJpdElkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRpb246IE9taXQ8SGFiaXRDb21wbGV0aW9uLCBcImlkXCI+ID0ge1xuICAgICAgICAgICAgICAgICAgICBoYWJpdElkOiBgJHt0ZXN0SWR9LSR7aGFiaXRJZHNbaV19YCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBtb2NrVXNlcklkLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lem9uZTogbW9ja1RpbWV6b25lLFxuICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25TZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oY29tcGxldGlvbiksXG4gICAgICAgICAgICAgICAgKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgb3ZlcmFsbCBjb25zaXN0ZW5jeVxuICAgICAgICAgICAgY29uc3QgY29uc2lzdGVuY3lTY29yZSA9XG4gICAgICAgICAgICAgICAgYXdhaXQgYW5hbHl0aWNzU2VydmljZS5nZXRPdmVyYWxsQ29uc2lzdGVuY3lTY29yZShtb2NrVXNlcklkKTtcbiAgICAgICAgICAgIGV4cGVjdCh0eXBlb2YgY29uc2lzdGVuY3lTY29yZSkudG9CZShcIm51bWJlclwiKTtcbiAgICAgICAgICAgIGV4cGVjdChjb25zaXN0ZW5jeVNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBoYW5kbGUgZGlmZmVyZW50IGRpZmZpY3VsdHkgbGV2ZWxzIGNvcnJlY3RseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXN0SWQgPSBgdGVzdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICAgICAgY29uc3QgbW9ja1VzZXJJZCA9IGB1c2VyLSR7dGVzdElkfWA7XG4gICAgICAgICAgICBjb25zdCBkaWZmaWN1bHRpZXMgPSBbXCJlYXN5XCIsIFwibWVkaXVtXCIsIFwiaGFyZFwiXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmaWN1bHRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uOiBPbWl0PEhhYml0Q29tcGxldGlvbiwgXCJpZFwiPiA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGFiaXRJZDogYGhhYml0LSR7dGVzdElkfS0ke2RpZmZpY3VsdGllc1tpXX1gLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IG1vY2tVc2VySWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICAgICAgICAgICAgICAgIHRpbWV6b25lOiBtb2NrVGltZXpvbmUsXG4gICAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk6IGRpZmZpY3VsdGllc1tpXSBhcyBcImVhc3lcIiB8IFwibWVkaXVtXCIgfCBcImhhcmRcIixcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5yZWNvcmRDb21wbGV0aW9uKGNvbXBsZXRpb24pLFxuICAgICAgICAgICAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFuYWx5dGljcyA9IGF3YWl0IGFuYWx5dGljc1NlcnZpY2UuY2FsY3VsYXRlSGFiaXRBbmFseXRpY3MoXG4gICAgICAgICAgICAgICAgICAgIGBoYWJpdC0ke3Rlc3RJZH0tJHtkaWZmaWN1bHRpZXNbaV19YCxcbiAgICAgICAgICAgICAgICAgICAgbW9ja1VzZXJJZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGV4cGVjdChhbmFseXRpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJUaW1lem9uZSBIYW5kbGluZ1wiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIGhhbmRsZSBkaWZmZXJlbnQgdGltZXpvbmVzIGNvcnJlY3RseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXN0SWQgPSBgdGVzdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gO1xuICAgICAgICAgICAgY29uc3QgbW9ja1VzZXJJZCA9IGB1c2VyLSR7dGVzdElkfWA7XG4gICAgICAgICAgICBjb25zdCB0aW1lem9uZXMgPSBbXCJBbWVyaWNhL05ld19Zb3JrXCIsIFwiRXVyb3BlL0xvbmRvblwiLCBcIkFzaWEvVG9reW9cIl07XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGltZXpvbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGxldGlvbjogT21pdDxIYWJpdENvbXBsZXRpb24sIFwiaWRcIj4gPSB7XG4gICAgICAgICAgICAgICAgICAgIGhhYml0SWQ6IGBoYWJpdC0ke3Rlc3RJZH0tJHtpfWAsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogbW9ja1VzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXpvbmU6IHRpbWV6b25lc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eTogXCJtZWRpdW1cIixcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uU2VydmljZS5yZWNvcmRDb21wbGV0aW9uKGNvbXBsZXRpb24pLFxuICAgICAgICAgICAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVmVyaWZ5IHN0cmVhayBjYWxjdWxhdGlvbiBoYW5kbGVzIHRpbWV6b25lIGRpZmZlcmVuY2VzXG4gICAgICAgICAgICBjb25zdCBzdHJlYWsgPSBhd2FpdCBzdHJlYWtTZXJ2aWNlLmNhbGN1bGF0ZVN0cmVhayhcbiAgICAgICAgICAgICAgICBgaGFiaXQtJHt0ZXN0SWR9LTBgLFxuICAgICAgICAgICAgICAgIG1vY2tVc2VySWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KHN0cmVhaykudG9CZURlZmluZWQoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBY0FBLFdBQUEsR0FBS0MsSUFBSSxzQkFBc0I7RUFBQSxPQUFPO0lBQ2xDQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ05DLE1BQU0sRUFBRTtFQUNaLENBQUM7QUFBQSxDQUFDLENBQUM7QUFFSEgsV0FBQSxHQUFLQyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7RUFBQSxPQUFPO0lBQ25DRyxVQUFVLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDckJDLEdBQUcsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNkRSxNQUFNLEVBQUVILElBQUks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