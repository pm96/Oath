{"version":3,"names":["_getJestObj","mock","db","APP_ID","collection","jest","fn","doc","getDoc","getDocs","query","where","orderBy","runTransaction","serverTimestamp","seconds","Date","now","Timestamp","toMillis","toDate","fromDate","date","getTime","getHabitCompletionsCollection","path","getHabitStreaksCollection","getHabitAnalyticsCollection","getMilestonesCollection","getUserFriendlyErrorMessage","error","message","retryWithBackoff","_interopRequireDefault","require","default","_asyncToGenerator2","_firestore","_analyticsService","_completionService","_milestoneService","_securityAuditService","_streakNotificationService","_streakService","_syncService","_dateUtils","_require3","describe","streakService","completionService","analyticsService","milestoneService","notificationService","syncService","securityService","mockUserId","mockHabitId","mockTimezone","getUserTimezone","beforeEach","StreakService","CompletionService","AnalyticsService","MilestoneService","StreakNotificationService","SyncService","SecurityAuditService","clearAllMocks","_require","mockImplementation","_ref","callback","mockTransaction","get","mockResolvedValue","exists","data","set","update","_x","_x2","apply","arguments","docs","it","firstCompletion","habitId","userId","completedAt","timezone","difficulty","expect","recordCompletion","resolves","not","toThrow","initialStreak","calculateStreak","toBeDefined","completions","i","setDate","getDate","push","completion","finalStreak","currentStreak","toBeGreaterThanOrEqual","bestStreak","milestones","checkMilestones","Array","isArray","toBe","analytics","calculateHabitAnalytics","totalCompletions","completionRate30Days","todayCompletion","streak","difficulties","deviceIds","length","syncCompletion","conflicts","detectConflicts","olderCompletion","newerCompletion","resolveConflict","offlineCompletions","cacheOfflineCompletion","syncOfflineCompletions","lastCompletionDate","streakStartDate","freezesAvailable","freezesUsed","scheduleStreakRiskReminder","milestoneData","days","achievedAt","sendMilestoneNotification","brokenStreakData","previousStreak","sendRecoveryNotification","preferences","streakReminders","milestoneNotifications","recoveryNotifications","weeklyProgress","updateNotificationPreferences","shouldSend","shouldSendNotification","futureCompletion","validateCompletionTimestamp","rejects","unauthorizedUserId","validateUserAccess","suspiciousCompletions","isSuspicious","detectSuspiciousActivity","streakData","isValid","verifyDataIntegrity","auditDataModification","userIds","from","_","habitIds","promises","results","Promise","allSettled","failures","filter","result","status","toBeLessThan","concurrentCompletions","startTime","analyticsPromises","endTime","duration","milestonePromises","atomicPromises","all","getHabitStreak","getCompletionHistory","_require2","mockRejectedValueOnce","Error","recovery","recoverFromPartialFailure"],"sources":["habitStreaksIntegration.test.ts"],"sourcesContent":["/**\n * Comprehensive Integration Tests for Habit Tracking & Streaks System\n *\n * This test suite validates complete user flows from habit creation to milestone achievement,\n * cross-device synchronization, notification delivery, security measures, and load testing.\n *\n * Requirements covered: All requirements from habit-tracking-streaks spec\n */\n\nimport { Timestamp } from \"firebase/firestore\";\nimport { AnalyticsService } from \"../services/firebase/analyticsService\";\nimport { CompletionService } from \"../services/firebase/completionService\";\nimport { MilestoneService } from \"../services/firebase/milestoneService\";\nimport { SecurityAuditService } from \"../services/firebase/securityAuditService\";\nimport { StreakNotificationService } from \"../services/firebase/streakNotificationService\";\nimport { StreakService } from \"../services/firebase/streakService\";\nimport { SyncService } from \"../services/firebase/syncService\";\nimport { HabitCompletion, HabitStreak } from \"../types/habit-streaks\";\nimport { getUserTimezone } from \"../utils/dateUtils\";\n\n// Mock Firebase and dependencies\njest.mock(\"../firebaseConfig\", () => ({\n    db: {},\n    APP_ID: \"test-app\",\n}));\n\njest.mock(\"firebase/firestore\", () => ({\n    collection: jest.fn(),\n    doc: jest.fn(),\n    getDoc: jest.fn(),\n    getDocs: jest.fn(),\n    query: jest.fn(),\n    where: jest.fn(),\n    orderBy: jest.fn(),\n    runTransaction: jest.fn(),\n    serverTimestamp: jest.fn(() => ({ seconds: Date.now() / 1000 })),\n    Timestamp: {\n        now: jest.fn(() => ({\n            seconds: Date.now() / 1000,\n            toMillis: () => Date.now(),\n            toDate: () => new Date(),\n        })),\n        fromDate: jest.fn((date: Date) => ({\n            seconds: date.getTime() / 1000,\n            toMillis: () => date.getTime(),\n            toDate: () => date,\n        })),\n    },\n}));\n\njest.mock(\"../services/firebase/collections\", () => ({\n    getHabitCompletionsCollection: jest.fn(() => ({ path: \"completions\" })),\n    getHabitStreaksCollection: jest.fn(() => ({ path: \"streaks\" })),\n    getHabitAnalyticsCollection: jest.fn(() => ({ path: \"analytics\" })),\n    getMilestonesCollection: jest.fn(() => ({ path: \"milestones\" })),\n}));\n\njest.mock(\"../utils/errorHandling\", () => ({\n    getUserFriendlyErrorMessage: jest.fn(\n        (error) => error.message || \"Unknown error\",\n    ),\n    retryWithBackoff: jest.fn((fn) => fn()),\n}));\n\ndescribe(\"Habit Tracking & Streaks System - Integration Tests\", () => {\n    let streakService: StreakService;\n    let completionService: CompletionService;\n    let analyticsService: AnalyticsService;\n    let milestoneService: MilestoneService;\n    let notificationService: StreakNotificationService;\n    let syncService: SyncService;\n    let securityService: SecurityAuditService;\n\n    const mockUserId = \"test-user-123\";\n    const mockHabitId = \"test-habit-456\";\n    const mockTimezone = getUserTimezone();\n\n    beforeEach(() => {\n        streakService = new StreakService();\n        completionService = new CompletionService();\n        analyticsService = new AnalyticsService();\n        milestoneService = new MilestoneService();\n        notificationService = new StreakNotificationService();\n        syncService = new SyncService();\n        securityService = new SecurityAuditService();\n\n        jest.clearAllMocks();\n\n        // Mock successful Firebase operations\n        const { runTransaction, getDocs, getDoc } = require(\"firebase/firestore\");\n        runTransaction.mockImplementation(async (db, callback) => {\n            const mockTransaction = {\n                get: jest\n                    .fn()\n                    .mockResolvedValue({ exists: () => false, data: () => null }),\n                set: jest.fn(),\n                update: jest.fn(),\n            };\n            return callback(mockTransaction);\n        });\n\n        getDocs.mockResolvedValue({ docs: [] });\n        getDoc.mockResolvedValue({ exists: () => false, data: () => null });\n    });\n\n    describe(\"Complete User Flow: Habit Creation to Milestone Achievement\", () => {\n        it(\"should handle complete user journey from first completion to 7-day milestone\", async () => {\n            // Step 1: Record first completion\n            const firstCompletion: Omit<HabitCompletion, \"id\"> = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                completedAt: Timestamp.now(),\n                timezone: mockTimezone,\n                difficulty: \"medium\",\n            };\n\n            await expect(\n                completionService.recordCompletion(firstCompletion),\n            ).resolves.not.toThrow();\n\n            // Step 2: Calculate initial streak\n            const initialStreak = await streakService.calculateStreak(\n                mockHabitId,\n                mockUserId,\n            );\n            expect(initialStreak).toBeDefined();\n\n            // Step 3: Simulate 7 consecutive days of completions\n            const completions: Omit<HabitCompletion, \"id\">[] = [];\n            for (let i = 0; i < 7; i++) {\n                const date = new Date();\n                date.setDate(date.getDate() - (6 - i)); // 7 days ago to today\n\n                completions.push({\n                    habitId: mockHabitId,\n                    userId: mockUserId,\n                    completedAt: Timestamp.fromDate(date),\n                    timezone: mockTimezone,\n                    difficulty: \"medium\",\n                });\n            }\n\n            // Record all completions\n            for (const completion of completions) {\n                await expect(\n                    completionService.recordCompletion(completion),\n                ).resolves.not.toThrow();\n            }\n\n            // Step 4: Verify streak calculation\n            const finalStreak = await streakService.calculateStreak(\n                mockHabitId,\n                mockUserId,\n            );\n            expect(finalStreak.currentStreak).toBeGreaterThanOrEqual(1);\n            expect(finalStreak.bestStreak).toBeGreaterThanOrEqual(\n                finalStreak.currentStreak,\n            );\n\n            // Step 5: Check milestone detection\n            const milestones = await milestoneService.checkMilestones(\n                mockHabitId,\n                mockUserId,\n            );\n            expect(Array.isArray(milestones)).toBe(true);\n\n            // Step 6: Verify analytics calculation\n            const analytics = await analyticsService.calculateHabitAnalytics(\n                mockHabitId,\n                mockUserId,\n            );\n            expect(analytics).toBeDefined();\n            expect(analytics.totalCompletions).toBeGreaterThanOrEqual(0);\n            expect(analytics.completionRate30Days).toBeGreaterThanOrEqual(0);\n        });\n\n        it(\"should handle streak breaks and recovery motivation\", async () => {\n            // Create a streak and then break it\n            const completions: Omit<HabitCompletion, \"id\">[] = [];\n\n            // 5 consecutive days\n            for (let i = 0; i < 5; i++) {\n                const date = new Date();\n                date.setDate(date.getDate() - (7 - i)); // Starting 7 days ago\n\n                completions.push({\n                    habitId: mockHabitId,\n                    userId: mockUserId,\n                    completedAt: Timestamp.fromDate(date),\n                    timezone: mockTimezone,\n                    difficulty: \"easy\",\n                });\n            }\n\n            // Record completions\n            for (const completion of completions) {\n                await expect(\n                    completionService.recordCompletion(completion),\n                ).resolves.not.toThrow();\n            }\n\n            // Skip a day (break streak)\n            // Then complete today\n            const todayCompletion: Omit<HabitCompletion, \"id\"> = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                completedAt: Timestamp.now(),\n                timezone: mockTimezone,\n                difficulty: \"easy\",\n            };\n\n            await expect(\n                completionService.recordCompletion(todayCompletion),\n            ).resolves.not.toThrow();\n\n            // Verify streak was reset\n            const streak = await streakService.calculateStreak(\n                mockHabitId,\n                mockUserId,\n            );\n            expect(streak.bestStreak).toBeGreaterThanOrEqual(1); // Should preserve best streak\n        });\n\n        it(\"should handle difficulty-based scoring correctly\", async () => {\n            const difficulties: Array<\"easy\" | \"medium\" | \"hard\"> = [\n                \"easy\",\n                \"medium\",\n                \"hard\",\n            ];\n\n            for (const difficulty of difficulties) {\n                const completion: Omit<HabitCompletion, \"id\"> = {\n                    habitId: `${mockHabitId}-${difficulty}`,\n                    userId: mockUserId,\n                    completedAt: Timestamp.now(),\n                    timezone: mockTimezone,\n                    difficulty,\n                };\n\n                await expect(\n                    completionService.recordCompletion(completion),\n                ).resolves.not.toThrow();\n\n                const analytics = await analyticsService.calculateHabitAnalytics(\n                    `${mockHabitId}-${difficulty}`,\n                    mockUserId,\n                );\n                expect(analytics).toBeDefined();\n            }\n        });\n    });\n\n    describe(\"Cross-Device Synchronization\", () => {\n        it(\"should maintain data consistency across multiple devices\", async () => {\n            const deviceIds = [\"device-1\", \"device-2\", \"device-3\"];\n\n            // Simulate completions from different devices\n            for (let i = 0; i < deviceIds.length; i++) {\n                const completion: Omit<HabitCompletion, \"id\"> = {\n                    habitId: mockHabitId,\n                    userId: mockUserId,\n                    completedAt: Timestamp.now(),\n                    timezone: mockTimezone,\n                    difficulty: \"medium\",\n                };\n\n                // Simulate sync from different device\n                await expect(\n                    syncService.syncCompletion(completion, deviceIds[i]),\n                ).resolves.not.toThrow();\n            }\n\n            // Verify data integrity\n            const streak = await streakService.calculateStreak(\n                mockHabitId,\n                mockUserId,\n            );\n            expect(streak).toBeDefined();\n\n            // Check for conflicts\n            const conflicts = await syncService.detectConflicts(mockUserId);\n            expect(Array.isArray(conflicts)).toBe(true);\n        });\n\n        it(\"should resolve conflicts using timestamp priority\", async () => {\n            const olderCompletion: Omit<HabitCompletion, \"id\"> = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                completedAt: Timestamp.fromDate(new Date(Date.now() - 60000)), // 1 minute ago\n                timezone: mockTimezone,\n                difficulty: \"easy\",\n            };\n\n            const newerCompletion: Omit<HabitCompletion, \"id\"> = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                completedAt: Timestamp.now(),\n                timezone: mockTimezone,\n                difficulty: \"hard\",\n            };\n\n            // Simulate conflict resolution\n            await expect(\n                syncService.resolveConflict(olderCompletion, newerCompletion),\n            ).resolves.not.toThrow();\n        });\n\n        it(\"should handle offline caching and sync when connection returns\", async () => {\n            // Simulate offline completions\n            const offlineCompletions: Omit<HabitCompletion, \"id\">[] = [\n                {\n                    habitId: mockHabitId,\n                    userId: mockUserId,\n                    completedAt: Timestamp.fromDate(new Date(Date.now() - 86400000)), // Yesterday\n                    timezone: mockTimezone,\n                    difficulty: \"medium\",\n                },\n                {\n                    habitId: mockHabitId,\n                    userId: mockUserId,\n                    completedAt: Timestamp.now(),\n                    timezone: mockTimezone,\n                    difficulty: \"medium\",\n                },\n            ];\n\n            // Cache offline\n            for (const completion of offlineCompletions) {\n                await expect(\n                    syncService.cacheOfflineCompletion(completion),\n                ).resolves.not.toThrow();\n            }\n\n            // Simulate connection return and sync\n            await expect(\n                syncService.syncOfflineCompletions(mockUserId),\n            ).resolves.not.toThrow();\n        });\n    });\n\n    describe(\"Notification Delivery and Timing\", () => {\n        it(\"should schedule streak risk reminders correctly\", async () => {\n            const streak: HabitStreak = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                currentStreak: 5,\n                bestStreak: 10,\n                lastCompletionDate: \"2024-01-01\",\n                streakStartDate: \"2023-12-28\",\n                freezesAvailable: 1,\n                freezesUsed: 0,\n                milestones: [],\n            };\n\n            await expect(\n                notificationService.scheduleStreakRiskReminder(streak, mockTimezone),\n            ).resolves.not.toThrow();\n        });\n\n        it(\"should send immediate milestone celebration notifications\", async () => {\n            const milestoneData = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                days: 7,\n                achievedAt: Timestamp.now(),\n            };\n\n            await expect(\n                notificationService.sendMilestoneNotification(milestoneData),\n            ).resolves.not.toThrow();\n        });\n\n        it(\"should send recovery notifications for broken streaks\", async () => {\n            const brokenStreakData = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                previousStreak: 15,\n                bestStreak: 30,\n            };\n\n            await expect(\n                notificationService.sendRecoveryNotification(brokenStreakData),\n            ).resolves.not.toThrow();\n        });\n\n        it(\"should respect notification preferences\", async () => {\n            const preferences = {\n                streakReminders: true,\n                milestoneNotifications: false,\n                recoveryNotifications: true,\n                weeklyProgress: false,\n            };\n\n            await expect(\n                notificationService.updateNotificationPreferences(\n                    mockUserId,\n                    preferences,\n                ),\n            ).resolves.not.toThrow();\n\n            // Verify preferences are respected\n            const shouldSend = await notificationService.shouldSendNotification(\n                mockUserId,\n                \"milestone\",\n            );\n            expect(typeof shouldSend).toBe(\"boolean\");\n        });\n    });\n\n    describe(\"Security Measures and Access Controls\", () => {\n        it(\"should validate timezone-aware completion timestamps\", async () => {\n            const futureCompletion: Omit<HabitCompletion, \"id\"> = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                completedAt: Timestamp.fromDate(new Date(Date.now() + 86400000)), // Tomorrow\n                timezone: mockTimezone,\n                difficulty: \"easy\",\n            };\n\n            await expect(\n                securityService.validateCompletionTimestamp(futureCompletion),\n            ).rejects.toThrow();\n        });\n\n        it(\"should enforce owner-only access to completion records\", async () => {\n            const unauthorizedUserId = \"unauthorized-user\";\n\n            await expect(\n                securityService.validateUserAccess(mockHabitId, unauthorizedUserId),\n            ).rejects.toThrow();\n\n            await expect(\n                securityService.validateUserAccess(mockHabitId, mockUserId),\n            ).resolves.not.toThrow();\n        });\n\n        it(\"should detect suspicious activity patterns\", async () => {\n            // Simulate suspicious pattern: too many completions in short time\n            const suspiciousCompletions: Omit<HabitCompletion, \"id\">[] = [];\n            const now = Date.now();\n\n            for (let i = 0; i < 10; i++) {\n                suspiciousCompletions.push({\n                    habitId: mockHabitId,\n                    userId: mockUserId,\n                    completedAt: Timestamp.fromDate(new Date(now + i * 1000)), // 1 second apart\n                    timezone: mockTimezone,\n                    difficulty: \"easy\",\n                });\n            }\n\n            const isSuspicious = await securityService.detectSuspiciousActivity(\n                mockUserId,\n                suspiciousCompletions,\n            );\n            expect(typeof isSuspicious).toBe(\"boolean\");\n        });\n\n        it(\"should verify data integrity before display\", async () => {\n            const streakData: HabitStreak = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                currentStreak: 100,\n                bestStreak: 50, // Invalid: current > best\n                lastCompletionDate: \"2024-01-01\",\n                streakStartDate: \"2024-01-02\", // Invalid: start after last\n                freezesAvailable: -1, // Invalid: negative\n                freezesUsed: 0,\n                milestones: [],\n            };\n\n            const isValid = await securityService.verifyDataIntegrity(streakData);\n            expect(isValid).toBe(false);\n        });\n\n        it(\"should audit all data modifications\", async () => {\n            const completion: Omit<HabitCompletion, \"id\"> = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                completedAt: Timestamp.now(),\n                timezone: mockTimezone,\n                difficulty: \"medium\",\n            };\n\n            await expect(\n                securityService.auditDataModification(\n                    \"completion_create\",\n                    mockUserId,\n                    completion,\n                ),\n            ).resolves.not.toThrow();\n        });\n    });\n\n    describe(\"Load Testing with Multiple Concurrent Users\", () => {\n        it(\"should handle multiple concurrent streak calculations\", async () => {\n            const userIds = Array.from({ length: 10 }, (_, i) => `user-${i}`);\n            const habitIds = Array.from({ length: 5 }, (_, i) => `habit-${i}`);\n\n            const promises: Promise<any>[] = [];\n\n            // Simulate concurrent operations\n            for (const userId of userIds) {\n                for (const habitId of habitIds) {\n                    promises.push(streakService.calculateStreak(habitId, userId));\n                }\n            }\n\n            // All operations should complete without errors\n            const results = await Promise.allSettled(promises);\n            const failures = results.filter((result) => result.status === \"rejected\");\n\n            // Allow some failures due to mocking, but most should succeed\n            expect(failures.length).toBeLessThan(results.length * 0.5);\n        });\n\n        it(\"should handle concurrent completion recording\", async () => {\n            const concurrentCompletions: Promise<any>[] = [];\n\n            for (let i = 0; i < 20; i++) {\n                const completion: Omit<HabitCompletion, \"id\"> = {\n                    habitId: `${mockHabitId}-${i}`,\n                    userId: `${mockUserId}-${i}`,\n                    completedAt: Timestamp.now(),\n                    timezone: mockTimezone,\n                    difficulty: \"medium\",\n                };\n\n                concurrentCompletions.push(\n                    completionService.recordCompletion(completion),\n                );\n            }\n\n            const results = await Promise.allSettled(concurrentCompletions);\n            const failures = results.filter((result) => result.status === \"rejected\");\n\n            // Most operations should succeed\n            expect(failures.length).toBeLessThan(results.length * 0.3);\n        });\n\n        it(\"should maintain performance under load\", async () => {\n            const startTime = Date.now();\n\n            // Simulate heavy analytics calculations\n            const analyticsPromises: Promise<any>[] = [];\n            for (let i = 0; i < 15; i++) {\n                analyticsPromises.push(\n                    analyticsService.calculateHabitAnalytics(`habit-${i}`, `user-${i}`),\n                );\n            }\n\n            await Promise.allSettled(analyticsPromises);\n\n            const endTime = Date.now();\n            const duration = endTime - startTime;\n\n            // Should complete within reasonable time (allowing for test overhead)\n            expect(duration).toBeLessThan(10000); // 10 seconds max\n        });\n\n        it(\"should handle concurrent milestone checks\", async () => {\n            const milestonePromises: Promise<any>[] = [];\n\n            for (let i = 0; i < 25; i++) {\n                milestonePromises.push(\n                    milestoneService.checkMilestones(`habit-${i}`, `user-${i}`),\n                );\n            }\n\n            const results = await Promise.allSettled(milestonePromises);\n            const failures = results.filter((result) => result.status === \"rejected\");\n\n            // Most milestone checks should succeed\n            expect(failures.length).toBeLessThan(results.length * 0.4);\n        });\n    });\n\n    describe(\"Data Consistency and Atomic Operations\", () => {\n        it(\"should ensure atomic updates prevent data corruption\", async () => {\n            const completion: Omit<HabitCompletion, \"id\"> = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                completedAt: Timestamp.now(),\n                timezone: mockTimezone,\n                difficulty: \"hard\",\n            };\n\n            // Simulate concurrent updates to same habit\n            const atomicPromises = [\n                completionService.recordCompletion(completion),\n                streakService.calculateStreak(mockHabitId, mockUserId),\n                analyticsService.calculateHabitAnalytics(mockHabitId, mockUserId),\n            ];\n\n            // All operations should complete without corruption\n            await expect(Promise.all(atomicPromises)).resolves.toBeDefined();\n        });\n\n        it(\"should maintain referential integrity across collections\", async () => {\n            // Verify that streak data references valid completions\n            const streak = await streakService.getHabitStreak(\n                mockHabitId,\n                mockUserId,\n            );\n            const completions = await completionService.getCompletionHistory(\n                mockHabitId,\n                mockUserId,\n            );\n\n            // Both operations should succeed (even if returning empty data)\n            expect(streak).toBeDefined();\n            expect(completions).toBeDefined();\n        });\n    });\n\n    describe(\"Error Handling and Recovery\", () => {\n        it(\"should gracefully handle network failures\", async () => {\n            // Mock network failure\n            const { runTransaction } = require(\"firebase/firestore\");\n            runTransaction.mockRejectedValueOnce(new Error(\"Network error\"));\n\n            const completion: Omit<HabitCompletion, \"id\"> = {\n                habitId: mockHabitId,\n                userId: mockUserId,\n                completedAt: Timestamp.now(),\n                timezone: mockTimezone,\n                difficulty: \"easy\",\n            };\n\n            // Should handle error gracefully\n            await expect(\n                completionService.recordCompletion(completion),\n            ).rejects.toThrow(\"Network error\");\n        });\n\n        it(\"should recover from partial failures\", async () => {\n            // Test recovery mechanisms\n            const recovery = await syncService.recoverFromPartialFailure(mockUserId);\n            expect(typeof recovery).toBe(\"boolean\");\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}