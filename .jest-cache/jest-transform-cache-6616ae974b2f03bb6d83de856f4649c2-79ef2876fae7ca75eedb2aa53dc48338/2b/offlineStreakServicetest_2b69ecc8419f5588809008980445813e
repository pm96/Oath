7b503214d39c9bcdd9e3e8cb6429762c
_getJestObj().mock("@react-native-async-storage/async-storage", function () {
  return {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    getAllKeys: jest.fn(),
    multiRemove: jest.fn()
  };
});
_getJestObj().mock("../services/firebase/streakService", function () {
  return {
    StreakService: jest.fn().mockImplementation(function () {
      return {
        recordCompletion: jest.fn(),
        calculateStreak: jest.fn(),
        useStreakFreeze: jest.fn(),
        getHabitCalendar: jest.fn(),
        getHabitStreak: jest.fn()
      };
    })
  };
});
_getJestObj().mock("../services/firebase/syncService", function () {
  return {
    syncService: {
      queueOperation: jest.fn()
    }
  };
});
_getJestObj().mock("../utils/errorHandling", function () {
  return {
    isOnline: jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _asyncStorage = _interopRequireDefault(require("@react-native-async-storage/async-storage"));
var _firestore = require("firebase/firestore");
var _offlineStreakService = require("../services/firebase/offlineStreakService");
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var _require = require("../utils/errorHandling"),
  isOnline = _require.isOnline;
describe("OfflineStreakService", function () {
  beforeEach(function () {
    jest.clearAllMocks();
    _asyncStorage.default.getItem.mockResolvedValue(null);
    _asyncStorage.default.setItem.mockResolvedValue(undefined);
    _asyncStorage.default.getAllKeys.mockResolvedValue([]);
    _asyncStorage.default.multiRemove.mockResolvedValue(undefined);
  });
  describe("Completion Recording", function () {
    it("should record completion online when connected", (0, _asyncToGenerator2.default)(function* () {
      isOnline.mockResolvedValue(true);
      var completion = {
        habitId: "habit1",
        userId: "user1",
        completedAt: _firestore.Timestamp.now(),
        timezone: "UTC",
        difficulty: "medium"
      };
      var mockResult = Object.assign({}, completion, {
        id: "completion1"
      });
      var mockStreakService = _offlineStreakService.offlineStreakService.streakService;
      mockStreakService.recordCompletion.mockResolvedValue(mockResult);
      var result = yield _offlineStreakService.offlineStreakService.recordCompletion(completion);
      expect(mockStreakService.recordCompletion).toHaveBeenCalledWith(completion);
      expect(result).toEqual(mockResult);
      expect(_asyncStorage.default.setItem).toHaveBeenCalled();
    }));
    it("should record completion offline when disconnected", (0, _asyncToGenerator2.default)(function* () {
      isOnline.mockResolvedValue(false);
      var completion = {
        habitId: "habit1",
        userId: "user1",
        completedAt: _firestore.Timestamp.now(),
        timezone: "UTC",
        difficulty: "medium"
      };
      var result = yield _offlineStreakService.offlineStreakService.recordCompletion(completion);
      expect(result.id).toMatch(/^offline_/);
      expect(_asyncStorage.default.setItem).toHaveBeenCalled();
    }));
    it("should fallback to offline mode when online operation fails", (0, _asyncToGenerator2.default)(function* () {
      isOnline.mockResolvedValue(true);
      var completion = {
        habitId: "habit1",
        userId: "user1",
        completedAt: _firestore.Timestamp.now(),
        timezone: "UTC",
        difficulty: "medium"
      };
      var mockStreakService = _offlineStreakService.offlineStreakService.streakService;
      mockStreakService.recordCompletion.mockRejectedValue(new Error("Network error"));
      var result = yield _offlineStreakService.offlineStreakService.recordCompletion(completion);
      expect(result.id).toMatch(/^offline_/);
      expect(_asyncStorage.default.setItem).toHaveBeenCalled();
    }));
  });
  describe("Streak Calculation", function () {
    it("should calculate streak online when connected", (0, _asyncToGenerator2.default)(function* () {
      isOnline.mockResolvedValue(true);
      var mockStreak = {
        habitId: "habit1",
        userId: "user1",
        currentStreak: 5,
        bestStreak: 10,
        lastCompletionDate: "2024-01-15",
        streakStartDate: "2024-01-11",
        freezesAvailable: 1,
        freezesUsed: 0,
        milestones: []
      };
      var mockStreakService = _offlineStreakService.offlineStreakService.streakService;
      mockStreakService.calculateStreak.mockResolvedValue(mockStreak);
      var result = yield _offlineStreakService.offlineStreakService.calculateStreak("habit1", "user1");
      expect(mockStreakService.calculateStreak).toHaveBeenCalledWith("habit1", "user1");
      expect(result).toEqual(mockStreak);
      expect(_asyncStorage.default.setItem).toHaveBeenCalled();
    }));
    it("should return cached streak when offline", (0, _asyncToGenerator2.default)(function* () {
      isOnline.mockResolvedValue(false);
      var cachedStreak = {
        habitId: "habit1",
        userId: "user1",
        currentStreak: 3,
        bestStreak: 8,
        lastCompletionDate: "2024-01-13",
        streakStartDate: "2024-01-11",
        freezesAvailable: 0,
        freezesUsed: 1,
        milestones: []
      };
      _asyncStorage.default.getItem.mockResolvedValue(JSON.stringify(cachedStreak));
      var result = yield _offlineStreakService.offlineStreakService.calculateStreak("habit1", "user1");
      expect(result).toEqual(cachedStreak);
    }));
    it("should return default streak when no cache available", (0, _asyncToGenerator2.default)(function* () {
      isOnline.mockResolvedValue(false);
      _asyncStorage.default.getItem.mockResolvedValue(null);
      var result = yield _offlineStreakService.offlineStreakService.calculateStreak("habit1", "user1");
      expect(result).toEqual({
        habitId: "habit1",
        userId: "user1",
        currentStreak: 0,
        bestStreak: 0,
        lastCompletionDate: "",
        streakStartDate: "",
        freezesAvailable: 0,
        freezesUsed: 0,
        milestones: []
      });
    }));
  });
  describe("Cache Management", function () {
    it("should clear user cache", (0, _asyncToGenerator2.default)(function* () {
      var mockKeys = ["@offline_streak_streak_user1_habit1", "@offline_streak_completion_comp1", "@offline_streak_calendar_user1_habit1", "@other_cache_key"];
      _asyncStorage.default.getAllKeys.mockResolvedValue(mockKeys);
      yield _offlineStreakService.offlineStreakService.clearUserCache("user1");
      expect(_asyncStorage.default.multiRemove).toHaveBeenCalledWith(["@offline_streak_streak_user1_habit1", "@offline_streak_calendar_user1_habit1"]);
    }));
    it("should get cache statistics", (0, _asyncToGenerator2.default)(function* () {
      var mockKeys = ["@offline_streak_streak_user1_habit1", "@offline_streak_completion_comp1"];
      var mockData = JSON.stringify({
        data: "test",
        timestamp: Date.now()
      });
      _asyncStorage.default.getAllKeys.mockResolvedValue(mockKeys);
      _asyncStorage.default.getItem.mockResolvedValue(mockData);
      var stats = yield _offlineStreakService.offlineStreakService.getCacheStats("user1");
      expect(stats.totalItems).toBe(1);
      expect(stats.totalSize).toBeGreaterThan(0);
      expect(stats.lastUpdated).toBeInstanceOf(Number);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJnZXRBbGxLZXlzIiwibXVsdGlSZW1vdmUiLCJTdHJlYWtTZXJ2aWNlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwicmVjb3JkQ29tcGxldGlvbiIsImNhbGN1bGF0ZVN0cmVhayIsInVzZVN0cmVha0ZyZWV6ZSIsImdldEhhYml0Q2FsZW5kYXIiLCJnZXRIYWJpdFN0cmVhayIsInN5bmNTZXJ2aWNlIiwicXVldWVPcGVyYXRpb24iLCJpc09ubGluZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZGVmYXVsdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9hc3luY1N0b3JhZ2UiLCJfZmlyZXN0b3JlIiwiX29mZmxpbmVTdHJlYWtTZXJ2aWNlIiwiX3JlcXVpcmUyIiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiQXN5bmNTdG9yYWdlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJ1bmRlZmluZWQiLCJpdCIsImNvbXBsZXRpb24iLCJoYWJpdElkIiwidXNlcklkIiwiY29tcGxldGVkQXQiLCJUaW1lc3RhbXAiLCJub3ciLCJ0aW1lem9uZSIsImRpZmZpY3VsdHkiLCJtb2NrUmVzdWx0IiwiT2JqZWN0IiwiYXNzaWduIiwiaWQiLCJtb2NrU3RyZWFrU2VydmljZSIsIm9mZmxpbmVTdHJlYWtTZXJ2aWNlIiwic3RyZWFrU2VydmljZSIsInJlc3VsdCIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidG9FcXVhbCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ0b01hdGNoIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsIm1vY2tTdHJlYWsiLCJjdXJyZW50U3RyZWFrIiwiYmVzdFN0cmVhayIsImxhc3RDb21wbGV0aW9uRGF0ZSIsInN0cmVha1N0YXJ0RGF0ZSIsImZyZWV6ZXNBdmFpbGFibGUiLCJmcmVlemVzVXNlZCIsIm1pbGVzdG9uZXMiLCJjYWNoZWRTdHJlYWsiLCJKU09OIiwic3RyaW5naWZ5IiwibW9ja0tleXMiLCJjbGVhclVzZXJDYWNoZSIsIm1vY2tEYXRhIiwiZGF0YSIsInRpbWVzdGFtcCIsIkRhdGUiLCJzdGF0cyIsImdldENhY2hlU3RhdHMiLCJ0b3RhbEl0ZW1zIiwidG9CZSIsInRvdGFsU2l6ZSIsInRvQmVHcmVhdGVyVGhhbiIsImxhc3RVcGRhdGVkIiwidG9CZUluc3RhbmNlT2YiLCJOdW1iZXIiXSwic291cmNlcyI6WyJvZmZsaW5lU3RyZWFrU2VydmljZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogT2ZmbGluZSBTdHJlYWsgU2VydmljZSBUZXN0c1xuICpcbiAqIFRlc3RzIGZvciBvZmZsaW5lLWF3YXJlIHN0cmVhayBvcGVyYXRpb25zXG4gKiBSZXF1aXJlbWVudHM6IDEwLjMsIDEwLjRcbiAqL1xuXG5pbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gXCJAcmVhY3QtbmF0aXZlLWFzeW5jLXN0b3JhZ2UvYXN5bmMtc3RvcmFnZVwiO1xuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgb2ZmbGluZVN0cmVha1NlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvZmlyZWJhc2Uvb2ZmbGluZVN0cmVha1NlcnZpY2VcIjtcbmltcG9ydCB7IEhhYml0Q29tcGxldGlvbiwgSGFiaXRTdHJlYWsgfSBmcm9tIFwiLi4vdHlwZXMvaGFiaXQtc3RyZWFrc1wiO1xuXG4vLyBNb2NrIEFzeW5jU3RvcmFnZVxuamVzdC5tb2NrKFwiQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2VcIiwgKCkgPT4gKHtcbiAgICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gICAgc2V0SXRlbTogamVzdC5mbigpLFxuICAgIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgICBnZXRBbGxLZXlzOiBqZXN0LmZuKCksXG4gICAgbXVsdGlSZW1vdmU6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayB0aGUgdW5kZXJseWluZyBTdHJlYWtTZXJ2aWNlXG5qZXN0Lm1vY2soXCIuLi9zZXJ2aWNlcy9maXJlYmFzZS9zdHJlYWtTZXJ2aWNlXCIsICgpID0+ICh7XG4gICAgU3RyZWFrU2VydmljZTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICAgICAgICByZWNvcmRDb21wbGV0aW9uOiBqZXN0LmZuKCksXG4gICAgICAgIGNhbGN1bGF0ZVN0cmVhazogamVzdC5mbigpLFxuICAgICAgICB1c2VTdHJlYWtGcmVlemU6IGplc3QuZm4oKSxcbiAgICAgICAgZ2V0SGFiaXRDYWxlbmRhcjogamVzdC5mbigpLFxuICAgICAgICBnZXRIYWJpdFN0cmVhazogamVzdC5mbigpLFxuICAgIH0pKSxcbn0pKTtcblxuLy8gTW9jayBzeW5jIHNlcnZpY2Vcbmplc3QubW9jayhcIi4uL3NlcnZpY2VzL2ZpcmViYXNlL3N5bmNTZXJ2aWNlXCIsICgpID0+ICh7XG4gICAgc3luY1NlcnZpY2U6IHtcbiAgICAgICAgcXVldWVPcGVyYXRpb246IGplc3QuZm4oKSxcbiAgICB9LFxufSkpO1xuXG4vLyBNb2NrIGVycm9yIGhhbmRsaW5nIHV0aWxpdGllc1xuamVzdC5tb2NrKFwiLi4vdXRpbHMvZXJyb3JIYW5kbGluZ1wiLCAoKSA9PiAoe1xuICAgIGlzT25saW5lOiBqZXN0LmZuKCksXG59KSk7XG5cbmNvbnN0IHsgaXNPbmxpbmUgfSA9IHJlcXVpcmUoXCIuLi91dGlscy9lcnJvckhhbmRsaW5nXCIpO1xuXG5kZXNjcmliZShcIk9mZmxpbmVTdHJlYWtTZXJ2aWNlXCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgICAgIChBc3luY1N0b3JhZ2UuZ2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuICAgICAgICAoQXN5bmNTdG9yYWdlLnNldEl0ZW0gYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgICAoQXN5bmNTdG9yYWdlLmdldEFsbEtleXMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXSk7XG4gICAgICAgIChBc3luY1N0b3JhZ2UubXVsdGlSZW1vdmUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJDb21wbGV0aW9uIFJlY29yZGluZ1wiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIHJlY29yZCBjb21wbGV0aW9uIG9ubGluZSB3aGVuIGNvbm5lY3RlZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpc09ubGluZS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcblxuICAgICAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBcImhhYml0MVwiLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogXCJ1c2VyMVwiLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICAgICAgICAgICAgdGltZXpvbmU6IFwiVVRDXCIsXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogXCJtZWRpdW1cIiBhcyBjb25zdCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IG1vY2tSZXN1bHQ6IEhhYml0Q29tcGxldGlvbiA9IHtcbiAgICAgICAgICAgICAgICAuLi5jb21wbGV0aW9uLFxuICAgICAgICAgICAgICAgIGlkOiBcImNvbXBsZXRpb24xXCIsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgb25saW5lIG9wZXJhdGlvblxuICAgICAgICAgICAgY29uc3QgbW9ja1N0cmVha1NlcnZpY2UgPSAob2ZmbGluZVN0cmVha1NlcnZpY2UgYXMgYW55KS5zdHJlYWtTZXJ2aWNlO1xuICAgICAgICAgICAgbW9ja1N0cmVha1NlcnZpY2UucmVjb3JkQ29tcGxldGlvbi5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUmVzdWx0KTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb2ZmbGluZVN0cmVha1NlcnZpY2UucmVjb3JkQ29tcGxldGlvbihjb21wbGV0aW9uKTtcblxuICAgICAgICAgICAgZXhwZWN0KG1vY2tTdHJlYWtTZXJ2aWNlLnJlY29yZENvbXBsZXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb24sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrUmVzdWx0KTtcbiAgICAgICAgICAgIGV4cGVjdChBc3luY1N0b3JhZ2Uuc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZCgpOyAvLyBTaG91bGQgY2FjaGUgdGhlIHJlc3VsdFxuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCByZWNvcmQgY29tcGxldGlvbiBvZmZsaW5lIHdoZW4gZGlzY29ubmVjdGVkXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlzT25saW5lLm1vY2tSZXNvbHZlZFZhbHVlKGZhbHNlKTtcblxuICAgICAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBcImhhYml0MVwiLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogXCJ1c2VyMVwiLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICAgICAgICAgICAgdGltZXpvbmU6IFwiVVRDXCIsXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogXCJtZWRpdW1cIiBhcyBjb25zdCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9mZmxpbmVTdHJlYWtTZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oY29tcGxldGlvbik7XG5cbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuaWQpLnRvTWF0Y2goL15vZmZsaW5lXy8pO1xuICAgICAgICAgICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkKCk7IC8vIFNob3VsZCBjYWNoZSBvZmZsaW5lIGNvbXBsZXRpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgZmFsbGJhY2sgdG8gb2ZmbGluZSBtb2RlIHdoZW4gb25saW5lIG9wZXJhdGlvbiBmYWlsc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpc09ubGluZS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcblxuICAgICAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBcImhhYml0MVwiLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogXCJ1c2VyMVwiLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICAgICAgICAgICAgdGltZXpvbmU6IFwiVVRDXCIsXG4gICAgICAgICAgICAgICAgZGlmZmljdWx0eTogXCJtZWRpdW1cIiBhcyBjb25zdCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIE1vY2sgZmFpbGVkIG9ubGluZSBvcGVyYXRpb25cbiAgICAgICAgICAgIGNvbnN0IG1vY2tTdHJlYWtTZXJ2aWNlID0gKG9mZmxpbmVTdHJlYWtTZXJ2aWNlIGFzIGFueSkuc3RyZWFrU2VydmljZTtcbiAgICAgICAgICAgIG1vY2tTdHJlYWtTZXJ2aWNlLnJlY29yZENvbXBsZXRpb24ubW9ja1JlamVjdGVkVmFsdWUoXG4gICAgICAgICAgICAgICAgbmV3IEVycm9yKFwiTmV0d29yayBlcnJvclwiKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9mZmxpbmVTdHJlYWtTZXJ2aWNlLnJlY29yZENvbXBsZXRpb24oY29tcGxldGlvbik7XG5cbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuaWQpLnRvTWF0Y2goL15vZmZsaW5lXy8pO1xuICAgICAgICAgICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJTdHJlYWsgQ2FsY3VsYXRpb25cIiwgKCkgPT4ge1xuICAgICAgICBpdChcInNob3VsZCBjYWxjdWxhdGUgc3RyZWFrIG9ubGluZSB3aGVuIGNvbm5lY3RlZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpc09ubGluZS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja1N0cmVhazogSGFiaXRTdHJlYWsgPSB7XG4gICAgICAgICAgICAgICAgaGFiaXRJZDogXCJoYWJpdDFcIixcbiAgICAgICAgICAgICAgICB1c2VySWQ6IFwidXNlcjFcIixcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RyZWFrOiA1LFxuICAgICAgICAgICAgICAgIGJlc3RTdHJlYWs6IDEwLFxuICAgICAgICAgICAgICAgIGxhc3RDb21wbGV0aW9uRGF0ZTogXCIyMDI0LTAxLTE1XCIsXG4gICAgICAgICAgICAgICAgc3RyZWFrU3RhcnREYXRlOiBcIjIwMjQtMDEtMTFcIixcbiAgICAgICAgICAgICAgICBmcmVlemVzQXZhaWxhYmxlOiAxLFxuICAgICAgICAgICAgICAgIGZyZWV6ZXNVc2VkOiAwLFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZXM6IFtdLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgbW9ja1N0cmVha1NlcnZpY2UgPSAob2ZmbGluZVN0cmVha1NlcnZpY2UgYXMgYW55KS5zdHJlYWtTZXJ2aWNlO1xuICAgICAgICAgICAgbW9ja1N0cmVha1NlcnZpY2UuY2FsY3VsYXRlU3RyZWFrLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTdHJlYWspO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvZmZsaW5lU3RyZWFrU2VydmljZS5jYWxjdWxhdGVTdHJlYWsoXG4gICAgICAgICAgICAgICAgXCJoYWJpdDFcIixcbiAgICAgICAgICAgICAgICBcInVzZXIxXCIsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBleHBlY3QobW9ja1N0cmVha1NlcnZpY2UuY2FsY3VsYXRlU3RyZWFrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAgICAgICBcImhhYml0MVwiLFxuICAgICAgICAgICAgICAgIFwidXNlcjFcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tTdHJlYWspO1xuICAgICAgICAgICAgZXhwZWN0KEFzeW5jU3RvcmFnZS5zZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkKCk7IC8vIFNob3VsZCBjYWNoZSB0aGUgcmVzdWx0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiBjYWNoZWQgc3RyZWFrIHdoZW4gb2ZmbGluZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpc09ubGluZS5tb2NrUmVzb2x2ZWRWYWx1ZShmYWxzZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZFN0cmVhayA9IHtcbiAgICAgICAgICAgICAgICBoYWJpdElkOiBcImhhYml0MVwiLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogXCJ1c2VyMVwiLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdHJlYWs6IDMsXG4gICAgICAgICAgICAgICAgYmVzdFN0cmVhazogOCxcbiAgICAgICAgICAgICAgICBsYXN0Q29tcGxldGlvbkRhdGU6IFwiMjAyNC0wMS0xM1wiLFxuICAgICAgICAgICAgICAgIHN0cmVha1N0YXJ0RGF0ZTogXCIyMDI0LTAxLTExXCIsXG4gICAgICAgICAgICAgICAgZnJlZXplc0F2YWlsYWJsZTogMCxcbiAgICAgICAgICAgICAgICBmcmVlemVzVXNlZDogMSxcbiAgICAgICAgICAgICAgICBtaWxlc3RvbmVzOiBbXSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIChBc3luY1N0b3JhZ2UuZ2V0SXRlbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKFxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGNhY2hlZFN0cmVhayksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvZmZsaW5lU3RyZWFrU2VydmljZS5jYWxjdWxhdGVTdHJlYWsoXG4gICAgICAgICAgICAgICAgXCJoYWJpdDFcIixcbiAgICAgICAgICAgICAgICBcInVzZXIxXCIsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKGNhY2hlZFN0cmVhayk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiBkZWZhdWx0IHN0cmVhayB3aGVuIG5vIGNhY2hlIGF2YWlsYWJsZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpc09ubGluZS5tb2NrUmVzb2x2ZWRWYWx1ZShmYWxzZSk7XG4gICAgICAgICAgICAoQXN5bmNTdG9yYWdlLmdldEl0ZW0gYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb2ZmbGluZVN0cmVha1NlcnZpY2UuY2FsY3VsYXRlU3RyZWFrKFxuICAgICAgICAgICAgICAgIFwiaGFiaXQxXCIsXG4gICAgICAgICAgICAgICAgXCJ1c2VyMVwiLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7XG4gICAgICAgICAgICAgICAgaGFiaXRJZDogXCJoYWJpdDFcIixcbiAgICAgICAgICAgICAgICB1c2VySWQ6IFwidXNlcjFcIixcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RyZWFrOiAwLFxuICAgICAgICAgICAgICAgIGJlc3RTdHJlYWs6IDAsXG4gICAgICAgICAgICAgICAgbGFzdENvbXBsZXRpb25EYXRlOiBcIlwiLFxuICAgICAgICAgICAgICAgIHN0cmVha1N0YXJ0RGF0ZTogXCJcIixcbiAgICAgICAgICAgICAgICBmcmVlemVzQXZhaWxhYmxlOiAwLFxuICAgICAgICAgICAgICAgIGZyZWV6ZXNVc2VkOiAwLFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZXM6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoXCJDYWNoZSBNYW5hZ2VtZW50XCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJzaG91bGQgY2xlYXIgdXNlciBjYWNoZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2NrS2V5cyA9IFtcbiAgICAgICAgICAgICAgICBcIkBvZmZsaW5lX3N0cmVha19zdHJlYWtfdXNlcjFfaGFiaXQxXCIsXG4gICAgICAgICAgICAgICAgXCJAb2ZmbGluZV9zdHJlYWtfY29tcGxldGlvbl9jb21wMVwiLFxuICAgICAgICAgICAgICAgIFwiQG9mZmxpbmVfc3RyZWFrX2NhbGVuZGFyX3VzZXIxX2hhYml0MVwiLFxuICAgICAgICAgICAgICAgIFwiQG90aGVyX2NhY2hlX2tleVwiLFxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgKEFzeW5jU3RvcmFnZS5nZXRBbGxLZXlzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0tleXMpO1xuXG4gICAgICAgICAgICBhd2FpdCBvZmZsaW5lU3RyZWFrU2VydmljZS5jbGVhclVzZXJDYWNoZShcInVzZXIxXCIpO1xuXG4gICAgICAgICAgICBleHBlY3QoQXN5bmNTdG9yYWdlLm11bHRpUmVtb3ZlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbXG4gICAgICAgICAgICAgICAgXCJAb2ZmbGluZV9zdHJlYWtfc3RyZWFrX3VzZXIxX2hhYml0MVwiLFxuICAgICAgICAgICAgICAgIFwiQG9mZmxpbmVfc3RyZWFrX2NhbGVuZGFyX3VzZXIxX2hhYml0MVwiLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGdldCBjYWNoZSBzdGF0aXN0aWNzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vY2tLZXlzID0gW1xuICAgICAgICAgICAgICAgIFwiQG9mZmxpbmVfc3RyZWFrX3N0cmVha191c2VyMV9oYWJpdDFcIixcbiAgICAgICAgICAgICAgICBcIkBvZmZsaW5lX3N0cmVha19jb21wbGV0aW9uX2NvbXAxXCIsXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBjb25zdCBtb2NrRGF0YSA9IEpTT04uc3RyaW5naWZ5KHsgZGF0YTogXCJ0ZXN0XCIsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9KTtcblxuICAgICAgICAgICAgKEFzeW5jU3RvcmFnZS5nZXRBbGxLZXlzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0tleXMpO1xuICAgICAgICAgICAgKEFzeW5jU3RvcmFnZS5nZXRJdGVtIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0RhdGEpO1xuXG4gICAgICAgICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IG9mZmxpbmVTdHJlYWtTZXJ2aWNlLmdldENhY2hlU3RhdHMoXCJ1c2VyMVwiKTtcblxuICAgICAgICAgICAgZXhwZWN0KHN0YXRzLnRvdGFsSXRlbXMpLnRvQmUoMSk7IC8vIE9ubHkgb25lIGtleSBtYXRjaGVzIHVzZXIxXG4gICAgICAgICAgICBleHBlY3Qoc3RhdHMudG90YWxTaXplKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgICAgICBleHBlY3Qoc3RhdHMubGFzdFVwZGF0ZWQpLnRvQmVJbnN0YW5jZU9mKE51bWJlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQWFBQSxXQUFBLEdBQUtDLElBQUksQ0FBQywyQ0FBMkMsRUFBRTtFQUFBLE9BQU87SUFDMURDLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQkMsT0FBTyxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCRSxVQUFVLEVBQUVILElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDckJHLFVBQVUsRUFBRUosSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNyQkksV0FBVyxFQUFFTCxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN6QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hKLFdBQUEsR0FBS0MsSUFBSSx1Q0FBdUM7RUFBQSxPQUFPO0lBQ25EUSxhQUFhLEVBQUVOLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ00sa0JBQWtCLENBQUM7TUFBQSxPQUFPO1FBQy9DQyxnQkFBZ0IsRUFBRVIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztRQUMzQlEsZUFBZSxFQUFFVCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQzFCUyxlQUFlLEVBQUVWLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7UUFDMUJVLGdCQUFnQixFQUFFWCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO1FBQzNCVyxjQUFjLEVBQUVaLElBQUksQ0FBQ0MsRUFBRSxDQUFDO01BQzVCLENBQUM7SUFBQSxDQUFDO0VBQ04sQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdISixXQUFBLEdBQUtDLElBQUkscUNBQXFDO0VBQUEsT0FBTztJQUNqRGUsV0FBVyxFQUFFO01BQ1RDLGNBQWMsRUFBRWQsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDNUI7RUFDSixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hKLFdBQUEsR0FBS0MsSUFBSSwyQkFBMkI7RUFBQSxPQUFPO0lBQ3ZDaUIsUUFBUSxFQUFFZixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN0QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQWUsc0JBQUEsR0FBQUMsT0FBQSxpREFBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFuQ0osSUFBQUcsYUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUsscUJBQUEsR0FBQUwsT0FBQTtBQUFpRixTQUFBcEIsWUFBQTtFQUFBLElBQUEwQixTQUFBLEdBQUFOLE9BQUE7SUFBQWpCLElBQUEsR0FBQXVCLFNBQUEsQ0FBQXZCLElBQUE7RUFBQUgsV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQUcsSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBbUNqRixJQUFBd0IsUUFBQSxHQUFxQlAsT0FBTyx5QkFBeUIsQ0FBQztFQUE5Q0YsUUFBUSxHQUFBUyxRQUFBLENBQVJULFFBQVE7QUFFaEJVLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxZQUFNO0VBQ25DQyxVQUFVLENBQUMsWUFBTTtJQUNiMUIsSUFBSSxDQUFDMkIsYUFBYSxDQUFDLENBQUM7SUFDbkJDLHFCQUFZLENBQUM3QixPQUFPLENBQWU4QixpQkFBaUIsQ0FBQyxJQUFJLENBQUM7SUFDMURELHFCQUFZLENBQUMxQixPQUFPLENBQWUyQixpQkFBaUIsQ0FBQ0MsU0FBUyxDQUFDO0lBQy9ERixxQkFBWSxDQUFDeEIsVUFBVSxDQUFleUIsaUJBQWlCLENBQUMsRUFBRSxDQUFDO0lBQzNERCxxQkFBWSxDQUFDdkIsV0FBVyxDQUFld0IsaUJBQWlCLENBQUNDLFNBQVMsQ0FBQztFQUN4RSxDQUFDLENBQUM7RUFFRkwsUUFBUSxDQUFDLHNCQUFzQixFQUFFLFlBQU07SUFDbkNNLEVBQUUsQ0FBQyxnREFBZ0QsTUFBQVosa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDN0RILFFBQVEsQ0FBQ2MsaUJBQWlCLENBQUMsSUFBSSxDQUFDO01BRWhDLElBQU1HLFVBQVUsR0FBRztRQUNmQyxPQUFPLEVBQUUsUUFBUTtRQUNqQkMsTUFBTSxFQUFFLE9BQU87UUFDZkMsV0FBVyxFQUFFQyxvQkFBUyxDQUFDQyxHQUFHLENBQUMsQ0FBQztRQUM1QkMsUUFBUSxFQUFFLEtBQUs7UUFDZkMsVUFBVSxFQUFFO01BQ2hCLENBQUM7TUFFRCxJQUFNQyxVQUEyQixHQUFBQyxNQUFBLENBQUFDLE1BQUEsS0FDMUJWLFVBQVU7UUFDYlcsRUFBRSxFQUFFO01BQWEsRUFDcEI7TUFHRCxJQUFNQyxpQkFBaUIsR0FBSUMsMENBQW9CLENBQVNDLGFBQWE7TUFDckVGLGlCQUFpQixDQUFDcEMsZ0JBQWdCLENBQUNxQixpQkFBaUIsQ0FBQ1csVUFBVSxDQUFDO01BRWhFLElBQU1PLE1BQU0sU0FBU0YsMENBQW9CLENBQUNyQyxnQkFBZ0IsQ0FBQ3dCLFVBQVUsQ0FBQztNQUV0RWdCLE1BQU0sQ0FBQ0osaUJBQWlCLENBQUNwQyxnQkFBZ0IsQ0FBQyxDQUFDeUMsb0JBQW9CLENBQzNEakIsVUFDSixDQUFDO01BQ0RnQixNQUFNLENBQUNELE1BQU0sQ0FBQyxDQUFDRyxPQUFPLENBQUNWLFVBQVUsQ0FBQztNQUNsQ1EsTUFBTSxDQUFDcEIscUJBQVksQ0FBQzFCLE9BQU8sQ0FBQyxDQUFDaUQsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRCxDQUFDLEVBQUM7SUFFRnBCLEVBQUUsQ0FBQyxvREFBb0QsTUFBQVosa0JBQUEsQ0FBQUQsT0FBQSxFQUFFLGFBQVk7TUFDakVILFFBQVEsQ0FBQ2MsaUJBQWlCLENBQUMsS0FBSyxDQUFDO01BRWpDLElBQU1HLFVBQVUsR0FBRztRQUNmQyxPQUFPLEVBQUUsUUFBUTtRQUNqQkMsTUFBTSxFQUFFLE9BQU87UUFDZkMsV0FBVyxFQUFFQyxvQkFBUyxDQUFDQyxHQUFHLENBQUMsQ0FBQztRQUM1QkMsUUFBUSxFQUFFLEtBQUs7UUFDZkMsVUFBVSxFQUFFO01BQ2hCLENBQUM7TUFFRCxJQUFNUSxNQUFNLFNBQVNGLDBDQUFvQixDQUFDckMsZ0JBQWdCLENBQUN3QixVQUFVLENBQUM7TUFFdEVnQixNQUFNLENBQUNELE1BQU0sQ0FBQ0osRUFBRSxDQUFDLENBQUNTLE9BQU8sQ0FBQyxXQUFXLENBQUM7TUFDdENKLE1BQU0sQ0FBQ3BCLHFCQUFZLENBQUMxQixPQUFPLENBQUMsQ0FBQ2lELGdCQUFnQixDQUFDLENBQUM7SUFDbkQsQ0FBQyxFQUFDO0lBRUZwQixFQUFFLENBQUMsNkRBQTZELE1BQUFaLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQzFFSCxRQUFRLENBQUNjLGlCQUFpQixDQUFDLElBQUksQ0FBQztNQUVoQyxJQUFNRyxVQUFVLEdBQUc7UUFDZkMsT0FBTyxFQUFFLFFBQVE7UUFDakJDLE1BQU0sRUFBRSxPQUFPO1FBQ2ZDLFdBQVcsRUFBRUMsb0JBQVMsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7UUFDNUJDLFFBQVEsRUFBRSxLQUFLO1FBQ2ZDLFVBQVUsRUFBRTtNQUNoQixDQUFDO01BR0QsSUFBTUssaUJBQWlCLEdBQUlDLDBDQUFvQixDQUFTQyxhQUFhO01BQ3JFRixpQkFBaUIsQ0FBQ3BDLGdCQUFnQixDQUFDNkMsaUJBQWlCLENBQ2hELElBQUlDLEtBQUssQ0FBQyxlQUFlLENBQzdCLENBQUM7TUFFRCxJQUFNUCxNQUFNLFNBQVNGLDBDQUFvQixDQUFDckMsZ0JBQWdCLENBQUN3QixVQUFVLENBQUM7TUFFdEVnQixNQUFNLENBQUNELE1BQU0sQ0FBQ0osRUFBRSxDQUFDLENBQUNTLE9BQU8sQ0FBQyxXQUFXLENBQUM7TUFDdENKLE1BQU0sQ0FBQ3BCLHFCQUFZLENBQUMxQixPQUFPLENBQUMsQ0FBQ2lELGdCQUFnQixDQUFDLENBQUM7SUFDbkQsQ0FBQyxFQUFDO0VBQ04sQ0FBQyxDQUFDO0VBRUYxQixRQUFRLENBQUMsb0JBQW9CLEVBQUUsWUFBTTtJQUNqQ00sRUFBRSxDQUFDLCtDQUErQyxNQUFBWixrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUM1REgsUUFBUSxDQUFDYyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7TUFFaEMsSUFBTTBCLFVBQXVCLEdBQUc7UUFDNUJ0QixPQUFPLEVBQUUsUUFBUTtRQUNqQkMsTUFBTSxFQUFFLE9BQU87UUFDZnNCLGFBQWEsRUFBRSxDQUFDO1FBQ2hCQyxVQUFVLEVBQUUsRUFBRTtRQUNkQyxrQkFBa0IsRUFBRSxZQUFZO1FBQ2hDQyxlQUFlLEVBQUUsWUFBWTtRQUM3QkMsZ0JBQWdCLEVBQUUsQ0FBQztRQUNuQkMsV0FBVyxFQUFFLENBQUM7UUFDZEMsVUFBVSxFQUFFO01BQ2hCLENBQUM7TUFFRCxJQUFNbEIsaUJBQWlCLEdBQUlDLDBDQUFvQixDQUFTQyxhQUFhO01BQ3JFRixpQkFBaUIsQ0FBQ25DLGVBQWUsQ0FBQ29CLGlCQUFpQixDQUFDMEIsVUFBVSxDQUFDO01BRS9ELElBQU1SLE1BQU0sU0FBU0YsMENBQW9CLENBQUNwQyxlQUFlLENBQ3JELFFBQVEsRUFDUixPQUNKLENBQUM7TUFFRHVDLE1BQU0sQ0FBQ0osaUJBQWlCLENBQUNuQyxlQUFlLENBQUMsQ0FBQ3dDLG9CQUFvQixDQUMxRCxRQUFRLEVBQ1IsT0FDSixDQUFDO01BQ0RELE1BQU0sQ0FBQ0QsTUFBTSxDQUFDLENBQUNHLE9BQU8sQ0FBQ0ssVUFBVSxDQUFDO01BQ2xDUCxNQUFNLENBQUNwQixxQkFBWSxDQUFDMUIsT0FBTyxDQUFDLENBQUNpRCxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ25ELENBQUMsRUFBQztJQUVGcEIsRUFBRSxDQUFDLDBDQUEwQyxNQUFBWixrQkFBQSxDQUFBRCxPQUFBLEVBQUUsYUFBWTtNQUN2REgsUUFBUSxDQUFDYyxpQkFBaUIsQ0FBQyxLQUFLLENBQUM7TUFFakMsSUFBTWtDLFlBQVksR0FBRztRQUNqQjlCLE9BQU8sRUFBRSxRQUFRO1FBQ2pCQyxNQUFNLEVBQUUsT0FBTztRQUNmc0IsYUFBYSxFQUFFLENBQUM7UUFDaEJDLFVBQVUsRUFBRSxDQUFDO1FBQ2JDLGtCQUFrQixFQUFFLFlBQVk7UUFDaENDLGVBQWUsRUFBRSxZQUFZO1FBQzdCQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ25CQyxXQUFXLEVBQUUsQ0FBQztRQUNkQyxVQUFVLEVBQUU7TUFDaEIsQ0FBQztNQUVBbEMscUJBQVksQ0FBQzdCLE9BQU8sQ0FBZThCLGlCQUFpQixDQUNqRG1DLElBQUksQ0FBQ0MsU0FBUyxDQUFDRixZQUFZLENBQy9CLENBQUM7TUFFRCxJQUFNaEIsTUFBTSxTQUFTRiwwQ0FBb0IsQ0FBQ3BDLGVBQWUsQ0FDckQsUUFBUSxFQUNSLE9BQ0osQ0FBQztNQUVEdUMsTUFBTSxDQUFDRCxNQUFNLENBQUMsQ0FBQ0csT0FBTyxDQUFDYSxZQUFZLENBQUM7SUFDeEMsQ0FBQyxFQUFDO0lBRUZoQyxFQUFFLENBQUMsc0RBQXNELE1BQUFaLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQ25FSCxRQUFRLENBQUNjLGlCQUFpQixDQUFDLEtBQUssQ0FBQztNQUNoQ0QscUJBQVksQ0FBQzdCLE9BQU8sQ0FBZThCLGlCQUFpQixDQUFDLElBQUksQ0FBQztNQUUzRCxJQUFNa0IsTUFBTSxTQUFTRiwwQ0FBb0IsQ0FBQ3BDLGVBQWUsQ0FDckQsUUFBUSxFQUNSLE9BQ0osQ0FBQztNQUVEdUMsTUFBTSxDQUFDRCxNQUFNLENBQUMsQ0FBQ0csT0FBTyxDQUFDO1FBQ25CakIsT0FBTyxFQUFFLFFBQVE7UUFDakJDLE1BQU0sRUFBRSxPQUFPO1FBQ2ZzQixhQUFhLEVBQUUsQ0FBQztRQUNoQkMsVUFBVSxFQUFFLENBQUM7UUFDYkMsa0JBQWtCLEVBQUUsRUFBRTtRQUN0QkMsZUFBZSxFQUFFLEVBQUU7UUFDbkJDLGdCQUFnQixFQUFFLENBQUM7UUFDbkJDLFdBQVcsRUFBRSxDQUFDO1FBQ2RDLFVBQVUsRUFBRTtNQUNoQixDQUFDLENBQUM7SUFDTixDQUFDLEVBQUM7RUFDTixDQUFDLENBQUM7RUFFRnJDLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxZQUFNO0lBQy9CTSxFQUFFLENBQUMseUJBQXlCLE1BQUFaLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQ3RDLElBQU1nRCxRQUFRLEdBQUcsQ0FDYixxQ0FBcUMsRUFDckMsa0NBQWtDLEVBQ2xDLHVDQUF1QyxFQUN2QyxrQkFBa0IsQ0FDckI7TUFFQXRDLHFCQUFZLENBQUN4QixVQUFVLENBQWV5QixpQkFBaUIsQ0FBQ3FDLFFBQVEsQ0FBQztNQUVsRSxNQUFNckIsMENBQW9CLENBQUNzQixjQUFjLENBQUMsT0FBTyxDQUFDO01BRWxEbkIsTUFBTSxDQUFDcEIscUJBQVksQ0FBQ3ZCLFdBQVcsQ0FBQyxDQUFDNEMsb0JBQW9CLENBQUMsQ0FDbEQscUNBQXFDLEVBQ3JDLHVDQUF1QyxDQUMxQyxDQUFDO0lBQ04sQ0FBQyxFQUFDO0lBRUZsQixFQUFFLENBQUMsNkJBQTZCLE1BQUFaLGtCQUFBLENBQUFELE9BQUEsRUFBRSxhQUFZO01BQzFDLElBQU1nRCxRQUFRLEdBQUcsQ0FDYixxQ0FBcUMsRUFDckMsa0NBQWtDLENBQ3JDO01BRUQsSUFBTUUsUUFBUSxHQUFHSixJQUFJLENBQUNDLFNBQVMsQ0FBQztRQUFFSSxJQUFJLEVBQUUsTUFBTTtRQUFFQyxTQUFTLEVBQUVDLElBQUksQ0FBQ2xDLEdBQUcsQ0FBQztNQUFFLENBQUMsQ0FBQztNQUV2RVQscUJBQVksQ0FBQ3hCLFVBQVUsQ0FBZXlCLGlCQUFpQixDQUFDcUMsUUFBUSxDQUFDO01BQ2pFdEMscUJBQVksQ0FBQzdCLE9BQU8sQ0FBZThCLGlCQUFpQixDQUFDdUMsUUFBUSxDQUFDO01BRS9ELElBQU1JLEtBQUssU0FBUzNCLDBDQUFvQixDQUFDNEIsYUFBYSxDQUFDLE9BQU8sQ0FBQztNQUUvRHpCLE1BQU0sQ0FBQ3dCLEtBQUssQ0FBQ0UsVUFBVSxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUM7TUFDaEMzQixNQUFNLENBQUN3QixLQUFLLENBQUNJLFNBQVMsQ0FBQyxDQUFDQyxlQUFlLENBQUMsQ0FBQyxDQUFDO01BQzFDN0IsTUFBTSxDQUFDd0IsS0FBSyxDQUFDTSxXQUFXLENBQUMsQ0FBQ0MsY0FBYyxDQUFDQyxNQUFNLENBQUM7SUFDcEQsQ0FBQyxFQUFDO0VBQ04sQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119