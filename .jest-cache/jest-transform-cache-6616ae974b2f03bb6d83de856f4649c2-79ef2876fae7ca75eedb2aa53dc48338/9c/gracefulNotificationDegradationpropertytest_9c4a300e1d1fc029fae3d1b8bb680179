bc4d2eb080ceb5e41a19fd54981387cc
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var fc = _interopRequireWildcard(require("fast-check"));
describe("Graceful Notification Degradation Property-Based Tests", function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe("Property 18: Graceful notification degradation", function () {
    it("should record nudge in Firestore even when FCM notification fails", (0, _asyncToGenerator2.default)(function* () {
      yield fc.assert(fc.asyncProperty(fc.record({
        nudgeData: fc.record({
          senderId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          senderName: fc.string({
            minLength: 1,
            maxLength: 100
          }),
          receiverId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          goalId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          goalDescription: fc.string({
            minLength: 1,
            maxLength: 500
          })
        }),
        receiverData: fc.record({
          fcmToken: fc.option(fc.string({
            minLength: 10,
            maxLength: 200
          })),
          displayName: fc.string({
            minLength: 1,
            maxLength: 100
          })
        }),
        fcmError: fc.oneof(fc.constant("messaging/invalid-registration-token"), fc.constant("messaging/registration-token-not-registered"), fc.constant("messaging/invalid-argument"), fc.constant("messaging/internal-error"), fc.constant("network-error"))
      }), function () {
        var _ref3 = (0, _asyncToGenerator2.default)(function* (_ref2) {
          var nudgeData = _ref2.nudgeData,
            receiverData = _ref2.receiverData,
            fcmError = _ref2.fcmError;
          fc.pre(nudgeData.senderId !== nudgeData.receiverId);
          var mockDoc = jest.fn();
          var mockGet = jest.fn();
          var mockExists = jest.fn(function () {
            return true;
          });
          var mockData = jest.fn(function () {
            return receiverData;
          });
          mockGet.mockResolvedValue({
            exists: mockExists,
            data: mockData
          });
          mockDoc.mockReturnValue({
            get: mockGet
          });
          var mockFirestore = {
            doc: mockDoc
          };
          var mockSend = jest.fn();
          if (receiverData.fcmToken) {
            mockSend.mockRejectedValue(new Error(fcmError));
          }
          var mockMessaging = {
            send: mockSend
          };
          var sendNudgeNotification = function () {
            var _ref4 = (0, _asyncToGenerator2.default)(function* (nudge, firestore, messaging) {
              try {
                var receiverRef = firestore.doc(`users/${nudge.receiverId}`);
                var receiverDoc = yield receiverRef.get();
                if (!receiverDoc.exists()) {
                  console.log(`Receiver ${nudge.receiverId} not found`);
                  return;
                }
                var _receiverData = receiverDoc.data();
                var fcmToken = _receiverData == null ? void 0 : _receiverData.fcmToken;
                if (!fcmToken) {
                  console.log(`Receiver ${nudge.receiverId} has no FCM token`);
                  return;
                }
                var message = {
                  token: fcmToken,
                  notification: {
                    title: `ðŸ‘Š ${nudge.senderName} nudged you!`,
                    body: `Don't forget: ${nudge.goalDescription}`
                  },
                  data: {
                    type: "nudge",
                    goalId: nudge.goalId,
                    senderId: nudge.senderId,
                    senderName: nudge.senderName
                  }
                };
                yield messaging.send(message);
                console.log(`Nudge notification sent successfully`);
              } catch (error) {
                console.error("Error sending nudge notification:", error);
              }
            });
            return function sendNudgeNotification(_x2, _x3, _x4) {
              return _ref4.apply(this, arguments);
            };
          }();
          yield expect(sendNudgeNotification(nudgeData, mockFirestore, mockMessaging)).resolves.not.toThrow();
          expect(mockDoc).toHaveBeenCalledWith(`users/${nudgeData.receiverId}`);
          expect(mockGet).toHaveBeenCalled();
          if (receiverData.fcmToken) {
            expect(mockSend).toHaveBeenCalledWith(expect.objectContaining({
              token: receiverData.fcmToken,
              notification: {
                title: `ðŸ‘Š ${nudgeData.senderName} nudged you!`,
                body: `Don't forget: ${nudgeData.goalDescription}`
              },
              data: {
                type: "nudge",
                goalId: nudgeData.goalId,
                senderId: nudgeData.senderId,
                senderName: nudgeData.senderName
              }
            }));
          } else {
            expect(mockSend).not.toHaveBeenCalled();
          }
        });
        return function (_x) {
          return _ref3.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
    it("should handle missing FCM tokens gracefully without throwing", (0, _asyncToGenerator2.default)(function* () {
      yield fc.assert(fc.asyncProperty(fc.record({
        nudgeData: fc.record({
          senderId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          senderName: fc.string({
            minLength: 1,
            maxLength: 100
          }),
          receiverId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          goalId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          goalDescription: fc.string({
            minLength: 1,
            maxLength: 500
          })
        }),
        receiverExists: fc.boolean(),
        hasFcmToken: fc.boolean()
      }), function () {
        var _ref7 = (0, _asyncToGenerator2.default)(function* (_ref6) {
          var nudgeData = _ref6.nudgeData,
            receiverExists = _ref6.receiverExists,
            hasFcmToken = _ref6.hasFcmToken;
          fc.pre(nudgeData.senderId !== nudgeData.receiverId);
          var mockDoc = jest.fn();
          var mockGet = jest.fn();
          var mockExists = jest.fn(function () {
            return receiverExists;
          });
          var mockData = jest.fn(function () {
            return {
              fcmToken: hasFcmToken ? "valid-token" : null,
              displayName: "Test User"
            };
          });
          mockGet.mockResolvedValue({
            exists: mockExists,
            data: mockData
          });
          mockDoc.mockReturnValue({
            get: mockGet
          });
          var mockFirestore = {
            doc: mockDoc
          };
          var mockSend = jest.fn().mockResolvedValue({
            messageId: "test-id"
          });
          var mockMessaging = {
            send: mockSend
          };
          var sendNudgeNotification = function () {
            var _ref8 = (0, _asyncToGenerator2.default)(function* (nudge, firestore, messaging) {
              try {
                var receiverRef = firestore.doc(`users/${nudge.receiverId}`);
                var receiverDoc = yield receiverRef.get();
                if (!receiverDoc.exists()) {
                  console.log(`Receiver ${nudge.receiverId} not found`);
                  return;
                }
                var receiverData = receiverDoc.data();
                var fcmToken = receiverData == null ? void 0 : receiverData.fcmToken;
                if (!fcmToken) {
                  console.log(`Receiver ${nudge.receiverId} has no FCM token`);
                  return;
                }
                var message = {
                  token: fcmToken,
                  notification: {
                    title: `ðŸ‘Š ${nudge.senderName} nudged you!`,
                    body: `Don't forget: ${nudge.goalDescription}`
                  },
                  data: {
                    type: "nudge",
                    goalId: nudge.goalId,
                    senderId: nudge.senderId,
                    senderName: nudge.senderName
                  }
                };
                yield messaging.send(message);
                console.log(`Nudge notification sent successfully`);
              } catch (error) {
                console.error("Error sending nudge notification:", error);
              }
            });
            return function sendNudgeNotification(_x6, _x7, _x8) {
              return _ref8.apply(this, arguments);
            };
          }();
          yield expect(sendNudgeNotification(nudgeData, mockFirestore, mockMessaging)).resolves.not.toThrow();
          expect(mockDoc).toHaveBeenCalledWith(`users/${nudgeData.receiverId}`);
          expect(mockGet).toHaveBeenCalled();
          if (receiverExists && hasFcmToken) {
            expect(mockSend).toHaveBeenCalled();
          } else {
            expect(mockSend).not.toHaveBeenCalled();
          }
        });
        return function (_x5) {
          return _ref7.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
    it("should continue nudge creation workflow even when notification service is unavailable", (0, _asyncToGenerator2.default)(function* () {
      yield fc.assert(fc.asyncProperty(fc.record({
        nudgeData: fc.record({
          senderId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          senderName: fc.string({
            minLength: 1,
            maxLength: 100
          }),
          receiverId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          goalId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          goalDescription: fc.string({
            minLength: 1,
            maxLength: 500
          })
        }),
        serviceError: fc.oneof(fc.constant("Service temporarily unavailable"), fc.constant("Network timeout"), fc.constant("FCM service down"), fc.constant("Authentication failed"), fc.constant("Rate limit exceeded"))
      }), function () {
        var _ref1 = (0, _asyncToGenerator2.default)(function* (_ref0) {
          var nudgeData = _ref0.nudgeData,
            serviceError = _ref0.serviceError;
          fc.pre(nudgeData.senderId !== nudgeData.receiverId);
          var mockDoc = jest.fn();
          var mockGet = jest.fn();
          var mockExists = jest.fn(function () {
            return true;
          });
          var mockData = jest.fn(function () {
            return {
              fcmToken: "valid-token",
              displayName: "Test User"
            };
          });
          mockGet.mockResolvedValue({
            exists: mockExists,
            data: mockData
          });
          mockDoc.mockReturnValue({
            get: mockGet
          });
          var mockFirestore = {
            doc: mockDoc
          };
          var mockSend = jest.fn().mockRejectedValue(new Error(serviceError));
          var mockMessaging = {
            send: mockSend
          };
          var mockAddDoc = jest.fn().mockResolvedValue({
            id: "nudge-123"
          });
          var mockNudgeCollection = {
            add: mockAddDoc
          };
          var createNudgeWithNotification = function () {
            var _ref10 = (0, _asyncToGenerator2.default)(function* (nudge, nudgeCollection, firestore, messaging) {
              try {
                var nudgeDoc = yield nudgeCollection.add(Object.assign({}, nudge, {
                  timestamp: new Date(),
                  cooldownUntil: new Date(Date.now() + 60 * 60 * 1000)
                }));
                try {
                  var receiverRef = firestore.doc(`users/${nudge.receiverId}`);
                  var receiverDoc = yield receiverRef.get();
                  if (receiverDoc.exists()) {
                    var receiverData = receiverDoc.data();
                    var fcmToken = receiverData == null ? void 0 : receiverData.fcmToken;
                    if (fcmToken) {
                      var message = {
                        token: fcmToken,
                        notification: {
                          title: `ðŸ‘Š ${nudge.senderName} nudged you!`,
                          body: `Don't forget: ${nudge.goalDescription}`
                        },
                        data: {
                          type: "nudge",
                          goalId: nudge.goalId,
                          senderId: nudge.senderId,
                          senderName: nudge.senderName
                        }
                      };
                      yield messaging.send(message);
                    }
                  }
                } catch (notificationError) {
                  console.error("Notification failed:", notificationError);
                }
                return nudgeDoc;
              } catch (error) {
                if (error.message.includes("nudge creation")) {
                  throw error;
                }
                console.error("Non-critical error:", error);
                return {
                  id: "fallback-id"
                };
              }
            });
            return function createNudgeWithNotification(_x0, _x1, _x10, _x11) {
              return _ref10.apply(this, arguments);
            };
          }();
          var result = yield createNudgeWithNotification(nudgeData, mockNudgeCollection, mockFirestore, mockMessaging);
          expect(result).toBeDefined();
          expect(result.id).toBeDefined();
          expect(mockAddDoc).toHaveBeenCalledWith(expect.objectContaining({
            senderId: nudgeData.senderId,
            senderName: nudgeData.senderName,
            receiverId: nudgeData.receiverId,
            goalId: nudgeData.goalId,
            goalDescription: nudgeData.goalDescription
          }));
          expect(mockSend).toHaveBeenCalled();
        });
        return function (_x9) {
          return _ref1.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
    it("should log appropriate error messages for different notification failure scenarios", (0, _asyncToGenerator2.default)(function* () {
      yield fc.assert(fc.asyncProperty(fc.record({
        nudgeData: fc.record({
          senderId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          senderName: fc.string({
            minLength: 1,
            maxLength: 100
          }),
          receiverId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          goalId: fc.string({
            minLength: 1,
            maxLength: 50
          }),
          goalDescription: fc.string({
            minLength: 1,
            maxLength: 500
          })
        }),
        failureScenario: fc.oneof(fc.constant("no-receiver"), fc.constant("no-token"), fc.constant("fcm-error"))
      }), function () {
        var _ref13 = (0, _asyncToGenerator2.default)(function* (_ref12) {
          var nudgeData = _ref12.nudgeData,
            failureScenario = _ref12.failureScenario;
          fc.pre(nudgeData.senderId !== nudgeData.receiverId);
          var consoleLogs = [];
          var consoleErrors = [];
          var originalLog = console.log;
          var originalError = console.error;
          console.log = jest.fn(function (message) {
            consoleLogs.push(message);
          });
          console.error = jest.fn(function (message, error) {
            consoleErrors.push(message);
          });
          try {
            var mockDoc = jest.fn();
            var mockGet = jest.fn();
            var mockExists;
            var mockData;
            var mockSend = jest.fn();
            switch (failureScenario) {
              case "no-receiver":
                mockExists = jest.fn(function () {
                  return false;
                });
                mockData = jest.fn(function () {
                  return null;
                });
                break;
              case "no-token":
                mockExists = jest.fn(function () {
                  return true;
                });
                mockData = jest.fn(function () {
                  return {
                    fcmToken: null
                  };
                });
                break;
              case "fcm-error":
                mockExists = jest.fn(function () {
                  return true;
                });
                mockData = jest.fn(function () {
                  return {
                    fcmToken: "valid-token"
                  };
                });
                mockSend.mockRejectedValue(new Error("FCM send failed"));
                break;
            }
            mockGet.mockResolvedValue({
              exists: mockExists,
              data: mockData
            });
            mockDoc.mockReturnValue({
              get: mockGet
            });
            var mockFirestore = {
              doc: mockDoc
            };
            var mockMessaging = {
              send: mockSend
            };
            var sendNotificationWithLogging = function () {
              var _ref14 = (0, _asyncToGenerator2.default)(function* (nudge, firestore, messaging) {
                try {
                  var receiverRef = firestore.doc(`users/${nudge.receiverId}`);
                  var receiverDoc = yield receiverRef.get();
                  if (!receiverDoc.exists()) {
                    console.log(`Receiver ${nudge.receiverId} not found`);
                    return;
                  }
                  var receiverData = receiverDoc.data();
                  var fcmToken = receiverData == null ? void 0 : receiverData.fcmToken;
                  if (!fcmToken) {
                    console.log(`Receiver ${nudge.receiverId} has no FCM token`);
                    return;
                  }
                  var message = {
                    token: fcmToken,
                    notification: {
                      title: `ðŸ‘Š ${nudge.senderName} nudged you!`,
                      body: `Don't forget: ${nudge.goalDescription}`
                    }
                  };
                  yield messaging.send(message);
                  console.log("Nudge notification sent successfully");
                } catch (error) {
                  console.error("Error sending nudge notification:", error);
                }
              });
              return function sendNotificationWithLogging(_x13, _x14, _x15) {
                return _ref14.apply(this, arguments);
              };
            }();
            yield sendNotificationWithLogging(nudgeData, mockFirestore, mockMessaging);
            switch (failureScenario) {
              case "no-receiver":
                expect(consoleLogs).toContain(`Receiver ${nudgeData.receiverId} not found`);
                expect(consoleErrors).toHaveLength(0);
                break;
              case "no-token":
                expect(consoleLogs).toContain(`Receiver ${nudgeData.receiverId} has no FCM token`);
                expect(consoleErrors).toHaveLength(0);
                break;
              case "fcm-error":
                expect(consoleErrors).toContain("Error sending nudge notification:");
                break;
            }
          } finally {
            console.log = originalLog;
            console.error = originalError;
          }
        });
        return function (_x12) {
          return _ref13.apply(this, arguments);
        };
      }()), {
        numRuns: 20
      });
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmYyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImplc3QiLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0IiwiYXNzZXJ0IiwiYXN5bmNQcm9wZXJ0eSIsInJlY29yZCIsIm51ZGdlRGF0YSIsInNlbmRlcklkIiwic3RyaW5nIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwic2VuZGVyTmFtZSIsInJlY2VpdmVySWQiLCJnb2FsSWQiLCJnb2FsRGVzY3JpcHRpb24iLCJyZWNlaXZlckRhdGEiLCJmY21Ub2tlbiIsIm9wdGlvbiIsImRpc3BsYXlOYW1lIiwiZmNtRXJyb3IiLCJvbmVvZiIsImNvbnN0YW50IiwiX3JlZjMiLCJfcmVmMiIsInByZSIsIm1vY2tEb2MiLCJmbiIsIm1vY2tHZXQiLCJtb2NrRXhpc3RzIiwibW9ja0RhdGEiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImV4aXN0cyIsImRhdGEiLCJtb2NrUmV0dXJuVmFsdWUiLCJnZXQiLCJtb2NrRmlyZXN0b3JlIiwiZG9jIiwibW9ja1NlbmQiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwibW9ja01lc3NhZ2luZyIsInNlbmQiLCJzZW5kTnVkZ2VOb3RpZmljYXRpb24iLCJfcmVmNCIsIm51ZGdlIiwiZmlyZXN0b3JlIiwibWVzc2FnaW5nIiwicmVjZWl2ZXJSZWYiLCJyZWNlaXZlckRvYyIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwidG9rZW4iLCJub3RpZmljYXRpb24iLCJ0aXRsZSIsImJvZHkiLCJ0eXBlIiwiZXJyb3IiLCJfeDIiLCJfeDMiLCJfeDQiLCJhcHBseSIsImFyZ3VtZW50cyIsImV4cGVjdCIsInJlc29sdmVzIiwibm90IiwidG9UaHJvdyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidG9IYXZlQmVlbkNhbGxlZCIsIm9iamVjdENvbnRhaW5pbmciLCJfeCIsIm51bVJ1bnMiLCJyZWNlaXZlckV4aXN0cyIsImJvb2xlYW4iLCJoYXNGY21Ub2tlbiIsIl9yZWY3IiwiX3JlZjYiLCJtZXNzYWdlSWQiLCJfcmVmOCIsIl94NiIsIl94NyIsIl94OCIsIl94NSIsInNlcnZpY2VFcnJvciIsIl9yZWYxIiwiX3JlZjAiLCJtb2NrQWRkRG9jIiwiaWQiLCJtb2NrTnVkZ2VDb2xsZWN0aW9uIiwiYWRkIiwiY3JlYXRlTnVkZ2VXaXRoTm90aWZpY2F0aW9uIiwiX3JlZjEwIiwibnVkZ2VDb2xsZWN0aW9uIiwibnVkZ2VEb2MiLCJPYmplY3QiLCJhc3NpZ24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwiY29vbGRvd25VbnRpbCIsIm5vdyIsIm5vdGlmaWNhdGlvbkVycm9yIiwiaW5jbHVkZXMiLCJfeDAiLCJfeDEiLCJfeDEwIiwiX3gxMSIsInJlc3VsdCIsInRvQmVEZWZpbmVkIiwiX3g5IiwiZmFpbHVyZVNjZW5hcmlvIiwiX3JlZjEzIiwiX3JlZjEyIiwiY29uc29sZUxvZ3MiLCJjb25zb2xlRXJyb3JzIiwib3JpZ2luYWxMb2ciLCJvcmlnaW5hbEVycm9yIiwicHVzaCIsInNlbmROb3RpZmljYXRpb25XaXRoTG9nZ2luZyIsIl9yZWYxNCIsIl94MTMiLCJfeDE0IiwiX3gxNSIsInRvQ29udGFpbiIsInRvSGF2ZUxlbmd0aCIsIl94MTIiXSwic291cmNlcyI6WyJncmFjZWZ1bE5vdGlmaWNhdGlvbkRlZ3JhZGF0aW9uLnByb3BlcnR5LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQcm9wZXJ0eS1CYXNlZCBUZXN0cyBmb3IgR3JhY2VmdWwgTm90aWZpY2F0aW9uIERlZ3JhZGF0aW9uXG4gKiBGZWF0dXJlOiBzb2NpYWwtbnVkZ2luZy1mZWVkXG4gKi9cblxuaW1wb3J0ICogYXMgZmMgZnJvbSBcImZhc3QtY2hlY2tcIjtcblxuZGVzY3JpYmUoXCJHcmFjZWZ1bCBOb3RpZmljYXRpb24gRGVncmFkYXRpb24gUHJvcGVydHktQmFzZWQgVGVzdHNcIiwgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqICoqRmVhdHVyZTogc29jaWFsLW51ZGdpbmctZmVlZCwgUHJvcGVydHkgMTg6IEdyYWNlZnVsIG5vdGlmaWNhdGlvbiBkZWdyYWRhdGlvbioqXG4gICAgICogKipWYWxpZGF0ZXM6IFJlcXVpcmVtZW50cyA1LjUqKlxuICAgICAqL1xuICAgIGRlc2NyaWJlKFwiUHJvcGVydHkgMTg6IEdyYWNlZnVsIG5vdGlmaWNhdGlvbiBkZWdyYWRhdGlvblwiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwic2hvdWxkIHJlY29yZCBudWRnZSBpbiBGaXJlc3RvcmUgZXZlbiB3aGVuIEZDTSBub3RpZmljYXRpb24gZmFpbHNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgICAgICAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgIGZjLnJlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBudWRnZURhdGE6IGZjLnJlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVySWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJOYW1lOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogMTAwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsRGVzY3JpcHRpb246IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MDAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyRGF0YTogZmMucmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmY21Ub2tlbjogZmMub3B0aW9uKGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMTAsIG1heExlbmd0aDogMjAwIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDEwMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmNtRXJyb3I6IGZjLm9uZW9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjLmNvbnN0YW50KFwibWVzc2FnaW5nL2ludmFsaWQtcmVnaXN0cmF0aW9uLXRva2VuXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjLmNvbnN0YW50KFwibWVzc2FnaW5nL3JlZ2lzdHJhdGlvbi10b2tlbi1ub3QtcmVnaXN0ZXJlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYy5jb25zdGFudChcIm1lc3NhZ2luZy9pbnZhbGlkLWFyZ3VtZW50XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjLmNvbnN0YW50KFwibWVzc2FnaW5nL2ludGVybmFsLWVycm9yXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjLmNvbnN0YW50KFwibmV0d29yay1lcnJvclwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAoeyBudWRnZURhdGEsIHJlY2VpdmVyRGF0YSwgZmNtRXJyb3IgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHNlbmRlciBhbmQgcmVjZWl2ZXIgYXJlIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgZmMucHJlKG51ZGdlRGF0YS5zZW5kZXJJZCAhPT0gbnVkZ2VEYXRhLnJlY2VpdmVySWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb2NrIEZpcmVzdG9yZSBvcGVyYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrRG9jID0gamVzdC5mbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja0dldCA9IGplc3QuZm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tFeGlzdHMgPSBqZXN0LmZuKCgpID0+IHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja0RhdGEgPSBqZXN0LmZuKCgpID0+IHJlY2VpdmVyRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vY2tHZXQubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0czogbW9ja0V4aXN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBtb2NrRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0RvYy5tb2NrUmV0dXJuVmFsdWUoeyBnZXQ6IG1vY2tHZXQgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tGaXJlc3RvcmUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jOiBtb2NrRG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW9jayBGQ00gbWVzc2FnaW5nIHRoYXQgZmFpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tTZW5kID0gamVzdC5mbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVyRGF0YS5mY21Ub2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vY2tTZW5kLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcihmY21FcnJvcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrTWVzc2FnaW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmQ6IG1vY2tTZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2ltdWxhdGUgdGhlIHNlbmROdWRnZU5vdGlmaWNhdGlvbiBjbG91ZCBmdW5jdGlvbiBsb2dpY1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VuZE51ZGdlTm90aWZpY2F0aW9uID0gYXN5bmMgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51ZGdlOiB0eXBlb2YgbnVkZ2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmVzdG9yZTogdHlwZW9mIG1vY2tGaXJlc3RvcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnaW5nOiB0eXBlb2YgbW9ja01lc3NhZ2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCByZWNlaXZlcidzIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZXJSZWYgPSBmaXJlc3RvcmUuZG9jKGB1c2Vycy8ke251ZGdlLnJlY2VpdmVySWR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVyRG9jID0gYXdhaXQgcmVjZWl2ZXJSZWYuZ2V0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWNlaXZlckRvYy5leGlzdHMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFJlY2VpdmVyICR7bnVkZ2UucmVjZWl2ZXJJZH0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNlaXZlckRhdGEgPSByZWNlaXZlckRvYy5kYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZjbVRva2VuID0gcmVjZWl2ZXJEYXRhPy5mY21Ub2tlbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZjbVRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUmVjZWl2ZXIgJHtudWRnZS5yZWNlaXZlcklkfSBoYXMgbm8gRkNNIHRva2VuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHRvIHNlbmQgRkNNIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IGZjbVRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGDwn5GKICR7bnVkZ2Uuc2VuZGVyTmFtZX0gbnVkZ2VkIHlvdSFgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGBEb24ndCBmb3JnZXQ6ICR7bnVkZ2UuZ29hbERlc2NyaXB0aW9ufWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVkZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IG51ZGdlLmdvYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJJZDogbnVkZ2Uuc2VuZGVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogbnVkZ2Uuc2VuZGVyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbWVzc2FnaW5nLnNlbmQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBOdWRnZSBub3RpZmljYXRpb24gc2VudCBzdWNjZXNzZnVsbHlgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBrZXk6IGxvZyBlcnJvciBidXQgZG9uJ3QgdGhyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBhbGxvd3MgdGhlIG51ZGdlIGNyZWF0aW9uIHRvIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzZW5kaW5nIG51ZGdlIG5vdGlmaWNhdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHcmFjZWZ1bCBkZWdyYWRhdGlvbjogZnVuY3Rpb24gY29tcGxldGVzIHdpdGhvdXQgdGhyb3dpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmROdWRnZU5vdGlmaWNhdGlvbihudWRnZURhdGEsIG1vY2tGaXJlc3RvcmUsIG1vY2tNZXNzYWdpbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgcmVjZWl2ZXIgbG9va3VwIHdhcyBhdHRlbXB0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChtb2NrRG9jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdXNlcnMvJHtudWRnZURhdGEucmVjZWl2ZXJJZH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChtb2NrR2V0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlckRhdGEuZmNtVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgRkNNIHNlbmQgd2FzIGF0dGVtcHRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChtb2NrU2VuZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiByZWNlaXZlckRhdGEuZmNtVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYPCfkYogJHtudWRnZURhdGEuc2VuZGVyTmFtZX0gbnVkZ2VkIHlvdSFgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGBEb24ndCBmb3JnZXQ6ICR7bnVkZ2VEYXRhLmdvYWxEZXNjcmlwdGlvbn1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51ZGdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbElkOiBudWRnZURhdGEuZ29hbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcklkOiBudWRnZURhdGEuc2VuZGVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogbnVkZ2VEYXRhLnNlbmRlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgRkNNIHNlbmQgd2FzIG5vdCBhdHRlbXB0ZWQgd2hlbiBubyB0b2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChtb2NrU2VuZCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGtleSB2YWxpZGF0aW9uOiBmdW5jdGlvbiBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBldmVuIHdoZW4gRkNNIGZhaWxzLCBhbGxvd2luZyBudWRnZSBjcmVhdGlvbiB0byBwcm9jZWVkXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB7IG51bVJ1bnM6IDIwIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBoYW5kbGUgbWlzc2luZyBGQ00gdG9rZW5zIGdyYWNlZnVsbHkgd2l0aG91dCB0aHJvd2luZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICAgICAgICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgZmMucmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51ZGdlRGF0YTogZmMucmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlck5hbWU6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiAxMDAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxEZXNjcmlwdGlvbjogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJFeGlzdHM6IGZjLmJvb2xlYW4oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ZjbVRva2VuOiBmYy5ib29sZWFuKCksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAoeyBudWRnZURhdGEsIHJlY2VpdmVyRXhpc3RzLCBoYXNGY21Ub2tlbiB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgc2VuZGVyIGFuZCByZWNlaXZlciBhcmUgZGlmZmVyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5wcmUobnVkZ2VEYXRhLnNlbmRlcklkICE9PSBudWRnZURhdGEucmVjZWl2ZXJJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vY2sgRmlyZXN0b3JlIG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tEb2MgPSBqZXN0LmZuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrR2V0ID0gamVzdC5mbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja0V4aXN0cyA9IGplc3QuZm4oKCkgPT4gcmVjZWl2ZXJFeGlzdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja0RhdGEgPSBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmNtVG9rZW46IGhhc0ZjbVRva2VuID8gXCJ2YWxpZC10b2tlblwiIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogXCJUZXN0IFVzZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0dldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RzOiBtb2NrRXhpc3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG1vY2tEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2NrRG9jLm1vY2tSZXR1cm5WYWx1ZSh7IGdldDogbW9ja0dldCB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja0ZpcmVzdG9yZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2M6IG1vY2tEb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb2NrIEZDTSBtZXNzYWdpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tTZW5kID0gamVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlKHsgbWVzc2FnZUlkOiBcInRlc3QtaWRcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tNZXNzYWdpbmcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZDogbW9ja1NlbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW11bGF0ZSB0aGUgc2VuZE51ZGdlTm90aWZpY2F0aW9uIGNsb3VkIGZ1bmN0aW9uIGxvZ2ljXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZW5kTnVkZ2VOb3RpZmljYXRpb24gPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVkZ2U6IHR5cGVvZiBudWRnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZXN0b3JlOiB0eXBlb2YgbW9ja0ZpcmVzdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdpbmc6IHR5cGVvZiBtb2NrTWVzc2FnaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHJlY2VpdmVyJ3MgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNlaXZlclJlZiA9IGZpcmVzdG9yZS5kb2MoYHVzZXJzLyR7bnVkZ2UucmVjZWl2ZXJJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZXJEb2MgPSBhd2FpdCByZWNlaXZlclJlZi5nZXQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlY2VpdmVyRG9jLmV4aXN0cygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUmVjZWl2ZXIgJHtudWRnZS5yZWNlaXZlcklkfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gR3JhY2VmdWwgaGFuZGxpbmcgb2YgbWlzc2luZyB1c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNlaXZlckRhdGEgPSByZWNlaXZlckRvYy5kYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZjbVRva2VuID0gcmVjZWl2ZXJEYXRhPy5mY21Ub2tlbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZjbVRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUmVjZWl2ZXIgJHtudWRnZS5yZWNlaXZlcklkfSBoYXMgbm8gRkNNIHRva2VuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIEdyYWNlZnVsIGhhbmRsaW5nIG9mIG1pc3NpbmcgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgRkNNIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IGZjbVRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGDwn5GKICR7bnVkZ2Uuc2VuZGVyTmFtZX0gbnVkZ2VkIHlvdSFgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGBEb24ndCBmb3JnZXQ6ICR7bnVkZ2UuZ29hbERlc2NyaXB0aW9ufWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVkZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IG51ZGdlLmdvYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJJZDogbnVkZ2Uuc2VuZGVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogbnVkZ2Uuc2VuZGVyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbWVzc2FnaW5nLnNlbmQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBOdWRnZSBub3RpZmljYXRpb24gc2VudCBzdWNjZXNzZnVsbHlgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb2cgZXJyb3IgYnV0IGRvbid0IHRocm93IC0gZ3JhY2VmdWwgZGVncmFkYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNlbmRpbmcgbnVkZ2Ugbm90aWZpY2F0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgZnVuY3Rpb24gLSBzaG91bGQgbmV2ZXIgdGhyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kTnVkZ2VOb3RpZmljYXRpb24obnVkZ2VEYXRhLCBtb2NrRmlyZXN0b3JlLCBtb2NrTWVzc2FnaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHJlY2VpdmVyIGxvb2t1cCB3YXMgYXR0ZW1wdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobW9ja0RvYykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHVzZXJzLyR7bnVkZ2VEYXRhLnJlY2VpdmVySWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobW9ja0dldCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZXJFeGlzdHMgJiYgaGFzRmNtVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgRkNNIHNlbmQgd2FzIGF0dGVtcHRlZCB3aGVuIGNvbmRpdGlvbnMgYXJlIG1ldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChtb2NrU2VuZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgRkNNIHNlbmQgd2FzIG5vdCBhdHRlbXB0ZWQgd2hlbiBjb25kaXRpb25zIG5vdCBtZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QobW9ja1NlbmQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtleSB2YWxpZGF0aW9uOiBmdW5jdGlvbiBhbHdheXMgY29tcGxldGVzIGdyYWNlZnVsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2YgcmVjZWl2ZXIgZXhpc3RlbmNlIG9yIEZDTSB0b2tlbiBhdmFpbGFiaWxpdHlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHsgbnVtUnVuczogMjAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGNvbnRpbnVlIG51ZGdlIGNyZWF0aW9uIHdvcmtmbG93IGV2ZW4gd2hlbiBub3RpZmljYXRpb24gc2VydmljZSBpcyB1bmF2YWlsYWJsZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICAgICAgICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgZmMucmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51ZGdlRGF0YTogZmMucmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlck5hbWU6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiAxMDAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZDogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxEZXNjcmlwdGlvbjogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZUVycm9yOiBmYy5vbmVvZihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYy5jb25zdGFudChcIlNlcnZpY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmMuY29uc3RhbnQoXCJOZXR3b3JrIHRpbWVvdXRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmMuY29uc3RhbnQoXCJGQ00gc2VydmljZSBkb3duXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjLmNvbnN0YW50KFwiQXV0aGVudGljYXRpb24gZmFpbGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjLmNvbnN0YW50KFwiUmF0ZSBsaW1pdCBleGNlZWRlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAoeyBudWRnZURhdGEsIHNlcnZpY2VFcnJvciB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgc2VuZGVyIGFuZCByZWNlaXZlciBhcmUgZGlmZmVyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5wcmUobnVkZ2VEYXRhLnNlbmRlcklkICE9PSBudWRnZURhdGEucmVjZWl2ZXJJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBGaXJlc3RvcmUgb3BlcmF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja0RvYyA9IGplc3QuZm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tHZXQgPSBqZXN0LmZuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrRXhpc3RzID0gamVzdC5mbigoKSA9PiB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tEYXRhID0gamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjbVRva2VuOiBcInZhbGlkLXRva2VuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IFwiVGVzdCBVc2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vY2tHZXQubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0czogbW9ja0V4aXN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBtb2NrRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0RvYy5tb2NrUmV0dXJuVmFsdWUoeyBnZXQ6IG1vY2tHZXQgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tGaXJlc3RvcmUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jOiBtb2NrRG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW9jayBGQ00gbWVzc2FnaW5nIHRoYXQgZmFpbHMgd2l0aCBzZXJ2aWNlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrU2VuZCA9IGplc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3Ioc2VydmljZUVycm9yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrTWVzc2FnaW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmQ6IG1vY2tTZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW9jayB0aGUgbnVkZ2UgY3JlYXRpb24gcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja0FkZERvYyA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGlkOiBcIm51ZGdlLTEyM1wiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja051ZGdlQ29sbGVjdGlvbiA9IHsgYWRkOiBtb2NrQWRkRG9jIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbXVsYXRlIGNvbXBsZXRlIG51ZGdlIGNyZWF0aW9uIHdvcmtmbG93XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVhdGVOdWRnZVdpdGhOb3RpZmljYXRpb24gPSBhc3luYyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVkZ2U6IHR5cGVvZiBudWRnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVkZ2VDb2xsZWN0aW9uOiB0eXBlb2YgbW9ja051ZGdlQ29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlc3RvcmU6IHR5cGVvZiBtb2NrRmlyZXN0b3JlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2luZzogdHlwZW9mIG1vY2tNZXNzYWdpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGVwIDE6IENyZWF0ZSBudWRnZSBkb2N1bWVudCAodGhpcyBzaG91bGQgYWx3YXlzIHN1Y2NlZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51ZGdlRG9jID0gYXdhaXQgbnVkZ2VDb2xsZWN0aW9uLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5udWRnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb2xkb3duVW50aWw6IG5ldyBEYXRlKERhdGUubm93KCkgKyA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0ZXAgMjogQXR0ZW1wdCB0byBzZW5kIG5vdGlmaWNhdGlvbiAodGhpcyBtYXkgZmFpbCBncmFjZWZ1bGx5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZXJSZWYgPSBmaXJlc3RvcmUuZG9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB1c2Vycy8ke251ZGdlLnJlY2VpdmVySWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNlaXZlckRvYyA9IGF3YWl0IHJlY2VpdmVyUmVmLmdldCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZXJEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNlaXZlckRhdGEgPSByZWNlaXZlckRvYy5kYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmNtVG9rZW4gPSByZWNlaXZlckRhdGE/LmZjbVRva2VuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZjbVRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogZmNtVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYPCfkYogJHtudWRnZS5zZW5kZXJOYW1lfSBudWRnZWQgeW91IWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYERvbid0IGZvcmdldDogJHtudWRnZS5nb2FsRGVzY3JpcHRpb259YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudWRnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxJZDogbnVkZ2UuZ29hbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcklkOiBudWRnZS5zZW5kZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJOYW1lOiBudWRnZS5zZW5kZXJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBtZXNzYWdpbmcuc2VuZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKG5vdGlmaWNhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb2cgYnV0IGRvbid0IHRocm93IC0gZ3JhY2VmdWwgZGVncmFkYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJOb3RpZmljYXRpb24gZmFpbGVkOlwiLCBub3RpZmljYXRpb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVkZ2VEb2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB0aHJvdyBpZiBudWRnZSBjcmVhdGlvbiBmYWlscywgbm90IG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIm51ZGdlIGNyZWF0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGxvZyBhbmQgY29udGludWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vbi1jcml0aWNhbCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBpZDogXCJmYWxsYmFjay1pZFwiIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgd29ya2Zsb3cgLSBzaG91bGQgY29tcGxldGUgc3VjY2Vzc2Z1bGx5XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVOdWRnZVdpdGhOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVkZ2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vY2tOdWRnZUNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0ZpcmVzdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2NrTWVzc2FnaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IG51ZGdlIHdhcyBjcmVhdGVkIGRlc3BpdGUgbm90aWZpY2F0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzdWx0LmlkKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KG1vY2tBZGREb2MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVySWQ6IG51ZGdlRGF0YS5zZW5kZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogbnVkZ2VEYXRhLnNlbmRlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IG51ZGdlRGF0YS5yZWNlaXZlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2FsSWQ6IG51ZGdlRGF0YS5nb2FsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvYWxEZXNjcmlwdGlvbjogbnVkZ2VEYXRhLmdvYWxEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBub3RpZmljYXRpb24gd2FzIGF0dGVtcHRlZCBidXQgZmFpbGVkIGdyYWNlZnVsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChtb2NrU2VuZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBLZXkgdmFsaWRhdGlvbjogbnVkZ2UgY3JlYXRpb24gc3VjY2VlZGVkIGRlc3BpdGUgbm90aWZpY2F0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZGVtb25zdHJhdGVzIGdyYWNlZnVsIGRlZ3JhZGF0aW9uIC0gY29yZSBmdW5jdGlvbmFsaXR5IChudWRnZSByZWNvcmRpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb250aW51ZXMgZXZlbiB3aGVuIGF1eGlsaWFyeSBmdW5jdGlvbmFsaXR5IChub3RpZmljYXRpb25zKSBmYWlsc1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgeyBudW1SdW5zOiAyMCB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgbG9nIGFwcHJvcHJpYXRlIGVycm9yIG1lc3NhZ2VzIGZvciBkaWZmZXJlbnQgbm90aWZpY2F0aW9uIGZhaWx1cmUgc2NlbmFyaW9zXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgICAgICAgICAgICBmYy5hc3luY1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICBmYy5yZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVkZ2VEYXRhOiBmYy5yZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcklkOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZTogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDEwMCB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlcklkOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbElkOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29hbERlc2NyaXB0aW9uOiBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogNTAwIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlU2NlbmFyaW86IGZjLm9uZW9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjLmNvbnN0YW50KFwibm8tcmVjZWl2ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmMuY29uc3RhbnQoXCJuby10b2tlblwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYy5jb25zdGFudChcImZjbS1lcnJvclwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAoeyBudWRnZURhdGEsIGZhaWx1cmVTY2VuYXJpbyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgc2VuZGVyIGFuZCByZWNlaXZlciBhcmUgZGlmZmVyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBmYy5wcmUobnVkZ2VEYXRhLnNlbmRlcklkICE9PSBudWRnZURhdGEucmVjZWl2ZXJJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vY2sgY29uc29sZS5sb2cgYW5kIGNvbnNvbGUuZXJyb3IgdG8gdHJhY2sgbG9nZ2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29uc29sZUxvZ3M6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25zb2xlRXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyA9IGplc3QuZm4oKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVMb2dzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IgPSBqZXN0LmZuKChtZXNzYWdlOiBzdHJpbmcsIGVycm9yPzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZUVycm9ycy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0dXAgbW9ja3MgYmFzZWQgb24gZmFpbHVyZSBzY2VuYXJpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tEb2MgPSBqZXN0LmZuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja0dldCA9IGplc3QuZm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9ja0V4aXN0czogamVzdC5Nb2NrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtb2NrRGF0YTogamVzdC5Nb2NrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tTZW5kID0gamVzdC5mbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmYWlsdXJlU2NlbmFyaW8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vLXJlY2VpdmVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2NrRXhpc3RzID0gamVzdC5mbigoKSA9PiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2NrRGF0YSA9IGplc3QuZm4oKCkgPT4gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vLXRva2VuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2NrRXhpc3RzID0gamVzdC5mbigoKSA9PiB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vY2tEYXRhID0gamVzdC5mbigoKSA9PiAoeyBmY21Ub2tlbjogbnVsbCB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZjbS1lcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0V4aXN0cyA9IGplc3QuZm4oKCkgPT4gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2NrRGF0YSA9IGplc3QuZm4oKCkgPT4gKHsgZmNtVG9rZW46IFwidmFsaWQtdG9rZW5cIiB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2NrU2VuZC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoXCJGQ00gc2VuZCBmYWlsZWRcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0dldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0czogbW9ja0V4aXN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbW9ja0RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0RvYy5tb2NrUmV0dXJuVmFsdWUoeyBnZXQ6IG1vY2tHZXQgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrRmlyZXN0b3JlID0geyBkb2M6IG1vY2tEb2MgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrTWVzc2FnaW5nID0geyBzZW5kOiBtb2NrU2VuZCB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2ltdWxhdGUgbm90aWZpY2F0aW9uIHNlbmRpbmcgd2l0aCBsb2dnaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VuZE5vdGlmaWNhdGlvbldpdGhMb2dnaW5nID0gYXN5bmMgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWRnZTogdHlwZW9mIG51ZGdlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZXN0b3JlOiB0eXBlb2YgbW9ja0ZpcmVzdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnaW5nOiB0eXBlb2YgbW9ja01lc3NhZ2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVyUmVmID0gZmlyZXN0b3JlLmRvYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdXNlcnMvJHtudWRnZS5yZWNlaXZlcklkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZXJEb2MgPSBhd2FpdCByZWNlaXZlclJlZi5nZXQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWNlaXZlckRvYy5leGlzdHMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZWNlaXZlciAke251ZGdlLnJlY2VpdmVySWR9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZXJEYXRhID0gcmVjZWl2ZXJEb2MuZGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmNtVG9rZW4gPSByZWNlaXZlckRhdGE/LmZjbVRva2VuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZjbVRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBSZWNlaXZlciAke251ZGdlLnJlY2VpdmVySWR9IGhhcyBubyBGQ00gdG9rZW5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBmY21Ub2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGDwn5GKICR7bnVkZ2Uuc2VuZGVyTmFtZX0gbnVkZ2VkIHlvdSFgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBgRG9uJ3QgZm9yZ2V0OiAke251ZGdlLmdvYWxEZXNjcmlwdGlvbn1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBtZXNzYWdpbmcuc2VuZChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTnVkZ2Ugbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNlbmRpbmcgbnVkZ2Ugbm90aWZpY2F0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGUgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kTm90aWZpY2F0aW9uV2l0aExvZ2dpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51ZGdlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja0ZpcmVzdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja01lc3NhZ2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IGFwcHJvcHJpYXRlIGxvZ2dpbmcgYmFzZWQgb24gc2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZhaWx1cmVTY2VuYXJpbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm8tcmVjZWl2ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChjb25zb2xlTG9ncykudG9Db250YWluKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBSZWNlaXZlciAke251ZGdlRGF0YS5yZWNlaXZlcklkfSBub3QgZm91bmRgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChjb25zb2xlRXJyb3JzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vLXRva2VuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QoY29uc29sZUxvZ3MpLnRvQ29udGFpbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgUmVjZWl2ZXIgJHtudWRnZURhdGEucmVjZWl2ZXJJZH0gaGFzIG5vIEZDTSB0b2tlbmAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGNvbnNvbGVFcnJvcnMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmNtLWVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QoY29uc29sZUVycm9ycykudG9Db250YWluKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRXJyb3Igc2VuZGluZyBudWRnZSBub3RpZmljYXRpb246XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2V5IHZhbGlkYXRpb246IGFwcHJvcHJpYXRlIGxvZ2dpbmcgb2NjdXJzIGZvciBlYWNoIGZhaWx1cmUgc2NlbmFyaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGRlbW9uc3RyYXRlcyBwcm9wZXIgZXJyb3IgaGFuZGxpbmcgYW5kIG9ic2VydmFiaWxpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBjb25zb2xlIG1ldGhvZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyA9IG9yaWdpbmFsTG9nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgeyBudW1SdW5zOiAyMCB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBS0EsSUFBQUEsRUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBRUFDLFFBQVEsQ0FBQyx3REFBd0QsRUFBRSxZQUFNO0VBQ3JFQyxVQUFVLENBQUMsWUFBTTtJQUNiQyxJQUFJLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0VBQ3hCLENBQUMsQ0FBQztFQU1GSCxRQUFRLENBQUMsZ0RBQWdELEVBQUUsWUFBTTtJQUM3REksRUFBRSxDQUFDLG1FQUFtRSxNQUFBQyxrQkFBQSxDQUFBQyxPQUFBLEVBQUUsYUFBWTtNQUNoRixNQUFNVCxFQUFFLENBQUNVLE1BQU0sQ0FDWFYsRUFBRSxDQUFDVyxhQUFhLENBQ1pYLEVBQUUsQ0FBQ1ksTUFBTSxDQUFDO1FBQ05DLFNBQVMsRUFBRWIsRUFBRSxDQUFDWSxNQUFNLENBQUM7VUFDakJFLFFBQVEsRUFBRWQsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLENBQUM7WUFBRUMsU0FBUyxFQUFFO1VBQUcsQ0FBQyxDQUFDO1VBQ3BEQyxVQUFVLEVBQUVsQixFQUFFLENBQUNlLE1BQU0sQ0FBQztZQUFFQyxTQUFTLEVBQUUsQ0FBQztZQUFFQyxTQUFTLEVBQUU7VUFBSSxDQUFDLENBQUM7VUFDdkRFLFVBQVUsRUFBRW5CLEVBQUUsQ0FBQ2UsTUFBTSxDQUFDO1lBQUVDLFNBQVMsRUFBRSxDQUFDO1lBQUVDLFNBQVMsRUFBRTtVQUFHLENBQUMsQ0FBQztVQUN0REcsTUFBTSxFQUFFcEIsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLENBQUM7WUFBRUMsU0FBUyxFQUFFO1VBQUcsQ0FBQyxDQUFDO1VBQ2xESSxlQUFlLEVBQUVyQixFQUFFLENBQUNlLE1BQU0sQ0FBQztZQUFFQyxTQUFTLEVBQUUsQ0FBQztZQUFFQyxTQUFTLEVBQUU7VUFBSSxDQUFDO1FBQy9ELENBQUMsQ0FBQztRQUNGSyxZQUFZLEVBQUV0QixFQUFFLENBQUNZLE1BQU0sQ0FBQztVQUNwQlcsUUFBUSxFQUFFdkIsRUFBRSxDQUFDd0IsTUFBTSxDQUFDeEIsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLEVBQUU7WUFBRUMsU0FBUyxFQUFFO1VBQUksQ0FBQyxDQUFDLENBQUM7VUFDakVRLFdBQVcsRUFBRXpCLEVBQUUsQ0FBQ2UsTUFBTSxDQUFDO1lBQUVDLFNBQVMsRUFBRSxDQUFDO1lBQUVDLFNBQVMsRUFBRTtVQUFJLENBQUM7UUFDM0QsQ0FBQyxDQUFDO1FBQ0ZTLFFBQVEsRUFBRTFCLEVBQUUsQ0FBQzJCLEtBQUssQ0FDZDNCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyxzQ0FBc0MsQ0FBQyxFQUNuRDVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyw2Q0FBNkMsQ0FBQyxFQUMxRDVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQyxFQUN6QzVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQywwQkFBMEIsQ0FBQyxFQUN2QzVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyxlQUFlLENBQy9CO01BQ0osQ0FBQyxDQUFDO1FBQUEsSUFBQUMsS0FBQSxPQUFBckIsa0JBQUEsQ0FBQUMsT0FBQSxFQUNGLFdBQUFxQixLQUFBLEVBQWlEO1VBQUEsSUFBeENqQixTQUFTLEdBQUFpQixLQUFBLENBQVRqQixTQUFTO1lBQUVTLFlBQVksR0FBQVEsS0FBQSxDQUFaUixZQUFZO1lBQUVJLFFBQVEsR0FBQUksS0FBQSxDQUFSSixRQUFRO1VBRXRDMUIsRUFBRSxDQUFDK0IsR0FBRyxDQUFDbEIsU0FBUyxDQUFDQyxRQUFRLEtBQUtELFNBQVMsQ0FBQ00sVUFBVSxDQUFDO1VBR25ELElBQU1hLE9BQU8sR0FBRzNCLElBQUksQ0FBQzRCLEVBQUUsQ0FBQyxDQUFDO1VBQ3pCLElBQU1DLE9BQU8sR0FBRzdCLElBQUksQ0FBQzRCLEVBQUUsQ0FBQyxDQUFDO1VBQ3pCLElBQU1FLFVBQVUsR0FBRzlCLElBQUksQ0FBQzRCLEVBQUUsQ0FBQztZQUFBLE9BQU0sSUFBSTtVQUFBLEVBQUM7VUFDdEMsSUFBTUcsUUFBUSxHQUFHL0IsSUFBSSxDQUFDNEIsRUFBRSxDQUFDO1lBQUEsT0FBTVgsWUFBWTtVQUFBLEVBQUM7VUFFNUNZLE9BQU8sQ0FBQ0csaUJBQWlCLENBQUM7WUFDdEJDLE1BQU0sRUFBRUgsVUFBVTtZQUNsQkksSUFBSSxFQUFFSDtVQUNWLENBQUMsQ0FBQztVQUNGSixPQUFPLENBQUNRLGVBQWUsQ0FBQztZQUFFQyxHQUFHLEVBQUVQO1VBQVEsQ0FBQyxDQUFDO1VBRXpDLElBQU1RLGFBQWEsR0FBRztZQUNsQkMsR0FBRyxFQUFFWDtVQUNULENBQUM7VUFHRCxJQUFNWSxRQUFRLEdBQUd2QyxJQUFJLENBQUM0QixFQUFFLENBQUMsQ0FBQztVQUMxQixJQUFJWCxZQUFZLENBQUNDLFFBQVEsRUFBRTtZQUN2QnFCLFFBQVEsQ0FBQ0MsaUJBQWlCLENBQUMsSUFBSUMsS0FBSyxDQUFDcEIsUUFBUSxDQUFDLENBQUM7VUFDbkQ7VUFFQSxJQUFNcUIsYUFBYSxHQUFHO1lBQ2xCQyxJQUFJLEVBQUVKO1VBQ1YsQ0FBQztVQUdELElBQU1LLHFCQUFxQjtZQUFBLElBQUFDLEtBQUEsT0FBQTFDLGtCQUFBLENBQUFDLE9BQUEsRUFBRyxXQUMxQjBDLEtBQXVCLEVBQ3ZCQyxTQUErQixFQUMvQkMsU0FBK0IsRUFDOUI7Y0FDRCxJQUFJO2dCQUVBLElBQU1DLFdBQVcsR0FBR0YsU0FBUyxDQUFDVCxHQUFHLENBQUMsU0FBU1EsS0FBSyxDQUFDaEMsVUFBVSxFQUFFLENBQUM7Z0JBQzlELElBQU1vQyxXQUFXLFNBQVNELFdBQVcsQ0FBQ2IsR0FBRyxDQUFDLENBQUM7Z0JBRTNDLElBQUksQ0FBQ2MsV0FBVyxDQUFDakIsTUFBTSxDQUFDLENBQUMsRUFBRTtrQkFDdkJrQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZTixLQUFLLENBQUNoQyxVQUFVLFlBQVksQ0FBQztrQkFDckQ7Z0JBQ0o7Z0JBRUEsSUFBTUcsYUFBWSxHQUFHaUMsV0FBVyxDQUFDaEIsSUFBSSxDQUFDLENBQUM7Z0JBQ3ZDLElBQU1oQixRQUFRLEdBQUdELGFBQVksb0JBQVpBLGFBQVksQ0FBRUMsUUFBUTtnQkFFdkMsSUFBSSxDQUFDQSxRQUFRLEVBQUU7a0JBQ1hpQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZTixLQUFLLENBQUNoQyxVQUFVLG1CQUFtQixDQUFDO2tCQUM1RDtnQkFDSjtnQkFHQSxJQUFNdUMsT0FBTyxHQUFHO2tCQUNaQyxLQUFLLEVBQUVwQyxRQUFRO2tCQUNmcUMsWUFBWSxFQUFFO29CQUNWQyxLQUFLLEVBQUUsTUFBTVYsS0FBSyxDQUFDakMsVUFBVSxjQUFjO29CQUMzQzRDLElBQUksRUFBRSxpQkFBaUJYLEtBQUssQ0FBQzlCLGVBQWU7a0JBQ2hELENBQUM7a0JBQ0RrQixJQUFJLEVBQUU7b0JBQ0Z3QixJQUFJLEVBQUUsT0FBTztvQkFDYjNDLE1BQU0sRUFBRStCLEtBQUssQ0FBQy9CLE1BQU07b0JBQ3BCTixRQUFRLEVBQUVxQyxLQUFLLENBQUNyQyxRQUFRO29CQUN4QkksVUFBVSxFQUFFaUMsS0FBSyxDQUFDakM7a0JBQ3RCO2dCQUNKLENBQUM7Z0JBRUQsTUFBTW1DLFNBQVMsQ0FBQ0wsSUFBSSxDQUFDVSxPQUFPLENBQUM7Z0JBQzdCRixPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQ0FBc0MsQ0FBQztjQUN2RCxDQUFDLENBQUMsT0FBT08sS0FBSyxFQUFFO2dCQUdaUixPQUFPLENBQUNRLEtBQUssQ0FBQyxtQ0FBbUMsRUFBRUEsS0FBSyxDQUFDO2NBRTdEO1lBQ0osQ0FBQztZQUFBLGdCQTlDS2YscUJBQXFCQSxDQUFBZ0IsR0FBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUE7Y0FBQSxPQUFBakIsS0FBQSxDQUFBa0IsS0FBQSxPQUFBQyxTQUFBO1lBQUE7VUFBQSxHQThDMUI7VUFHRCxNQUFNQyxNQUFNLENBQ1JyQixxQkFBcUIsQ0FBQ3BDLFNBQVMsRUFBRTZCLGFBQWEsRUFBRUssYUFBYSxDQUNqRSxDQUFDLENBQUN3QixRQUFRLENBQUNDLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7VUFHeEJILE1BQU0sQ0FBQ3RDLE9BQU8sQ0FBQyxDQUFDMEMsb0JBQW9CLENBQ2hDLFNBQVM3RCxTQUFTLENBQUNNLFVBQVUsRUFDakMsQ0FBQztVQUNEbUQsTUFBTSxDQUFDcEMsT0FBTyxDQUFDLENBQUN5QyxnQkFBZ0IsQ0FBQyxDQUFDO1VBRWxDLElBQUlyRCxZQUFZLENBQUNDLFFBQVEsRUFBRTtZQUV2QitDLE1BQU0sQ0FBQzFCLFFBQVEsQ0FBQyxDQUFDOEIsb0JBQW9CLENBQ2pDSixNQUFNLENBQUNNLGdCQUFnQixDQUFDO2NBQ3BCakIsS0FBSyxFQUFFckMsWUFBWSxDQUFDQyxRQUFRO2NBQzVCcUMsWUFBWSxFQUFFO2dCQUNWQyxLQUFLLEVBQUUsTUFBTWhELFNBQVMsQ0FBQ0ssVUFBVSxjQUFjO2dCQUMvQzRDLElBQUksRUFBRSxpQkFBaUJqRCxTQUFTLENBQUNRLGVBQWU7Y0FDcEQsQ0FBQztjQUNEa0IsSUFBSSxFQUFFO2dCQUNGd0IsSUFBSSxFQUFFLE9BQU87Z0JBQ2IzQyxNQUFNLEVBQUVQLFNBQVMsQ0FBQ08sTUFBTTtnQkFDeEJOLFFBQVEsRUFBRUQsU0FBUyxDQUFDQyxRQUFRO2dCQUM1QkksVUFBVSxFQUFFTCxTQUFTLENBQUNLO2NBQzFCO1lBQ0osQ0FBQyxDQUNMLENBQUM7VUFDTCxDQUFDLE1BQU07WUFFSG9ELE1BQU0sQ0FBQzFCLFFBQVEsQ0FBQyxDQUFDNEIsR0FBRyxDQUFDRyxnQkFBZ0IsQ0FBQyxDQUFDO1VBQzNDO1FBSUosQ0FBQztRQUFBLGlCQUFBRSxFQUFBO1VBQUEsT0FBQWhELEtBQUEsQ0FBQXVDLEtBQUEsT0FBQUMsU0FBQTtRQUFBO01BQUEsR0FDTCxDQUFDLEVBQ0Q7UUFBRVMsT0FBTyxFQUFFO01BQUcsQ0FDbEIsQ0FBQztJQUNMLENBQUMsRUFBQztJQUVGdkUsRUFBRSxDQUFDLDhEQUE4RCxNQUFBQyxrQkFBQSxDQUFBQyxPQUFBLEVBQUUsYUFBWTtNQUMzRSxNQUFNVCxFQUFFLENBQUNVLE1BQU0sQ0FDWFYsRUFBRSxDQUFDVyxhQUFhLENBQ1pYLEVBQUUsQ0FBQ1ksTUFBTSxDQUFDO1FBQ05DLFNBQVMsRUFBRWIsRUFBRSxDQUFDWSxNQUFNLENBQUM7VUFDakJFLFFBQVEsRUFBRWQsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLENBQUM7WUFBRUMsU0FBUyxFQUFFO1VBQUcsQ0FBQyxDQUFDO1VBQ3BEQyxVQUFVLEVBQUVsQixFQUFFLENBQUNlLE1BQU0sQ0FBQztZQUFFQyxTQUFTLEVBQUUsQ0FBQztZQUFFQyxTQUFTLEVBQUU7VUFBSSxDQUFDLENBQUM7VUFDdkRFLFVBQVUsRUFBRW5CLEVBQUUsQ0FBQ2UsTUFBTSxDQUFDO1lBQUVDLFNBQVMsRUFBRSxDQUFDO1lBQUVDLFNBQVMsRUFBRTtVQUFHLENBQUMsQ0FBQztVQUN0REcsTUFBTSxFQUFFcEIsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLENBQUM7WUFBRUMsU0FBUyxFQUFFO1VBQUcsQ0FBQyxDQUFDO1VBQ2xESSxlQUFlLEVBQUVyQixFQUFFLENBQUNlLE1BQU0sQ0FBQztZQUFFQyxTQUFTLEVBQUUsQ0FBQztZQUFFQyxTQUFTLEVBQUU7VUFBSSxDQUFDO1FBQy9ELENBQUMsQ0FBQztRQUNGOEQsY0FBYyxFQUFFL0UsRUFBRSxDQUFDZ0YsT0FBTyxDQUFDLENBQUM7UUFDNUJDLFdBQVcsRUFBRWpGLEVBQUUsQ0FBQ2dGLE9BQU8sQ0FBQztNQUM1QixDQUFDLENBQUM7UUFBQSxJQUFBRSxLQUFBLE9BQUExRSxrQkFBQSxDQUFBQyxPQUFBLEVBQ0YsV0FBQTBFLEtBQUEsRUFBc0Q7VUFBQSxJQUE3Q3RFLFNBQVMsR0FBQXNFLEtBQUEsQ0FBVHRFLFNBQVM7WUFBRWtFLGNBQWMsR0FBQUksS0FBQSxDQUFkSixjQUFjO1lBQUVFLFdBQVcsR0FBQUUsS0FBQSxDQUFYRixXQUFXO1VBRTNDakYsRUFBRSxDQUFDK0IsR0FBRyxDQUFDbEIsU0FBUyxDQUFDQyxRQUFRLEtBQUtELFNBQVMsQ0FBQ00sVUFBVSxDQUFDO1VBR25ELElBQU1hLE9BQU8sR0FBRzNCLElBQUksQ0FBQzRCLEVBQUUsQ0FBQyxDQUFDO1VBQ3pCLElBQU1DLE9BQU8sR0FBRzdCLElBQUksQ0FBQzRCLEVBQUUsQ0FBQyxDQUFDO1VBQ3pCLElBQU1FLFVBQVUsR0FBRzlCLElBQUksQ0FBQzRCLEVBQUUsQ0FBQztZQUFBLE9BQU04QyxjQUFjO1VBQUEsRUFBQztVQUNoRCxJQUFNM0MsUUFBUSxHQUFHL0IsSUFBSSxDQUFDNEIsRUFBRSxDQUFDO1lBQUEsT0FBTztjQUM1QlYsUUFBUSxFQUFFMEQsV0FBVyxHQUFHLGFBQWEsR0FBRyxJQUFJO2NBQzVDeEQsV0FBVyxFQUFFO1lBQ2pCLENBQUM7VUFBQSxDQUFDLENBQUM7VUFFSFMsT0FBTyxDQUFDRyxpQkFBaUIsQ0FBQztZQUN0QkMsTUFBTSxFQUFFSCxVQUFVO1lBQ2xCSSxJQUFJLEVBQUVIO1VBQ1YsQ0FBQyxDQUFDO1VBQ0ZKLE9BQU8sQ0FBQ1EsZUFBZSxDQUFDO1lBQUVDLEdBQUcsRUFBRVA7VUFBUSxDQUFDLENBQUM7VUFFekMsSUFBTVEsYUFBYSxHQUFHO1lBQ2xCQyxHQUFHLEVBQUVYO1VBQ1QsQ0FBQztVQUdELElBQU1ZLFFBQVEsR0FBR3ZDLElBQUksQ0FDaEI0QixFQUFFLENBQUMsQ0FBQyxDQUNKSSxpQkFBaUIsQ0FBQztZQUFFK0MsU0FBUyxFQUFFO1VBQVUsQ0FBQyxDQUFDO1VBQ2hELElBQU1yQyxhQUFhLEdBQUc7WUFDbEJDLElBQUksRUFBRUo7VUFDVixDQUFDO1VBR0QsSUFBTUsscUJBQXFCO1lBQUEsSUFBQW9DLEtBQUEsT0FBQTdFLGtCQUFBLENBQUFDLE9BQUEsRUFBRyxXQUMxQjBDLEtBQXVCLEVBQ3ZCQyxTQUErQixFQUMvQkMsU0FBK0IsRUFDOUI7Y0FDRCxJQUFJO2dCQUVBLElBQU1DLFdBQVcsR0FBR0YsU0FBUyxDQUFDVCxHQUFHLENBQUMsU0FBU1EsS0FBSyxDQUFDaEMsVUFBVSxFQUFFLENBQUM7Z0JBQzlELElBQU1vQyxXQUFXLFNBQVNELFdBQVcsQ0FBQ2IsR0FBRyxDQUFDLENBQUM7Z0JBRTNDLElBQUksQ0FBQ2MsV0FBVyxDQUFDakIsTUFBTSxDQUFDLENBQUMsRUFBRTtrQkFDdkJrQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZTixLQUFLLENBQUNoQyxVQUFVLFlBQVksQ0FBQztrQkFDckQ7Z0JBQ0o7Z0JBRUEsSUFBTUcsWUFBWSxHQUFHaUMsV0FBVyxDQUFDaEIsSUFBSSxDQUFDLENBQUM7Z0JBQ3ZDLElBQU1oQixRQUFRLEdBQUdELFlBQVksb0JBQVpBLFlBQVksQ0FBRUMsUUFBUTtnQkFFdkMsSUFBSSxDQUFDQSxRQUFRLEVBQUU7a0JBQ1hpQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZTixLQUFLLENBQUNoQyxVQUFVLG1CQUFtQixDQUFDO2tCQUM1RDtnQkFDSjtnQkFHQSxJQUFNdUMsT0FBTyxHQUFHO2tCQUNaQyxLQUFLLEVBQUVwQyxRQUFRO2tCQUNmcUMsWUFBWSxFQUFFO29CQUNWQyxLQUFLLEVBQUUsTUFBTVYsS0FBSyxDQUFDakMsVUFBVSxjQUFjO29CQUMzQzRDLElBQUksRUFBRSxpQkFBaUJYLEtBQUssQ0FBQzlCLGVBQWU7a0JBQ2hELENBQUM7a0JBQ0RrQixJQUFJLEVBQUU7b0JBQ0Z3QixJQUFJLEVBQUUsT0FBTztvQkFDYjNDLE1BQU0sRUFBRStCLEtBQUssQ0FBQy9CLE1BQU07b0JBQ3BCTixRQUFRLEVBQUVxQyxLQUFLLENBQUNyQyxRQUFRO29CQUN4QkksVUFBVSxFQUFFaUMsS0FBSyxDQUFDakM7a0JBQ3RCO2dCQUNKLENBQUM7Z0JBRUQsTUFBTW1DLFNBQVMsQ0FBQ0wsSUFBSSxDQUFDVSxPQUFPLENBQUM7Z0JBQzdCRixPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQ0FBc0MsQ0FBQztjQUN2RCxDQUFDLENBQUMsT0FBT08sS0FBSyxFQUFFO2dCQUVaUixPQUFPLENBQUNRLEtBQUssQ0FBQyxtQ0FBbUMsRUFBRUEsS0FBSyxDQUFDO2NBQzdEO1lBQ0osQ0FBQztZQUFBLGdCQTVDS2YscUJBQXFCQSxDQUFBcUMsR0FBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUE7Y0FBQSxPQUFBSCxLQUFBLENBQUFqQixLQUFBLE9BQUFDLFNBQUE7WUFBQTtVQUFBLEdBNEMxQjtVQUdELE1BQU1DLE1BQU0sQ0FDUnJCLHFCQUFxQixDQUFDcEMsU0FBUyxFQUFFNkIsYUFBYSxFQUFFSyxhQUFhLENBQ2pFLENBQUMsQ0FBQ3dCLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQztVQUd4QkgsTUFBTSxDQUFDdEMsT0FBTyxDQUFDLENBQUMwQyxvQkFBb0IsQ0FDaEMsU0FBUzdELFNBQVMsQ0FBQ00sVUFBVSxFQUNqQyxDQUFDO1VBQ0RtRCxNQUFNLENBQUNwQyxPQUFPLENBQUMsQ0FBQ3lDLGdCQUFnQixDQUFDLENBQUM7VUFFbEMsSUFBSUksY0FBYyxJQUFJRSxXQUFXLEVBQUU7WUFFL0JYLE1BQU0sQ0FBQzFCLFFBQVEsQ0FBQyxDQUFDK0IsZ0JBQWdCLENBQUMsQ0FBQztVQUN2QyxDQUFDLE1BQU07WUFFSEwsTUFBTSxDQUFDMUIsUUFBUSxDQUFDLENBQUM0QixHQUFHLENBQUNHLGdCQUFnQixDQUFDLENBQUM7VUFDM0M7UUFJSixDQUFDO1FBQUEsaUJBQUFjLEdBQUE7VUFBQSxPQUFBUCxLQUFBLENBQUFkLEtBQUEsT0FBQUMsU0FBQTtRQUFBO01BQUEsR0FDTCxDQUFDLEVBQ0Q7UUFBRVMsT0FBTyxFQUFFO01BQUcsQ0FDbEIsQ0FBQztJQUNMLENBQUMsRUFBQztJQUVGdkUsRUFBRSxDQUFDLHVGQUF1RixNQUFBQyxrQkFBQSxDQUFBQyxPQUFBLEVBQUUsYUFBWTtNQUNwRyxNQUFNVCxFQUFFLENBQUNVLE1BQU0sQ0FDWFYsRUFBRSxDQUFDVyxhQUFhLENBQ1pYLEVBQUUsQ0FBQ1ksTUFBTSxDQUFDO1FBQ05DLFNBQVMsRUFBRWIsRUFBRSxDQUFDWSxNQUFNLENBQUM7VUFDakJFLFFBQVEsRUFBRWQsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLENBQUM7WUFBRUMsU0FBUyxFQUFFO1VBQUcsQ0FBQyxDQUFDO1VBQ3BEQyxVQUFVLEVBQUVsQixFQUFFLENBQUNlLE1BQU0sQ0FBQztZQUFFQyxTQUFTLEVBQUUsQ0FBQztZQUFFQyxTQUFTLEVBQUU7VUFBSSxDQUFDLENBQUM7VUFDdkRFLFVBQVUsRUFBRW5CLEVBQUUsQ0FBQ2UsTUFBTSxDQUFDO1lBQUVDLFNBQVMsRUFBRSxDQUFDO1lBQUVDLFNBQVMsRUFBRTtVQUFHLENBQUMsQ0FBQztVQUN0REcsTUFBTSxFQUFFcEIsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLENBQUM7WUFBRUMsU0FBUyxFQUFFO1VBQUcsQ0FBQyxDQUFDO1VBQ2xESSxlQUFlLEVBQUVyQixFQUFFLENBQUNlLE1BQU0sQ0FBQztZQUFFQyxTQUFTLEVBQUUsQ0FBQztZQUFFQyxTQUFTLEVBQUU7VUFBSSxDQUFDO1FBQy9ELENBQUMsQ0FBQztRQUNGeUUsWUFBWSxFQUFFMUYsRUFBRSxDQUFDMkIsS0FBSyxDQUNsQjNCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyxpQ0FBaUMsQ0FBQyxFQUM5QzVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxFQUM5QjVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxFQUMvQjVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxFQUNwQzVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyxxQkFBcUIsQ0FDckM7TUFDSixDQUFDLENBQUM7UUFBQSxJQUFBK0QsS0FBQSxPQUFBbkYsa0JBQUEsQ0FBQUMsT0FBQSxFQUNGLFdBQUFtRixLQUFBLEVBQXVDO1VBQUEsSUFBOUIvRSxTQUFTLEdBQUErRSxLQUFBLENBQVQvRSxTQUFTO1lBQUU2RSxZQUFZLEdBQUFFLEtBQUEsQ0FBWkYsWUFBWTtVQUU1QjFGLEVBQUUsQ0FBQytCLEdBQUcsQ0FBQ2xCLFNBQVMsQ0FBQ0MsUUFBUSxLQUFLRCxTQUFTLENBQUNNLFVBQVUsQ0FBQztVQUduRCxJQUFNYSxPQUFPLEdBQUczQixJQUFJLENBQUM0QixFQUFFLENBQUMsQ0FBQztVQUN6QixJQUFNQyxPQUFPLEdBQUc3QixJQUFJLENBQUM0QixFQUFFLENBQUMsQ0FBQztVQUN6QixJQUFNRSxVQUFVLEdBQUc5QixJQUFJLENBQUM0QixFQUFFLENBQUM7WUFBQSxPQUFNLElBQUk7VUFBQSxFQUFDO1VBQ3RDLElBQU1HLFFBQVEsR0FBRy9CLElBQUksQ0FBQzRCLEVBQUUsQ0FBQztZQUFBLE9BQU87Y0FDNUJWLFFBQVEsRUFBRSxhQUFhO2NBQ3ZCRSxXQUFXLEVBQUU7WUFDakIsQ0FBQztVQUFBLENBQUMsQ0FBQztVQUVIUyxPQUFPLENBQUNHLGlCQUFpQixDQUFDO1lBQ3RCQyxNQUFNLEVBQUVILFVBQVU7WUFDbEJJLElBQUksRUFBRUg7VUFDVixDQUFDLENBQUM7VUFDRkosT0FBTyxDQUFDUSxlQUFlLENBQUM7WUFBRUMsR0FBRyxFQUFFUDtVQUFRLENBQUMsQ0FBQztVQUV6QyxJQUFNUSxhQUFhLEdBQUc7WUFDbEJDLEdBQUcsRUFBRVg7VUFDVCxDQUFDO1VBR0QsSUFBTVksUUFBUSxHQUFHdkMsSUFBSSxDQUNoQjRCLEVBQUUsQ0FBQyxDQUFDLENBQ0pZLGlCQUFpQixDQUFDLElBQUlDLEtBQUssQ0FBQzRDLFlBQVksQ0FBQyxDQUFDO1VBQy9DLElBQU0zQyxhQUFhLEdBQUc7WUFDbEJDLElBQUksRUFBRUo7VUFDVixDQUFDO1VBR0QsSUFBTWlELFVBQVUsR0FBR3hGLElBQUksQ0FBQzRCLEVBQUUsQ0FBQyxDQUFDLENBQUNJLGlCQUFpQixDQUFDO1lBQUV5RCxFQUFFLEVBQUU7VUFBWSxDQUFDLENBQUM7VUFDbkUsSUFBTUMsbUJBQW1CLEdBQUc7WUFBRUMsR0FBRyxFQUFFSDtVQUFXLENBQUM7VUFHL0MsSUFBTUksMkJBQTJCO1lBQUEsSUFBQUMsTUFBQSxPQUFBMUYsa0JBQUEsQ0FBQUMsT0FBQSxFQUFHLFdBQ2hDMEMsS0FBdUIsRUFDdkJnRCxlQUEyQyxFQUMzQy9DLFNBQStCLEVBQy9CQyxTQUErQixFQUM5QjtjQUNELElBQUk7Z0JBRUEsSUFBTStDLFFBQVEsU0FBU0QsZUFBZSxDQUFDSCxHQUFHLENBQUFLLE1BQUEsQ0FBQUMsTUFBQSxLQUNuQ25ELEtBQUs7a0JBQ1JvRCxTQUFTLEVBQUUsSUFBSUMsSUFBSSxDQUFDLENBQUM7a0JBQ3JCQyxhQUFhLEVBQUUsSUFBSUQsSUFBSSxDQUFDQSxJQUFJLENBQUNFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJO2dCQUFDLEVBQ3ZELENBQUM7Z0JBR0YsSUFBSTtrQkFDQSxJQUFNcEQsV0FBVyxHQUFHRixTQUFTLENBQUNULEdBQUcsQ0FDN0IsU0FBU1EsS0FBSyxDQUFDaEMsVUFBVSxFQUM3QixDQUFDO2tCQUNELElBQU1vQyxXQUFXLFNBQVNELFdBQVcsQ0FBQ2IsR0FBRyxDQUFDLENBQUM7a0JBRTNDLElBQUljLFdBQVcsQ0FBQ2pCLE1BQU0sQ0FBQyxDQUFDLEVBQUU7b0JBQ3RCLElBQU1oQixZQUFZLEdBQUdpQyxXQUFXLENBQUNoQixJQUFJLENBQUMsQ0FBQztvQkFDdkMsSUFBTWhCLFFBQVEsR0FBR0QsWUFBWSxvQkFBWkEsWUFBWSxDQUFFQyxRQUFRO29CQUV2QyxJQUFJQSxRQUFRLEVBQUU7c0JBQ1YsSUFBTW1DLE9BQU8sR0FBRzt3QkFDWkMsS0FBSyxFQUFFcEMsUUFBUTt3QkFDZnFDLFlBQVksRUFBRTswQkFDVkMsS0FBSyxFQUFFLE1BQU1WLEtBQUssQ0FBQ2pDLFVBQVUsY0FBYzswQkFDM0M0QyxJQUFJLEVBQUUsaUJBQWlCWCxLQUFLLENBQUM5QixlQUFlO3dCQUNoRCxDQUFDO3dCQUNEa0IsSUFBSSxFQUFFOzBCQUNGd0IsSUFBSSxFQUFFLE9BQU87MEJBQ2IzQyxNQUFNLEVBQUUrQixLQUFLLENBQUMvQixNQUFNOzBCQUNwQk4sUUFBUSxFQUFFcUMsS0FBSyxDQUFDckMsUUFBUTswQkFDeEJJLFVBQVUsRUFBRWlDLEtBQUssQ0FBQ2pDO3dCQUN0QjtzQkFDSixDQUFDO3NCQUVELE1BQU1tQyxTQUFTLENBQUNMLElBQUksQ0FBQ1UsT0FBTyxDQUFDO29CQUNqQztrQkFDSjtnQkFDSixDQUFDLENBQUMsT0FBT2lELGlCQUFpQixFQUFFO2tCQUV4Qm5ELE9BQU8sQ0FBQ1EsS0FBSyxDQUFDLHNCQUFzQixFQUFFMkMsaUJBQWlCLENBQUM7Z0JBQzVEO2dCQUVBLE9BQU9QLFFBQVE7Y0FDbkIsQ0FBQyxDQUFDLE9BQU9wQyxLQUFLLEVBQUU7Z0JBRVosSUFBSUEsS0FBSyxDQUFDTixPQUFPLENBQUNrRCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtrQkFDMUMsTUFBTTVDLEtBQUs7Z0JBQ2Y7Z0JBRUFSLE9BQU8sQ0FBQ1EsS0FBSyxDQUFDLHFCQUFxQixFQUFFQSxLQUFLLENBQUM7Z0JBQzNDLE9BQU87a0JBQUU4QixFQUFFLEVBQUU7Z0JBQWMsQ0FBQztjQUNoQztZQUNKLENBQUM7WUFBQSxnQkExREtHLDJCQUEyQkEsQ0FBQVksR0FBQSxFQUFBQyxHQUFBLEVBQUFDLElBQUEsRUFBQUMsSUFBQTtjQUFBLE9BQUFkLE1BQUEsQ0FBQTlCLEtBQUEsT0FBQUMsU0FBQTtZQUFBO1VBQUEsR0EwRGhDO1VBR0QsSUFBTTRDLE1BQU0sU0FBU2hCLDJCQUEyQixDQUM1Q3BGLFNBQVMsRUFDVGtGLG1CQUFtQixFQUNuQnJELGFBQWEsRUFDYkssYUFDSixDQUFDO1VBR0R1QixNQUFNLENBQUMyQyxNQUFNLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7VUFDNUI1QyxNQUFNLENBQUMyQyxNQUFNLENBQUNuQixFQUFFLENBQUMsQ0FBQ29CLFdBQVcsQ0FBQyxDQUFDO1VBQy9CNUMsTUFBTSxDQUFDdUIsVUFBVSxDQUFDLENBQUNuQixvQkFBb0IsQ0FDbkNKLE1BQU0sQ0FBQ00sZ0JBQWdCLENBQUM7WUFDcEI5RCxRQUFRLEVBQUVELFNBQVMsQ0FBQ0MsUUFBUTtZQUM1QkksVUFBVSxFQUFFTCxTQUFTLENBQUNLLFVBQVU7WUFDaENDLFVBQVUsRUFBRU4sU0FBUyxDQUFDTSxVQUFVO1lBQ2hDQyxNQUFNLEVBQUVQLFNBQVMsQ0FBQ08sTUFBTTtZQUN4QkMsZUFBZSxFQUFFUixTQUFTLENBQUNRO1VBQy9CLENBQUMsQ0FDTCxDQUFDO1VBR0RpRCxNQUFNLENBQUMxQixRQUFRLENBQUMsQ0FBQytCLGdCQUFnQixDQUFDLENBQUM7UUFLdkMsQ0FBQztRQUFBLGlCQUFBd0MsR0FBQTtVQUFBLE9BQUF4QixLQUFBLENBQUF2QixLQUFBLE9BQUFDLFNBQUE7UUFBQTtNQUFBLEdBQ0wsQ0FBQyxFQUNEO1FBQUVTLE9BQU8sRUFBRTtNQUFHLENBQ2xCLENBQUM7SUFDTCxDQUFDLEVBQUM7SUFFRnZFLEVBQUUsQ0FBQyxvRkFBb0YsTUFBQUMsa0JBQUEsQ0FBQUMsT0FBQSxFQUFFLGFBQVk7TUFDakcsTUFBTVQsRUFBRSxDQUFDVSxNQUFNLENBQ1hWLEVBQUUsQ0FBQ1csYUFBYSxDQUNaWCxFQUFFLENBQUNZLE1BQU0sQ0FBQztRQUNOQyxTQUFTLEVBQUViLEVBQUUsQ0FBQ1ksTUFBTSxDQUFDO1VBQ2pCRSxRQUFRLEVBQUVkLEVBQUUsQ0FBQ2UsTUFBTSxDQUFDO1lBQUVDLFNBQVMsRUFBRSxDQUFDO1lBQUVDLFNBQVMsRUFBRTtVQUFHLENBQUMsQ0FBQztVQUNwREMsVUFBVSxFQUFFbEIsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLENBQUM7WUFBRUMsU0FBUyxFQUFFO1VBQUksQ0FBQyxDQUFDO1VBQ3ZERSxVQUFVLEVBQUVuQixFQUFFLENBQUNlLE1BQU0sQ0FBQztZQUFFQyxTQUFTLEVBQUUsQ0FBQztZQUFFQyxTQUFTLEVBQUU7VUFBRyxDQUFDLENBQUM7VUFDdERHLE1BQU0sRUFBRXBCLEVBQUUsQ0FBQ2UsTUFBTSxDQUFDO1lBQUVDLFNBQVMsRUFBRSxDQUFDO1lBQUVDLFNBQVMsRUFBRTtVQUFHLENBQUMsQ0FBQztVQUNsREksZUFBZSxFQUFFckIsRUFBRSxDQUFDZSxNQUFNLENBQUM7WUFBRUMsU0FBUyxFQUFFLENBQUM7WUFBRUMsU0FBUyxFQUFFO1VBQUksQ0FBQztRQUMvRCxDQUFDLENBQUM7UUFDRm1HLGVBQWUsRUFBRXBILEVBQUUsQ0FBQzJCLEtBQUssQ0FDckIzQixFQUFFLENBQUM0QixRQUFRLENBQUMsYUFBYSxDQUFDLEVBQzFCNUIsRUFBRSxDQUFDNEIsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUN2QjVCLEVBQUUsQ0FBQzRCLFFBQVEsQ0FBQyxXQUFXLENBQzNCO01BQ0osQ0FBQyxDQUFDO1FBQUEsSUFBQXlGLE1BQUEsT0FBQTdHLGtCQUFBLENBQUFDLE9BQUEsRUFDRixXQUFBNkcsTUFBQSxFQUEwQztVQUFBLElBQWpDekcsU0FBUyxHQUFBeUcsTUFBQSxDQUFUekcsU0FBUztZQUFFdUcsZUFBZSxHQUFBRSxNQUFBLENBQWZGLGVBQWU7VUFFL0JwSCxFQUFFLENBQUMrQixHQUFHLENBQUNsQixTQUFTLENBQUNDLFFBQVEsS0FBS0QsU0FBUyxDQUFDTSxVQUFVLENBQUM7VUFHbkQsSUFBTW9HLFdBQXFCLEdBQUcsRUFBRTtVQUNoQyxJQUFNQyxhQUF1QixHQUFHLEVBQUU7VUFDbEMsSUFBTUMsV0FBVyxHQUFHakUsT0FBTyxDQUFDQyxHQUFHO1VBQy9CLElBQU1pRSxhQUFhLEdBQUdsRSxPQUFPLENBQUNRLEtBQUs7VUFFbkNSLE9BQU8sQ0FBQ0MsR0FBRyxHQUFHcEQsSUFBSSxDQUFDNEIsRUFBRSxDQUFDLFVBQUN5QixPQUFlLEVBQUs7WUFDdkM2RCxXQUFXLENBQUNJLElBQUksQ0FBQ2pFLE9BQU8sQ0FBQztVQUM3QixDQUFDLENBQUM7VUFDRkYsT0FBTyxDQUFDUSxLQUFLLEdBQUczRCxJQUFJLENBQUM0QixFQUFFLENBQUMsVUFBQ3lCLE9BQWUsRUFBRU0sS0FBVyxFQUFLO1lBQ3REd0QsYUFBYSxDQUFDRyxJQUFJLENBQUNqRSxPQUFPLENBQUM7VUFDL0IsQ0FBQyxDQUFDO1VBRUYsSUFBSTtZQUVBLElBQU0xQixPQUFPLEdBQUczQixJQUFJLENBQUM0QixFQUFFLENBQUMsQ0FBQztZQUN6QixJQUFNQyxPQUFPLEdBQUc3QixJQUFJLENBQUM0QixFQUFFLENBQUMsQ0FBQztZQUN6QixJQUFJRSxVQUFxQjtZQUN6QixJQUFJQyxRQUFtQjtZQUN2QixJQUFNUSxRQUFRLEdBQUd2QyxJQUFJLENBQUM0QixFQUFFLENBQUMsQ0FBQztZQUUxQixRQUFRbUYsZUFBZTtjQUNuQixLQUFLLGFBQWE7Z0JBQ2RqRixVQUFVLEdBQUc5QixJQUFJLENBQUM0QixFQUFFLENBQUM7a0JBQUEsT0FBTSxLQUFLO2dCQUFBLEVBQUM7Z0JBQ2pDRyxRQUFRLEdBQUcvQixJQUFJLENBQUM0QixFQUFFLENBQUM7a0JBQUEsT0FBTSxJQUFJO2dCQUFBLEVBQUM7Z0JBQzlCO2NBQ0osS0FBSyxVQUFVO2dCQUNYRSxVQUFVLEdBQUc5QixJQUFJLENBQUM0QixFQUFFLENBQUM7a0JBQUEsT0FBTSxJQUFJO2dCQUFBLEVBQUM7Z0JBQ2hDRyxRQUFRLEdBQUcvQixJQUFJLENBQUM0QixFQUFFLENBQUM7a0JBQUEsT0FBTztvQkFBRVYsUUFBUSxFQUFFO2tCQUFLLENBQUM7Z0JBQUEsQ0FBQyxDQUFDO2dCQUM5QztjQUNKLEtBQUssV0FBVztnQkFDWlksVUFBVSxHQUFHOUIsSUFBSSxDQUFDNEIsRUFBRSxDQUFDO2tCQUFBLE9BQU0sSUFBSTtnQkFBQSxFQUFDO2dCQUNoQ0csUUFBUSxHQUFHL0IsSUFBSSxDQUFDNEIsRUFBRSxDQUFDO2tCQUFBLE9BQU87b0JBQUVWLFFBQVEsRUFBRTtrQkFBYyxDQUFDO2dCQUFBLENBQUMsQ0FBQztnQkFDdkRxQixRQUFRLENBQUNDLGlCQUFpQixDQUFDLElBQUlDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2dCQUN4RDtZQUNSO1lBRUFaLE9BQU8sQ0FBQ0csaUJBQWlCLENBQUM7Y0FDdEJDLE1BQU0sRUFBRUgsVUFBVTtjQUNsQkksSUFBSSxFQUFFSDtZQUNWLENBQUMsQ0FBQztZQUNGSixPQUFPLENBQUNRLGVBQWUsQ0FBQztjQUFFQyxHQUFHLEVBQUVQO1lBQVEsQ0FBQyxDQUFDO1lBRXpDLElBQU1RLGFBQWEsR0FBRztjQUFFQyxHQUFHLEVBQUVYO1lBQVEsQ0FBQztZQUN0QyxJQUFNZSxhQUFhLEdBQUc7Y0FBRUMsSUFBSSxFQUFFSjtZQUFTLENBQUM7WUFHeEMsSUFBTWdGLDJCQUEyQjtjQUFBLElBQUFDLE1BQUEsT0FBQXJILGtCQUFBLENBQUFDLE9BQUEsRUFBRyxXQUNoQzBDLEtBQXVCLEVBQ3ZCQyxTQUErQixFQUMvQkMsU0FBK0IsRUFDOUI7Z0JBQ0QsSUFBSTtrQkFDQSxJQUFNQyxXQUFXLEdBQUdGLFNBQVMsQ0FBQ1QsR0FBRyxDQUM3QixTQUFTUSxLQUFLLENBQUNoQyxVQUFVLEVBQzdCLENBQUM7a0JBQ0QsSUFBTW9DLFdBQVcsU0FBU0QsV0FBVyxDQUFDYixHQUFHLENBQUMsQ0FBQztrQkFFM0MsSUFBSSxDQUFDYyxXQUFXLENBQUNqQixNQUFNLENBQUMsQ0FBQyxFQUFFO29CQUN2QmtCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFlBQVlOLEtBQUssQ0FBQ2hDLFVBQVUsWUFBWSxDQUFDO29CQUNyRDtrQkFDSjtrQkFFQSxJQUFNRyxZQUFZLEdBQUdpQyxXQUFXLENBQUNoQixJQUFJLENBQUMsQ0FBQztrQkFDdkMsSUFBTWhCLFFBQVEsR0FBR0QsWUFBWSxvQkFBWkEsWUFBWSxDQUFFQyxRQUFRO2tCQUV2QyxJQUFJLENBQUNBLFFBQVEsRUFBRTtvQkFDWGlDLE9BQU8sQ0FBQ0MsR0FBRyxDQUNQLFlBQVlOLEtBQUssQ0FBQ2hDLFVBQVUsbUJBQ2hDLENBQUM7b0JBQ0Q7a0JBQ0o7a0JBRUEsSUFBTXVDLE9BQU8sR0FBRztvQkFDWkMsS0FBSyxFQUFFcEMsUUFBUTtvQkFDZnFDLFlBQVksRUFBRTtzQkFDVkMsS0FBSyxFQUFFLE1BQU1WLEtBQUssQ0FBQ2pDLFVBQVUsY0FBYztzQkFDM0M0QyxJQUFJLEVBQUUsaUJBQWlCWCxLQUFLLENBQUM5QixlQUFlO29CQUNoRDtrQkFDSixDQUFDO2tCQUVELE1BQU1nQyxTQUFTLENBQUNMLElBQUksQ0FBQ1UsT0FBTyxDQUFDO2tCQUM3QkYsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLENBQUM7Z0JBQ3ZELENBQUMsQ0FBQyxPQUFPTyxLQUFLLEVBQUU7a0JBQ1pSLE9BQU8sQ0FBQ1EsS0FBSyxDQUFDLG1DQUFtQyxFQUFFQSxLQUFLLENBQUM7Z0JBQzdEO2NBQ0osQ0FBQztjQUFBLGdCQXZDSzRELDJCQUEyQkEsQ0FBQUUsSUFBQSxFQUFBQyxJQUFBLEVBQUFDLElBQUE7Z0JBQUEsT0FBQUgsTUFBQSxDQUFBekQsS0FBQSxPQUFBQyxTQUFBO2NBQUE7WUFBQSxHQXVDaEM7WUFHRCxNQUFNdUQsMkJBQTJCLENBQzdCL0csU0FBUyxFQUNUNkIsYUFBYSxFQUNiSyxhQUNKLENBQUM7WUFHRCxRQUFRcUUsZUFBZTtjQUNuQixLQUFLLGFBQWE7Z0JBQ2Q5QyxNQUFNLENBQUNpRCxXQUFXLENBQUMsQ0FBQ1UsU0FBUyxDQUN6QixZQUFZcEgsU0FBUyxDQUFDTSxVQUFVLFlBQ3BDLENBQUM7Z0JBQ0RtRCxNQUFNLENBQUNrRCxhQUFhLENBQUMsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsQ0FBQztnQkFDckM7Y0FDSixLQUFLLFVBQVU7Z0JBQ1g1RCxNQUFNLENBQUNpRCxXQUFXLENBQUMsQ0FBQ1UsU0FBUyxDQUN6QixZQUFZcEgsU0FBUyxDQUFDTSxVQUFVLG1CQUNwQyxDQUFDO2dCQUNEbUQsTUFBTSxDQUFDa0QsYUFBYSxDQUFDLENBQUNVLFlBQVksQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDO2NBQ0osS0FBSyxXQUFXO2dCQUNaNUQsTUFBTSxDQUFDa0QsYUFBYSxDQUFDLENBQUNTLFNBQVMsQ0FDM0IsbUNBQ0osQ0FBQztnQkFDRDtZQUNSO1VBSUosQ0FBQyxTQUFTO1lBRU56RSxPQUFPLENBQUNDLEdBQUcsR0FBR2dFLFdBQVc7WUFDekJqRSxPQUFPLENBQUNRLEtBQUssR0FBRzBELGFBQWE7VUFDakM7UUFDSixDQUFDO1FBQUEsaUJBQUFTLElBQUE7VUFBQSxPQUFBZCxNQUFBLENBQUFqRCxLQUFBLE9BQUFDLFNBQUE7UUFBQTtNQUFBLEdBQ0wsQ0FBQyxFQUNEO1FBQUVTLE9BQU8sRUFBRTtNQUFHLENBQ2xCLENBQUM7SUFDTCxDQUFDLEVBQUM7RUFDTixDQUFDLENBQUM7QUFDTixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=