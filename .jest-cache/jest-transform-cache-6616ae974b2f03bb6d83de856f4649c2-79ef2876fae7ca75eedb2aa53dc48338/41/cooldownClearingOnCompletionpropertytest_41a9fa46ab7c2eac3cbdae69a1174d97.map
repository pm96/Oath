{"version":3,"names":["_getJestObj","mock","addDoc","jest","fn","getDocs","query","where","orderBy","limit","onSnapshot","serverTimestamp","seconds","Date","now","Timestamp","fromDate","date","toDate","getTime","nanoseconds","getNudgesCollection","path","getUserFriendlyErrorMessage","error","message","retryWithBackoff","_ref","_asyncToGenerator2","default","_x","apply","arguments","_interopRequireWildcard","require","_interopRequireDefault","fc","_nudgeService","_goalStatusCalculator","_require","createTestGoal","nextDeadline","latestCompletionDate","length","undefined","id","ownerId","description","frequency","targetDays","currentStatus","isShared","type","targetTime","createdAt","redSince","difficulty","isSameDay","date1","date2","getFullYear","getMonth","getDate","describe","beforeEach","clearAllMocks","it","mockGetDocs","assert","asyncProperty","record","userId","string","minLength","maxLength","goalId","hoursFromNow","float","min","Math","fround","max","minutesIntoCooldown","integer","_ref4","_ref3","pre","isNaN","deadline","completionDate","cooldownEnd","goal","mockResolvedValue","docs","data","cooldownUntil","shouldShow","shouldShowNudgeButton","expect","toBe","_x2","numRuns","_ref7","_ref6","incompleteGoal","canNudgeIncomplete","canSendNudge","shouldShowIncomplete","completedGoal","canNudgeCompleted","shouldShowCompleted","_x3","property","cooldownMinutesRemaining","_ref9","isCompleted","boolean","_ref1"],"sources":["cooldownClearingOnCompletion.property.test.ts"],"sourcesContent":["/**\n * Property-Based Tests for Cooldown Clearing on Completion\n * Feature: social-nudging-feed\n */\n\nimport * as fc from \"fast-check\";\nimport { Goal } from \"../services/firebase/collections\";\nimport { canSendNudge } from \"../services/firebase/nudgeService\";\nimport { shouldShowNudgeButton } from \"../utils/goalStatusCalculator\";\n\n// Mock Firebase functions for testing\njest.mock(\"firebase/firestore\", () => ({\n    addDoc: jest.fn(),\n    getDocs: jest.fn(),\n    query: jest.fn(),\n    where: jest.fn(),\n    orderBy: jest.fn(),\n    limit: jest.fn(),\n    onSnapshot: jest.fn(),\n    serverTimestamp: jest.fn(() => ({ seconds: Date.now() / 1000 })),\n    Timestamp: {\n        fromDate: jest.fn((date: Date) => ({\n            toDate: () => date,\n            seconds: date.getTime() / 1000,\n            nanoseconds: 0,\n        })),\n    },\n}));\n\njest.mock(\"../services/firebase/collections\", () => ({\n    getNudgesCollection: jest.fn(() => ({ path: \"test-collection\" })),\n}));\n\njest.mock(\"@/utils/errorHandling\", () => ({\n    getUserFriendlyErrorMessage: jest.fn(\n        (error: any) => error.message || \"Unknown error\",\n    ),\n    retryWithBackoff: jest.fn(async (fn: () => Promise<any>) => await fn()),\n}));\n\n/**\n * Helper function to create a test goal\n */\nfunction createTestGoal(\n    nextDeadline: Date,\n    latestCompletionDate: Date | null = null,\n): Goal {\n    return {\n        id: \"test-goal-1\",\n        ownerId: \"test-user-1\",\n        description: \"Test goal\",\n        frequency: \"daily\" as const,\n        targetDays: [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\"],\n        latestCompletionDate,\n        currentStatus: \"Green\" as const,\n        nextDeadline,\n        isShared: true,\n        type: \"flexible\",\n        targetTime: null,\n        createdAt: new Date(),\n        redSince: null,\n        difficulty: \"medium\" as const,\n    };\n}\n\n/**\n * Helper function to check if two dates are on the same day\n */\nfunction isSameDay(date1: Date, date2: Date): boolean {\n    return (\n        date1.getFullYear() === date2.getFullYear() &&\n        date1.getMonth() === date2.getMonth() &&\n        date1.getDate() === date2.getDate()\n    );\n}\n\ndescribe(\"Cooldown Clearing on Completion Property-Based Tests\", () => {\n    beforeEach(() => {\n        jest.clearAllMocks();\n    });\n\n    /**\n     * **Feature: social-nudging-feed, Property 15: Cooldown clearing on completion**\n     * **Validates: Requirements 4.5**\n     */\n    describe(\"Property 15: Cooldown clearing on completion\", () => {\n        it(\"should hide nudge button for completed goals regardless of active cooldowns\", async () => {\n            const mockGetDocs = require(\"firebase/firestore\").getDocs as jest.Mock;\n\n            await fc.assert(\n                fc.asyncProperty(\n                    fc.record({\n                        userId: fc.string({ minLength: 1, maxLength: 50 }),\n                        goalId: fc.string({ minLength: 1, maxLength: 50 }),\n                        hoursFromNow: fc.float({\n                            min: Math.fround(0.1),\n                            max: Math.fround(1.9),\n                        }), // Would normally be red/at-risk\n                        minutesIntoCooldown: fc.integer({ min: 1, max: 59 }), // Active cooldown\n                    }),\n                    async ({ userId, goalId, hoursFromNow, minutesIntoCooldown }) => {\n                        fc.pre(!isNaN(hoursFromNow)); // Exclude NaN values\n\n                        const now = new Date();\n                        const deadline = new Date(\n                            now.getTime() + hoursFromNow * 60 * 60 * 1000,\n                        );\n                        const completionDate = new Date(); // Completed today\n                        const cooldownEnd = new Date(\n                            now.getTime() + (60 - minutesIntoCooldown) * 60 * 1000,\n                        ); // Active cooldown\n\n                        // Create a completed goal that would normally be at-risk\n                        const goal = createTestGoal(deadline, completionDate);\n\n                        // Mock active cooldown for this goal\n                        mockGetDocs.mockResolvedValue({\n                            docs: [\n                                {\n                                    data: () => ({\n                                        goalId,\n                                        cooldownUntil: {\n                                            toDate: () => cooldownEnd,\n                                        },\n                                    }),\n                                },\n                            ],\n                        });\n\n                        // Test that nudge button should be hidden despite active cooldown\n                        const shouldShow = shouldShowNudgeButton(goal);\n\n                        // For completed goals, nudge button should always be hidden\n                        expect(shouldShow).toBe(false);\n\n                        // The goal completion status should override cooldown considerations\n                        // This validates that completion takes precedence over cooldown state\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n\n        it(\"should allow nudging again after goal completion clears implicit cooldown\", async () => {\n            const mockGetDocs = require(\"firebase/firestore\").getDocs as jest.Mock;\n\n            await fc.assert(\n                fc.asyncProperty(\n                    fc.record({\n                        userId: fc.string({ minLength: 1, maxLength: 50 }),\n                        goalId: fc.string({ minLength: 1, maxLength: 50 }),\n                        hoursFromNow: fc.float({\n                            min: Math.fround(0.1),\n                            max: Math.fround(1.9),\n                        }), // At-risk deadline\n                        minutesIntoCooldown: fc.integer({ min: 1, max: 59 }), // Active cooldown\n                    }),\n                    async ({ userId, goalId, hoursFromNow, minutesIntoCooldown }) => {\n                        fc.pre(!isNaN(hoursFromNow)); // Exclude NaN values\n\n                        const now = new Date();\n                        const deadline = new Date(\n                            now.getTime() + hoursFromNow * 60 * 60 * 1000,\n                        );\n                        const cooldownEnd = new Date(\n                            now.getTime() + (60 - minutesIntoCooldown) * 60 * 1000,\n                        ); // Active cooldown\n\n                        // Test scenario 1: Goal with active cooldown (not completed)\n                        const incompleteGoal = createTestGoal(deadline, null);\n\n                        // Mock active cooldown\n                        mockGetDocs.mockResolvedValue({\n                            docs: [\n                                {\n                                    data: () => ({\n                                        goalId,\n                                        cooldownUntil: {\n                                            toDate: () => cooldownEnd,\n                                        },\n                                    }),\n                                },\n                            ],\n                        });\n\n                        const canNudgeIncomplete = await canSendNudge(userId, goalId);\n                        const shouldShowIncomplete = shouldShowNudgeButton(incompleteGoal);\n\n                        // Should not be able to nudge due to cooldown\n                        expect(canNudgeIncomplete).toBe(false);\n                        expect(shouldShowIncomplete).toBe(true); // Button would show if no cooldown\n\n                        // Test scenario 2: Same goal but now completed\n                        const completedGoal = createTestGoal(deadline, new Date());\n\n                        // Mock no active cooldowns (completion should clear them conceptually)\n                        mockGetDocs.mockResolvedValue({ docs: [] });\n\n                        const canNudgeCompleted = await canSendNudge(userId, goalId);\n                        const shouldShowCompleted = shouldShowNudgeButton(completedGoal);\n\n                        // After completion, cooldown should be conceptually cleared\n                        expect(canNudgeCompleted).toBe(true);\n                        expect(shouldShowCompleted).toBe(false); // But button hidden because completed\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n\n        it(\"should not show nudge button for goals completed during any cooldown period\", async () => {\n            await fc.assert(\n                fc.property(\n                    fc.record({\n                        hoursFromNow: fc.float({\n                            min: Math.fround(-24.0),\n                            max: Math.fround(24.0),\n                        }), // Any deadline\n                        cooldownMinutesRemaining: fc.integer({ min: 1, max: 60 }), // Any active cooldown\n                    }),\n                    ({ hoursFromNow, cooldownMinutesRemaining }) => {\n                        fc.pre(!isNaN(hoursFromNow)); // Exclude NaN values\n\n                        const now = new Date();\n                        const deadline = new Date(\n                            now.getTime() + hoursFromNow * 60 * 60 * 1000,\n                        );\n                        const completionDate = new Date(); // Completed today\n\n                        // Create completed goal\n                        const goal = createTestGoal(deadline, completionDate);\n\n                        // Test that nudge button is hidden regardless of cooldown state\n                        const shouldShow = shouldShowNudgeButton(goal);\n\n                        // Completed goals should never show nudge button, regardless of:\n                        // - Deadline proximity (could be overdue, at-risk, or safe)\n                        // - Active cooldown status\n                        expect(shouldShow).toBe(false);\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n\n        it(\"should prioritize completion status over cooldown state in UI logic\", async () => {\n            await fc.assert(\n                fc.property(\n                    fc.record({\n                        hoursFromNow: fc.float({\n                            min: Math.fround(0.1),\n                            max: Math.fround(1.9),\n                        }), // Critical deadline (red)\n                        isCompleted: fc.boolean(),\n                    }),\n                    ({ hoursFromNow, isCompleted }) => {\n                        fc.pre(!isNaN(hoursFromNow)); // Exclude NaN values\n\n                        const now = new Date();\n                        const deadline = new Date(\n                            now.getTime() + hoursFromNow * 60 * 60 * 1000,\n                        );\n                        const completionDate = isCompleted ? new Date() : null;\n\n                        const goal = createTestGoal(deadline, completionDate);\n                        const shouldShow = shouldShowNudgeButton(goal);\n\n                        if (isCompleted) {\n                            // Completed goals should never show nudge button\n                            expect(shouldShow).toBe(false);\n                        } else {\n                            // Incomplete at-risk goals should show nudge button (if no cooldown)\n                            expect(shouldShow).toBe(true);\n                        }\n\n                        // This validates that completion status is the primary factor\n                        // in determining nudge button visibility, overriding cooldown considerations\n                    },\n                ),\n                { numRuns: 20 },\n            );\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}